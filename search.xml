<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Accessæ•°æ®å¯¼å‡ºåˆ°MySQL</title>
    <url>/2021/12/01/Access%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E5%88%B0MySQL/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€å®‰è£…MySQLçš„ODBCé©±åŠ¨"><a href="#ä¸€ã€å®‰è£…MySQLçš„ODBCé©±åŠ¨" class="headerlink" title="ä¸€ã€å®‰è£…MySQLçš„ODBCé©±åŠ¨"></a>ä¸€ã€å®‰è£…<code>MySQL</code>çš„<code>ODBC</code>é©±åŠ¨</h1><p><a href="https://dev.mysql.com/downloads/connector/odbc/">MySQL Community Downloads Connector/ODBCä¸‹è½½åœ°å€</a><br>æ ¹æ®<code>access</code>ç‰ˆæœ¬é€‰æ‹©<code>32ä½</code>æˆ–è€…<code>64ä½</code>,å®Œæˆå®‰è£…ã€‚  </p>
<h1 id="äºŒã€å¯¼å‡ºAccessè¡¨åˆ°MySQL"><a href="#äºŒã€å¯¼å‡ºAccessè¡¨åˆ°MySQL" class="headerlink" title="äºŒã€å¯¼å‡ºAccessè¡¨åˆ°MySQL"></a>äºŒã€å¯¼å‡º<code>Access</code>è¡¨åˆ°<code>MySQL</code></h1><h2 id="1ã€æ‰“å¼€Access-åœ¨Accessä¸­å³é”®é€‰æ‹©è¦å¯¼å‡ºçš„è¡¨ã€‚"><a href="#1ã€æ‰“å¼€Access-åœ¨Accessä¸­å³é”®é€‰æ‹©è¦å¯¼å‡ºçš„è¡¨ã€‚" class="headerlink" title="1ã€æ‰“å¼€Access,åœ¨Accessä¸­å³é”®é€‰æ‹©è¦å¯¼å‡ºçš„è¡¨ã€‚"></a>1ã€æ‰“å¼€<code>Access</code>,åœ¨<code>Access</code>ä¸­å³é”®é€‰æ‹©è¦å¯¼å‡ºçš„è¡¨ã€‚</h2><p>ä¾æ¬¡é€‰æ‹©<code>å¯¼å‡º</code>â€”&gt;<code>ODBCæ•°æ®åº“</code>â€”&gt;<code>ç¡®å®š</code>â€”&gt;<code>æœºå™¨æºæ•°æ®</code>â€”&gt;<code>ç¡®å®š</code>â€”&gt;<code>ç”¨æˆ·æ•°æ®æº</code>â€”&gt;<code>ä¸‹ä¸€é¡µ</code>â€”&gt;<code>MySQL ODBC 8.0 Unicode Driver</code>â€”&gt;<code>å®Œæˆ</code>ã€‚å¦‚å›¾ï¼š<br><img src="\pic\2021\12\access2mysql-1.png" alt="access2mysql-1.png"><br><img src="\pic\2021\12\access2mysql-2.png" alt="access2mysql-2.png"><br><img src="\pic\2021\12\access2mysql-3.png" alt="access2mysql-3.png"><br>åœ¨å¼¹çª—é‡Œæ ¹æ®è‡ªå·±æƒ…å†µå¡«å…¥å¦‚å›¾æ•°æ®ï¼š<br><img src="\pic\2021\12\access2mysql-4.png" alt="access2mysql-4.png"></p>
<h1 id="ä¸‰ã€è¿›å…¥MySQLæŸ¥çœ‹æ•°æ®"><a href="#ä¸‰ã€è¿›å…¥MySQLæŸ¥çœ‹æ•°æ®" class="headerlink" title="ä¸‰ã€è¿›å…¥MySQLæŸ¥çœ‹æ•°æ®"></a>ä¸‰ã€è¿›å…¥<code>MySQL</code>æŸ¥çœ‹æ•°æ®</h1><p>è¿›å…¥<code>MySQL</code>æŸ¥çœ‹å¯¼å…¥çš„æ•°æ®ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS C:\Users\XXX&gt; mysql -uç”¨æˆ·å -p study_test</span><br><span class="line">Enter password: ******</span><br><span class="line">...</span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+----------------------+</span><br><span class="line">| Tables_in_study_test |</span><br><span class="line">+----------------------+</span><br><span class="line">| stuinfo              |</span><br><span class="line">| usr_score_table      |</span><br><span class="line">| usr_table            |</span><br><span class="line">+----------------------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select count(*) from stuinfo;</span><br><span class="line">+----------+</span><br><span class="line">| count(*) |</span><br><span class="line">+----------+</span><br><span class="line">|      451 |</span><br><span class="line">+----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure><br>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="\pic\2021\12\access2mysql-5.png" alt="access2mysql-5.png"></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>Access</category>
        <category>è¿ç»´</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>æ•°æ®å¯¼å‡º</tag>
        <tag>Access</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Aptå‡çº§æç¤ºdpkg error processing package libc-biné”™è¯¯è§£å†³åŠæ³•</title>
    <url>/2021/07/01/Apt%E5%8D%87%E7%BA%A7%E6%8F%90%E7%A4%BAdpkg%20error%20processing%20package%20libc-bin%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç”¨<code>apt</code>å·¥å…·è¿›è¡Œå®‰è£…æˆ–å¸è½½æ—¶æç¤ºâ€œ<code>dpkg: error processing package libc-bin (--configure)</code>â€é”™è¯¯ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dpkg: error processing package libc-bin (--configure):</span><br><span class="line"> installed libc-bin package post-installation script subprocess returned error <span class="built_in">exit</span> status 134</span><br><span class="line">Errors were encountered <span class="keyword">while</span> processing:</span><br><span class="line"> libc-bin</span><br><span class="line">E: Sub-process /usr/bin/dpkg returned an error code (1)</span><br></pre></td></tr></table></figure></p>
<p>ä»¥ä¸‹æ˜¯è§£å†³åŠæ³•    </p>
<h1 id="1-ç™»å½•rootè´¦æˆ·"><a href="#1-ç™»å½•rootè´¦æˆ·" class="headerlink" title="1.ç™»å½•rootè´¦æˆ·"></a>1.ç™»å½•<code>root</code>è´¦æˆ·</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€(ykã‰¿yk-pc)-[~]</span><br><span class="line">â””â”€$ sudo su                                         <span class="comment"># åˆ‡æ¢åˆ°rootç”¨æˆ·</span></span><br></pre></td></tr></table></figure>
<h1 id="2-è¿è¡Œä¸€ä¸‹å‘½ä»¤"><a href="#2-è¿è¡Œä¸€ä¸‹å‘½ä»¤" class="headerlink" title="2.è¿è¡Œä¸€ä¸‹å‘½ä»¤"></a>2.è¿è¡Œä¸€ä¸‹å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># mv /var/lib/dpkg/info/ /var/lib/dpkg/info_old/   # å¤‡ä»½ä¿å­˜çš„å„ä¸ªè½¯ä»¶åŒ…çš„é…ç½®æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># mkdir /var/lib/dpkg/info/                        # æ–°å»ºä¿å­˜çš„å„ä¸ªè½¯ä»¶åŒ…çš„é…ç½®æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶å¤¹</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># apt update                                       # é‡æ–°è·å–è½¯ä»¶åŒ…åˆ—è¡¨</span></span><br><span class="line">Hit:1 http://mirrors.neusoft.edu.cn/kali kali-rolling InRelease</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">20 packages can be upgraded. Run <span class="string">&#x27;apt list --upgradable&#x27;</span> to see them.</span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># apt -f install                                   # å°è¯•ä¿®æ­£ç³»ç»Ÿä¾èµ–æŸåå¤„ </span></span><br><span class="line"> <span class="comment"># ä»¥ä¸‹å†…å®¹çœç•¥</span></span><br><span class="line"> <span class="comment"># ......</span></span><br><span class="line"> <span class="comment"># ......</span></span><br><span class="line"> <span class="comment"># ......</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># mv /var/lib/dpkg/info/* /var/lib/dpkg/info_old/  # å¤‡ä»½ä¿å­˜çš„å„ä¸ªè½¯ä»¶åŒ…çš„é…ç½®æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># rm -rf /var/lib/dpkg/info                        # åˆ é™¤å„ä¸ªè½¯ä»¶åŒ…çš„é…ç½®æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># mv /var/lib/dpkg/info_old/ /var/lib/dpkg/info    # é‡æ–°æ¢å¤ä¿å­˜çš„å„ä¸ªè½¯ä»¶åŒ…çš„é…ç½®æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h1 id="3-éªŒè¯æ˜¯å¦æˆåŠŸ"><a href="#3-éªŒè¯æ˜¯å¦æˆåŠŸ" class="headerlink" title="3.éªŒè¯æ˜¯å¦æˆåŠŸ"></a>3.éªŒè¯æ˜¯å¦æˆåŠŸ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># apt -f install                                    # å°è¯•ä¿®æ­£ç³»ç»Ÿä¾èµ–æŸåå¤„ </span></span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 20 not upgraded.</span><br></pre></td></tr></table></figure>
<h1 id="4-é‡æ–°å‡çº§"><a href="#4-é‡æ–°å‡çº§" class="headerlink" title="4.é‡æ–°å‡çº§"></a>4.é‡æ–°å‡çº§</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]                         </span><br><span class="line">â””â”€$ apt upgrade                                        <span class="comment"># é‡æ–°è·å–è½¯ä»¶åŒ…åˆ—è¡¨</span></span><br><span class="line">â”Œâ”€â”€(rootğŸ’€yk-pc)-[/home/yk]</span><br><span class="line">â””â”€<span class="comment"># apt upgrade -y                                     # æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</span></span><br></pre></td></tr></table></figure>
<h1 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5.å‚è€ƒèµ„æ–™"></a>5.å‚è€ƒèµ„æ–™</h1><p><a href="https://www.cnblogs.com/live41/p/14237280.html">dpkg: error processing package xxx (â€”configure)çš„è§£å†³æ–¹æ³•</a></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Linux</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Apt</tag>
        <tag>é—®é¢˜è§£å†³</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title>Aria2åœ¨windows10ä¸‹çš„é…ç½®</title>
    <url>/2020/11/05/Aria2%E5%9C%A8window10%E4%B8%8B%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€aria2è®¾ç½®aira2-confæ–‡ä»¶"><a href="#1ã€aria2è®¾ç½®aira2-confæ–‡ä»¶" class="headerlink" title="1ã€aria2è®¾ç½®aira2.confæ–‡ä»¶"></a>1ã€<code>aria2</code>è®¾ç½®<code>aira2.conf</code>æ–‡ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ä¸‹è½½æ–‡ä»¶é»˜è®¤ä¿å­˜è·¯å¾„</span><br><span class="line">&lt;code&gt;dir=F:\MyDownload\Aria2\</span><br><span class="line">### æ—¥å¿—æ–‡ä»¶ä¿å­˜è·¯å¾„åŠçº§åˆ«ï¼Œå¯é€‰ debug, info, notice, warn, error ã€‚é»˜è®¤ï¼šdebug</span><br><span class="line">log=E:\Aria2\aria2.log</span><br><span class="line">log-level=error</span><br><span class="line"># ä»ä¼šè¯ä¸­è¯»å–ä»»åŠ¡</span><br><span class="line">input-file=E:\Aria2\aria2.session</span><br><span class="line"># åœ¨Aria2é€€å‡ºæ—¶ä¿å­˜`é”™è¯¯/æœªå®Œæˆ`çš„ä¸‹è½½ä»»åŠ¡åˆ°ä¼šè¯æ–‡ä»¶</span><br><span class="line">save-session=E:\Aria2\aria2.session</span><br><span class="line">#é…ç½®dht.datæ–‡ä»¶å­˜æ”¾ä½ç½®</span><br><span class="line">dht-file-path=E:\Aria2\dht.dat&lt;/code&gt;</span><br><span class="line"># å®šæ—¶ä¿å­˜ä¼šè¯, 0ä¸ºé€€å‡ºæ—¶æ‰ä¿å­˜, éœ€1.16.1ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:0</span><br><span class="line">save-session-interval=60</span><br><span class="line"># å¼ºåˆ¶ä¿å­˜ä¼šè¯, å³ä½¿ä»»åŠ¡å·²ç»å®Œæˆ, é»˜è®¤:false</span><br><span class="line"># è¾ƒæ–°çš„ç‰ˆæœ¬å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¾ç„¶ä¿ç•™.aria2æ–‡ä»¶</span><br><span class="line">force-save=true</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½é€‰é¡¹</span><br><span class="line"># æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5</span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line"># æ–­ç‚¹ç»­ä¼ </span><br><span class="line">continue=true</span><br><span class="line"># æ•´ä½“ä¸‹è½½é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 </span><br><span class="line">max-overall-download-limit=5M</span><br><span class="line"># å•ä¸ªä»»åŠ¡ä¸‹è½½é€Ÿåº¦é™åˆ¶, é»˜è®¤:0</span><br><span class="line">max-download-limit=10M</span><br><span class="line"># æ•´ä½“ä¸Šä¼ é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0</span><br><span class="line">max-overall-upload-limit=1K</span><br><span class="line"># å•ä¸ªä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0</span><br><span class="line">max-upload-limit=1K</span><br><span class="line"></span><br><span class="line"># Http/FTP é€‰é¡¹</span><br><span class="line"># è¿æ¥è¶…æ—¶ï¼Œå»ºç«‹é“¾æ¥åå¤±æ•ˆ</span><br><span class="line">connect-timeout=120</span><br><span class="line"># æœ€å°é€Ÿåº¦é™åˆ¶</span><br><span class="line"># å½“ä¸‹è½½é€Ÿåº¦ä½äºæ­¤é€‰é¡¹è®¾ç½®çš„å€¼(B/s) æ—¶å°†ä¼šå…³é—­è¿æ¥. 0 è¡¨ç¤ºä¸è®¾ç½®æœ€å°é€Ÿåº¦é™åˆ¶. </span><br><span class="line">lowest-speed-limit=1K</span><br><span class="line"># åŒä¸€æœåŠ¡å™¨è¿æ¥æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1,èŒƒå›´1-16</span><br><span class="line">max-connection-per-server=15</span><br><span class="line"># æ–‡ä»¶æœªæ‰¾åˆ°é‡è¯•æ¬¡æ•°</span><br><span class="line"># è®¾ç½®ä¸º 0 å°†ä¼šç¦ç”¨æ­¤é€‰é¡¹</span><br><span class="line">max-file-not-found=0</span><br><span class="line"># æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, å–å€¼èŒƒå›´1M -1024M, é»˜è®¤:20M</span><br><span class="line"># å‡å®šsize=10M, æ–‡ä»¶ä¸º20MiB åˆ™ä½¿ç”¨ä¸¤ä¸ªæ¥æºä¸‹è½½; æ–‡ä»¶ä¸º15MiB åˆ™ä½¿ç”¨ä¸€ä¸ªæ¥æºä¸‹è½½</span><br><span class="line">min-split-size=10M</span><br><span class="line"># å•ä¸ªä»»åŠ¡æœ€å¤§çº¿ç¨‹æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5</span><br><span class="line">split=5</span><br><span class="line"># æ£€æŸ¥è¯ä¹¦</span><br><span class="line">check-certificate=false</span><br><span class="line"># ç¦ç”¨ç¼“å­˜</span><br><span class="line">http-no-cache=true</span><br><span class="line"># ç£ç›˜ç¼“å­˜</span><br><span class="line"># å¦‚æœè®¾ç½®ä¸º 0, å°†ç¦ç”¨ç£ç›˜ç¼“å­˜. æ­¤åŠŸèƒ½å°†ä¸‹è½½çš„æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­</span><br><span class="line"># æœ€å¤šå ç”¨æ­¤é€‰é¡¹è®¾ç½®çš„å­—èŠ‚æ•°. </span><br><span class="line">disk-cache=32M</span><br><span class="line"># FTP Specific Options</span><br><span class="line"></span><br><span class="line"># BT/PT Setting</span><br><span class="line"># æœ¬åœ°èŠ‚ç‚¹æŸ¥æ‰¾, PTéœ€è¦ç¦ç”¨, é»˜è®¤:false</span><br><span class="line">bt-enable-lpd=true</span><br><span class="line">#æœ€å¤§è¿æ¥èŠ‚ç‚¹æ•°</span><br><span class="line">#è®¾ç½®æ¯ä¸ªBTä¸‹è½½çš„æœ€å¤§è¿æ¥èŠ‚ç‚¹æ•°. 0 è¡¨ç¤ºä¸é™åˆ¶.</span><br><span class="line">bt-max-peers=100</span><br><span class="line"># è‡ªåŠ¨BTä»»åŠ¡</span><br><span class="line">follow-torrent=true</span><br><span class="line"></span><br><span class="line"># å¯ç”¨ DHT (IPv6)</span><br><span class="line"># å¯ç”¨ IPv6 DHT åŠŸèƒ½. å¦‚æœç§å­è®¾ç½®ä¸ºç§æœ‰, å³ä½¿æ­¤é€‰é¡¹è®¾ç½®ä¸º&quot;æ˜¯&quot;, aria2 ä¹Ÿä¸ä¼šå¯ç”¨</span><br><span class="line">enable-dht6=true</span><br><span class="line">enable-dht=true</span><br><span class="line">dht-listen-port=6881-6999</span><br><span class="line"></span><br><span class="line"># ä¸æ£€æŸ¥å·²ç»ä¸‹è½½çš„æ–‡ä»¶</span><br><span class="line"># ä¸æ£€æŸ¥ä¹‹å‰ä¸‹è½½æ–‡ä»¶ä¸­æ¯ä¸ªåˆ†ç‰‡çš„å“ˆå¸Œå€¼.</span><br><span class="line">bt-seed-unverified=false</span><br><span class="line"># åšç§å‰æ£€æŸ¥æ–‡ä»¶å“ˆå¸Œ</span><br><span class="line"># å¦‚æœè®¾ç½®ä¸º&quot;æ˜¯&quot;, å½“ä½¿ç”¨ --check-integrity é€‰é¡¹å®Œæˆå“ˆå¸Œæ£€æŸ¥åŠæ–‡ä»¶å®Œæˆåæ‰ç»§ç»­åšç§. å¦‚æœæ‚¨å¸Œæœ›ä»…å½“æ–‡ä»¶æŸåæˆ–æœªå®Œæˆæ—¶æ£€æŸ¥æ–‡ä»¶, è¯·è®¾ç½®ä¸º&quot;å¦&quot;. æ­¤é€‰é¡¹ä»…å¯¹ BT ä¸‹è½½æœ‰æ•ˆ</span><br><span class="line">bt-hash-check-seed=false</span><br><span class="line"># ä¿å­˜ä¸Šä¼ çš„ç§å­æ–‡ä»¶</span><br><span class="line">rpc-save-upload-metadata=true</span><br><span class="line"># åˆ é™¤æœªé€‰æ‹©çš„æ–‡ä»¶</span><br><span class="line"># å½“ BT ä»»åŠ¡å®Œæˆååˆ é™¤æœªé€‰æ‹©çš„æ–‡ä»¶. è¦é€‰æ‹©éœ€è¦ä¸‹è½½çš„æ–‡ä»¶, è¯·ä½¿ç”¨ --select-fileé€‰é¡¹. </span><br><span class="line"># å¦‚æœæ²¡æœ‰é€‰æ‹©, åˆ™æ‰€æœ‰æ–‡ä»¶éƒ½é»˜è®¤ä¸ºéœ€è¦ä¸‹è½½. æ­¤é€‰é¡¹ä¼šä»ç£ç›˜ä¸Šç›´æ¥åˆ é™¤æ–‡ä»¶, </span><br><span class="line"># è¯·è°¨æ…ä½¿ç”¨æ­¤é€‰é¡¹.</span><br><span class="line">bt-remove-unselected-file=false</span><br><span class="line"># æ¯ä¸ªç§å­é™é€Ÿ, å¯¹å°‘ç§çš„PTå¾ˆæœ‰ç”¨, é»˜è®¤:50K</span><br><span class="line">bt-request-peer-speed-limit=2M</span><br><span class="line">#åšç§æ—¶é—´</span><br><span class="line">seed-time=0</span><br><span class="line">#ä¼˜å…ˆä¸‹è½½</span><br><span class="line">bt-prioritize-piece=head=10M</span><br><span class="line"># å½“ç§å­çš„åˆ†äº«ç‡è¾¾åˆ°è¿™ä¸ªæ•°æ—¶, è‡ªåŠ¨åœæ­¢åšç§, 0ä¸ºä¸€ç›´åšç§, é»˜è®¤:1.0</span><br><span class="line">seed-ratio=1.0</span><br><span class="line"></span><br><span class="line"># Metalink Specific Options</span><br><span class="line"># RPC Options</span><br><span class="line"># å¯ç”¨RPC, é»˜è®¤:false</span><br><span class="line">enable-rpc=true</span><br><span class="line"># ç§å­æ–‡ä»¶ä¸‹è½½å®Œåæš‚åœ</span><br><span class="line">pause-metadata=false</span><br><span class="line"></span><br><span class="line">#ç§å­äº¤æ¢, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true</span><br><span class="line">enable-peer-exchange=true</span><br><span class="line"># å…è®¸æ‰€æœ‰æ¥æº, é»˜è®¤:false</span><br><span class="line">rpc-allow-origin-all=true</span><br><span class="line"># å…è®¸éå¤–éƒ¨è®¿é—®, é»˜è®¤:false</span><br><span class="line">rpc-listen-all=true</span><br><span class="line">#ä¿å­˜ä¸Šä¼ çš„ç§å­æ–‡ä»¶</span><br><span class="line">rpc-save-upload-metadata=true</span><br><span class="line"># å¯ç”¨åŠ å¯†å RPC æœåŠ¡éœ€è¦ä½¿ç”¨ https æˆ–è€… wss åè®®è¿æ¥</span><br><span class="line">rpc-secure=false</span><br><span class="line"></span><br><span class="line"># Advanced Options</span><br><span class="line">#å¯ç”¨åå°è¿›ç¨‹</span><br><span class="line">daemon=true</span><br><span class="line"># ç¦ç”¨IPV6ï¼Œé»˜è®¤ï¼šfalse</span><br><span class="line">disable-ipv6=true</span><br><span class="line"># å¯ç”¨ MMap</span><br><span class="line"># å†…å­˜ä¸­å­˜æ”¾æ˜ å°„æ–‡ä»¶. å½“æ–‡ä»¶ç©ºé—´æ²¡æœ‰é¢„å…ˆåˆ†é…è‡³, æ­¤é€‰é¡¹æ— æ•ˆ. å‚è§ --file-allocation.</span><br><span class="line">enable-mmap=true</span><br><span class="line"># æ–‡ä»¶åˆ†é…æ–¹æ³•  </span><br><span class="line"># &quot;prealloc&quot;ä¼šåœ¨ä¸‹è½½å¼€å§‹å‰é¢„å…ˆåˆ†é…ç©ºé—´.</span><br><span class="line"># ext4 (å¸¦æ‰©å±•æ”¯æŒ), btrfs, xfs æˆ– NTFS (ä»… MinGW æ„å»º), &quot;falloc&quot; æ˜¯æœ€å¥½çš„é€‰æ‹©</span><br><span class="line">file-allocation=falloc </span><br><span class="line">#æœ€å¤šä¸‹è½½ç»“æœ ä¸‹è½½ç»“æœåŒ…æ‹¬å·²å®Œæˆ/é”™è¯¯/å·²åˆ é™¤çš„ä¸‹è½½</span><br><span class="line">max-download-result=30</span><br><span class="line"># æ–‡ä»¶åˆ†é…é™åˆ¶</span><br><span class="line"># ä¸å¯¹æ¯”æ­¤å‚æ•°è®¾ç½®å¤§å°å°çš„åˆ†é…æ–‡ä»¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M </span><br><span class="line">#no-file-allocation-limit=32M</span><br><span class="line"># å¼ºåˆ¶é¡ºåº</span><br><span class="line">force-sequential=true</span><br><span class="line"># å¯ç”¨å‚æ•°åŒ– URI æ”¯æŒ</span><br><span class="line"># æ‚¨å¯ä»¥æŒ‡å®šéƒ¨åˆ†çš„é›†åˆ: http://&#123;sv1,sv2,sv3&#125;/foo.iso. </span><br><span class="line"># åŒæ—¶æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¥è¿›è®¡æ•°å™¨æŒ‡å®šæ•°å­—åŒ–çš„åºåˆ—: http://host/image[000-100:2].img. </span><br><span class="line"># [éœ€ä½¿ç”¨ -z é€‰é¡¹]</span><br><span class="line"># æ­¥è¿›è®¡æ•°å™¨å¯ä»¥çœç•¥.</span><br><span class="line">parameterized-uri=true</span><br><span class="line">#å»¶è¿ŸåŠ è½½</span><br><span class="line">deferred-input=true</span><br><span class="line"></span><br><span class="line"># bt-tracker=BTæœåŠ¡å™¨ï¼ˆå¤šä¸ªæœåŠ¡å™¨ä¹‹é—´ç”¨,åˆ†å¼€ï¼‰</span><br><span class="line">bt-tracker=udp://tracker.coppersurfer.tk:6969/announc,udp://tracker.leechers-paradise.org:6969/announc,udp://tracker.opentrackr.org:1337/announc,udp://p4p.arenabg.com:1337/announc,udp://9.rarbg.to:2710/announc,udp://9.rarbg.me:2710/announc,udp://exodus.desync.com:6969/announc,udp://tracker.pomf.se:80/announc,udp://tracker.openbittorrent.com:80/announc,udp://tracker.tiny-vps.com:6969/announc,udp://open.stealth.si:80/announc,udp://denis.stalker.upeer.me:6969/announc,udp://tracker.torrent.eu.org:451/announc,udp://tracker.moeking.me:6969/announc,udp://tracker.cyberia.is:6969/announc,udp://ipv4.tracker.harry.lu:80/announc,udp://tracker3.itzmx.com:6961/announc,udp://open.demonii.si:1337/announc,udp://explodie.org:6969/announc,udp://valakas.rollo.dnsabr.com:2710/announe</span><br><span class="line"></span><br><span class="line">## æ‰§è¡Œé¢å¤–å‘½ä»¤ ##</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line"># ä» æ­£åœ¨ä¸‹è½½ åˆ° åˆ é™¤ã€é”™è¯¯ã€å®Œæˆ æ—¶è§¦å‘ã€‚æš‚åœè¢«æ ‡è®°ä¸ºæœªå¼€å§‹ä¸‹è½½ï¼Œæ•…ä¸æ­¤é¡¹æ— å…³ã€‚</span><br><span class="line">on-download-stop=/etc/aria2/delete.sh</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line"># æ­¤é¡¹æœªå®šä¹‰åˆ™æ‰§è¡Œ ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤ (on-download-stop)</span><br><span class="line">on-download-complete=/etc/aria2/clean.sh</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½é”™è¯¯åæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line"># æ­¤é¡¹æœªå®šä¹‰åˆ™æ‰§è¡Œ ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤ (on-download-stop)</span><br><span class="line">#on-download-error=</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½æš‚åœåæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line">#on-download-pause=</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½å¼€å§‹åæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line">#on-download-start=</span><br><span class="line"></span><br><span class="line"># BT ä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line">#on-bt-download-complete=</span><br><span class="line"></span><br><span class="line">#æ³¨æ„ä¿®æ”¹aria2.confæ–‡ä»¶ä¸­ä»¥ä¸‹é€‰é¡¹ï¼š</span><br><span class="line">#ä¸‹è½½æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œæ”¹ä¸ºä½ æƒ³è¦çš„</span><br><span class="line">#dir=D:\MyDownload\aria2\</span><br><span class="line"># æ—¥å¿—æ–‡ä»¶ï¼Œè·¯å¾„D:\aria2\ï¼Œæ”¹ä¸ºä½ å®‰è£…aria2çš„è·¯å¾„</span><br><span class="line">&lt;code&gt;#log=D:\aria2\aria2.log</span><br><span class="line">#input-file=D:\aria2\aria2.session</span><br><span class="line">#save-session=D:\aria2\aria2.session&lt;/code&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/P3TERX/aria2.conf">ä¸€é”®å®‰è£…åŠé…ç½®å¼€æºé¡¹ç›®åœ°å€ï¼š</a></p>
<h1 id="2ã€aria2å¼€æœºå¯åŠ¨è®¾ç½®"><a href="#2ã€aria2å¼€æœºå¯åŠ¨è®¾ç½®" class="headerlink" title="2ã€aria2å¼€æœºå¯åŠ¨è®¾ç½®"></a>2ã€<code>aria2</code>å¼€æœºå¯åŠ¨è®¾ç½®</h1><p>åˆ›å»ºä¸€ä¸ª<code>Start.vbs</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œå°†å…¶å¿«æ·æ–¹å¼æˆ–è€…ç›´æ¥å¤åˆ¶<code>start.vbs</code>ï¼Œæ”¾åˆ°<code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</code>è·¯å¾„ä¸‹å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CreateObject(<span class="string">&quot;wscript.shell&quot;</span>).Run  <span class="string">&quot;D:\Programs\Aria2\aria2c.exe --conf-path=D:\Programs\Aria2\aria2.conf&quot;</span>,0</span><br></pre></td></tr></table></figure><br>æˆ–è€…ä¸‹é¢çš„<code>vbs</code>æ‰¹å¤„ç†å‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># currentpath = createobject(&quot;Scripting.FileSystemObject&quot;).GetFile(Wscript.ScriptFullName).ParentFolder.Path</span></span><br><span class="line">currentpath = createobject(<span class="string">&quot;Scripting.FileSystemObject&quot;</span>).GetFolder(<span class="string">&quot;.&quot;</span>).Path</span><br><span class="line">CreateObject(<span class="string">&quot;wscript.shell&quot;</span>).Run  currentpath+<span class="string">&quot;\aria2c.exe --conf-path=aria2.conf&quot;</span>,0</span><br></pre></td></tr></table></figure></p>
<h1 id="3ã€-æ›´æ–°trackersæ‰¹å¤„ç†å‘½ä»¤"><a href="#3ã€-æ›´æ–°trackersæ‰¹å¤„ç†å‘½ä»¤" class="headerlink" title="3ã€ æ›´æ–°trackersæ‰¹å¤„ç†å‘½ä»¤"></a>3ã€ æ›´æ–°<code>trackers</code>æ‰¹å¤„ç†å‘½ä»¤</h1><h2 id="ï¼ˆ1ï¼‰powershellä¸‹è¿è¡Œæ–°å»ºtrackersList-pslçš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹"><a href="#ï¼ˆ1ï¼‰powershellä¸‹è¿è¡Œæ–°å»ºtrackersList-pslçš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹" class="headerlink" title="ï¼ˆ1ï¼‰powershellä¸‹è¿è¡Œæ–°å»ºtrackersList.pslçš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹"></a>ï¼ˆ1ï¼‰<code>powershell</code>ä¸‹è¿è¡Œæ–°å»º<code>trackersList.psl</code>çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;aria2.confä½ç½®ã€è¦ä¸‹è½½çš„trackersæ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä¿®æ”¹</span><br><span class="line">$ConfigFile = &quot;D:\Programs\Aria2\aria2.conf&quot;</span><br><span class="line">$TrackersFile = &quot;trackers_best.txt&quot;</span><br><span class="line">$DownloadLink = &quot;https://raw.githubusercontent.com/ngosang/trackerslist/master/$TrackersFile&quot;</span><br><span class="line"></span><br><span class="line">Invoke-WebRequest -Uri $DownloadLink -OutFile $env:TEMP\$TrackersFile</span><br><span class="line"></span><br><span class="line">$TrackersStream = (Get-Content $env:TEMP\$TrackersFile -Raw).Replace(&quot;`n`n&quot;, &quot;,&quot;).Insert(0, &quot;bt-tracker=&quot;)</span><br><span class="line">$TrackersStream = $TrackersStream.Substring(0, $TrackersStream.Length - 1)</span><br><span class="line"></span><br><span class="line">$ExcludeLineNum=(Select-String -Path $ConfigFile -SimpleMatch &quot;bt-tracker=&quot;).LineNumber</span><br><span class="line">$ConfigStream = Get-Content $ConfigFile</span><br><span class="line">$ConfigStream[$ExcludeLineNum-1]=$TrackersStream</span><br><span class="line">Set-Content -Path $ConfigFile -Value $ConfigStream -Encoding Default</span><br><span class="line"></span><br><span class="line">Remove-Item -Path $env:TEMP\trackers*</span><br></pre></td></tr></table></figure>
<p>ã€psç‰ˆæœ¬è¿è¡Œä¼šå‡ºé”™ï¼Œå¾…è§£å†³ã€‘æˆ–è€… <code>cmd</code> ä¸‹è¿è¡Œæ–°å»º<code>trackersList.bat</code>çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œ<code>trackersList.bat</code>è¾“å…¥ä»¥ä¸‹å†…å®¹<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">:: aria2.confä½ç½®ã€è¦ä¸‹è½½çš„trackersæ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä¿®æ”¹</span><br><span class="line">::<span class="built_in">set</span> CONF_FILE=<span class="variable">%USERPROFILE%</span>\.aria2\aria2.conf</span><br><span class="line"><span class="built_in">set</span> CONF_FILE=E:\Aria2\aria2.conf</span><br><span class="line"><span class="built_in">set</span> TRACKER_FILE=trackers_best.txt</span><br><span class="line"><span class="built_in">set</span> DOWNLOAD_LINK=https://raw.githubusercontent.com/ngosang/trackerslist/master/<span class="variable">%TRACKER_FILE%</span></span><br><span class="line"></span><br><span class="line">::ä¸‹è½½ trackerlist</span><br><span class="line">::aria2c --<span class="built_in">dir</span>=<span class="variable">%TEMP%</span> --allow-overwrite=true &quot;<span class="variable">%DOWNLOAD_LINK%</span>&quot;</span><br><span class="line">aria2c --<span class="built_in">dir</span>=%~dp0 --allow-overwrite=true &quot;<span class="variable">%DOWNLOAD_LINK%</span>&quot;</span><br><span class="line"></span><br><span class="line">::ç”¨ sed æ•´ç† trackerlist æ ¼å¼</span><br><span class="line">sed.exe -i &quot;:a;N;s/\n/ /; ta;&quot; <span class="variable">%~dp0%</span>TRACKER_FILE%</span><br><span class="line">sed.exe -i &quot;<span class="number">1</span>s/^/bt-tracker=/g; s/  /,/g; s/ $//;&quot; <span class="variable">%~dp0%</span>TRACKER_FILE%</span><br><span class="line"></span><br><span class="line">::åˆ é™¤å½“å‰ aria2 é…ç½® ä¸­çš„ trackerlist</span><br><span class="line">sed.exe -i &quot;/^bt-tracker=/d&quot; <span class="variable">%CONF_FILE%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> <span class="variable">%~dp0%</span>TRACKER_FILE% &gt;&gt; <span class="variable">%CONF_FILE%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> .\sed*</span><br><span class="line"><span class="built_in">del</span> .\trackers_best.txt</span><br></pre></td></tr></table></figure><br>â‘ éœ€è¦å®‰è£…<code>sed.exe</code>ï¼Œå®‰è£…<code>git</code>,<a href="https://git-scm.com/download/win">gitä¸‹è½½åœ°å€</a>åè‡ªå¸¦<code>sed.exe</code>ç¨‹åºæ–‡ä»¶,å®‰è£…å®Œæˆåï¼ˆ32ä½è·¯å¾„ï¼‰å¦‚ï¼š<code>E:\Program Files\Git\usr\bin</code><br>ã€æˆ–è€…å•ç‹¬ä¸‹è½½windowsç³»ç»Ÿä¸‹çš„<code>sed</code> è½¯ä»¶ï¼Œéœ€è¦ä¸‹è½½ä»¥ä¸‹ä¸¤ä¸ªé“¾æ¥çš„æ–‡ä»¶ï¼Œ<strong>è§£å‹åˆ°åŒä¸€æ–‡ä»¶å¤¹</strong>ï¼Œ<code>Bin</code> æ–‡ä»¶å†…çš„ <code>sed.exe</code> å’Œ <code>dll</code> ä¸èƒ½åˆ é™¤ã€‚<br><a href="https://sourceforge.net/projects/gnuwin32/files/sed/4.2.1/sed-4.2.1-bin.zip/download">sed-4.2.1-bin</a><br><a href="https://sourceforge.net/projects/gnuwin32/files/sed/4.2.1/sed-4.2.1-dep.zip/download">sed-4.2.1-dep</a>ã€‘<br>â‘¡å°†<code>sed.exe</code>åŠ å…¥åˆ°ç¯å¢ƒå˜é‡æ–¹æ³•ï¼š<code>è¿è¡Œ</code>â†’<code>sysdm.cpl</code>â†’<code>é«˜çº§</code>â†’<code>ç¯å¢ƒå˜é‡</code>â†’<code>ç”¨æˆ·ç¯å¢ƒå˜é‡é‡Œé¢  é€‰ä¸­â€œpathâ€</code>â†’<code>ç¼–è¾‘</code>â†’<code>æ–°å»º</code>â†’<code>E:\Program Files\Git\usr\bin</code>  </p>
<p>å‚è€ƒï¼š<br><a href="https://www.dazhuanlan.com/sparrow1998/topics/989486">Aria2 Tracker æ›´æ–°è„šæœ¬</a><br><a href="https://meta.appinn.net/t/topic/9086">Aria2 bt-trackerè‡ªåŠ¨æ›´æ–°è„šæœ¬</a></p>
<h2 id="ï¼ˆ2ï¼‰åˆ©ç”¨pythonæ›´æ–°"><a href="#ï¼ˆ2ï¼‰åˆ©ç”¨pythonæ›´æ–°" class="headerlink" title="ï¼ˆ2ï¼‰åˆ©ç”¨pythonæ›´æ–°"></a>ï¼ˆ2ï¼‰åˆ©ç”¨<code>python</code>æ›´æ–°</h2><p>æ–°å»º<code>trackerslist.py</code>æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2021-06-04 15:29:54</span></span><br><span class="line"><span class="comment"># @Author  : KY (owenyk@g.com)</span></span><br><span class="line"><span class="comment"># @Link    : http://example.org</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PepTrader &amp; PepCoder</span></span><br><span class="line"><span class="comment"># ä¸€åˆ‡ä»å…´è¶£å¼€å§‹...</span></span><br><span class="line"><span class="comment"># It all starts with interests...</span></span><br><span class="line"><span class="comment"># I am PepCoder</span></span><br><span class="line"><span class="comment"># This is a Windows version of BT Trackers Updater via Python 3.6.6</span></span><br><span class="line"><span class="comment"># Original work belongs to @zmr, you can find his original work at</span></span><br><span class="line"><span class="comment"># æœ€åˆä»£ç æºæ¥è‡ªäº @zmrï¼Œæ‚¨å¯ä»¥åœ¨ä»¥ä¸‹ç½‘å€æ‰¾åˆ°å…¶æœ€åˆçš„ä½œå“ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment"># https://gitee.com/Zero_gitee/UpdateTrackers</span></span><br><span class="line"><span class="comment"># Trackersçš„ä»£ç æºæ˜¯æ¥è‡ªäºï¼š https://github.com/XIU2/TrackersListCollection</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#--------- å®‰è£…åº“------------#</span></span><br><span class="line"><span class="comment"># PS E:\Aria2&gt; pip3 install bs4</span></span><br><span class="line"><span class="comment"># PS E:\Aria2&gt; pip install lxml</span></span><br><span class="line"><span class="comment"># PS E:\Aria2&gt; pip install requests</span></span><br><span class="line"><span class="comment"># PS E:\Aria2&gt; pip install html5lib</span></span><br><span class="line"><span class="comment">#---------------------------#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bs4</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€é…ç½®ï¼š</span></span><br><span class="line"><span class="comment"># url_trackers_best = &quot;https://trackerslist.com/all.txt&quot;  # è¿™ä¸ªæ˜¯æ™®é€šç‰ˆçš„ï¼Œå¯ä»¥ç”¨åœ¨å…¶å®ƒBTç”¨æˆ·ç«¯ä¸Š</span></span><br><span class="line">url_trackers_best = <span class="string">&quot;https://trackerslist.com/best.txt&quot;</span>  <span class="comment"># è¿™ä¸ªæ˜¯aria2å‹å¥½ç‰ˆï¼Œä¸ºaria2ä¸“é—¨è®¾è®¡çš„</span></span><br><span class="line">aria2_config = <span class="string">&quot;D:\\Programs\\Aria2\\aria2.conf&quot;</span>    <span class="comment"># è®¾å®šå¥½æ‚¨çš„aira2æ‰€åœ¨ä½ç½®ï¼Œå› ä¸ºæ¯ä¸ªäººæ”¾aria2çš„æ–‡ä»¶å¤¹éƒ½ä¸ä¸€æ ·ã€‚</span></span><br><span class="line">logFile = os.path.join(os.path.dirname(os.path.abspath(__file__)), <span class="string">&#x27;logger.log&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ—¥å¿—å‚æ•°</span></span><br><span class="line">logging.basicConfig(filename=logFile,</span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&quot;%(asctime)s \n%(message)s&quot;</span>,</span><br><span class="line">                    datefmt=<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,</span><br><span class="line">                    filemode=<span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">                    level=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log</span>(<span class="params">level, message</span>):</span><br><span class="line">    <span class="string">&quot;å†™æ—¥å¿—&quot;</span></span><br><span class="line">    logging.log(level, message)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getTrackers</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="string">&quot;æ›´æ–°Trackers&quot;</span></span><br><span class="line">    t = time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime())</span><br><span class="line">    log(logging.DEBUG, <span class="string">&quot;æ›´æ–°Trackersã€å¼€å§‹ã€‘&#123;0&#125;\n url = &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(t, url))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># è·å–æœ€æ–°æ•°æ®</span></span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) &#x27;</span></span><br><span class="line">                          <span class="string">&#x27;AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span></span><br><span class="line">                          <span class="string">&#x27;Chrome/67.0.3396.99 Safari/537.36&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.get(url, headers=headers).content</span><br><span class="line">        soup = bs4.BeautifulSoup(response, <span class="string">&#x27;html5lib&#x27;</span>)  <span class="comment"># è§£æ</span></span><br><span class="line">        all_trackers = soup.find(name=<span class="string">&#x27;body&#x27;</span>).get_text().replace(<span class="string">&quot;\n\n&quot;</span>,<span class="string">&quot;,&quot;</span>)  <span class="comment"># å¤åˆ¶</span></span><br><span class="line">        <span class="built_in">print</span>(all_trackers)</span><br><span class="line">        log(logging.DEBUG, <span class="string">&quot;æ›´æ–°Trackersã€ç»“æŸã€‘&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(all_trackers))</span><br><span class="line">        <span class="keyword">return</span> all_trackers</span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">        log(logging.ERROR, <span class="string">&quot;æ›´æ–°Trackersã€å¼‚å¸¸ã€‘&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(e))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_config</span>(<span class="params">all_trackers</span>):</span><br><span class="line">    <span class="string">&quot;æ›´æ–°aria2.confæ–‡ä»¶ bt-tracker=best_tracker&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        btTrackerIndex = -<span class="number">1</span></span><br><span class="line">        cfgList = <span class="built_in">list</span>()</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(aria2_config, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> cfgFile:</span><br><span class="line">            lines = cfgFile.readlines()</span><br><span class="line">            cfgList = <span class="built_in">list</span>(lines)</span><br><span class="line">            <span class="built_in">print</span>(cfgList)</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> cfgList:</span><br><span class="line">                <span class="keyword">if</span> line.startswith(<span class="string">&quot;bt-tracker=&quot;</span>):  <span class="comment"># åœ¨.confé‡Œéå†å¯»æ‰¾è¿™ä¸€è¡Œè®¾ç½®</span></span><br><span class="line">                    btTrackerIndex = cfgList.index(line)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> btTrackerIndex &gt;= <span class="number">0</span>:</span><br><span class="line">                cfgList.pop(btTrackerIndex)</span><br><span class="line">                <span class="keyword">if</span> btTrackerIndex - <span class="number">1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> cfgList[btTrackerIndex - <span class="number">1</span>].startswith(<span class="string">&quot;#æ›´æ–°äº&quot;</span>):</span><br><span class="line">                    cfgList.pop(btTrackerIndex - <span class="number">1</span>)</span><br><span class="line">                    btTrackerIndex = btTrackerIndex - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                btTrackerIndex = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        cfgList.insert(btTrackerIndex, <span class="string">&quot;bt-tracker=&quot;</span>+all_trackers+<span class="string">&quot;\n&quot;</span>)  <span class="comment"># è¦†ç›–å†™å…¥æ›´æ–°å†…å®¹</span></span><br><span class="line">        update_time = time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime())</span><br><span class="line">        cfgList.insert(btTrackerIndex, <span class="string">&quot;#æ›´æ–°äº&quot;</span>+update_time+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\\Programs\\Aria2\\aria2.conf&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> cfgFile:  <span class="comment"># å­˜å‚¨</span></span><br><span class="line">            cfgFile.writelines(cfgList)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">        log(logging.ERROR, <span class="string">&quot;æ›´æ–°aria2.confæ–‡ä»¶ã€å¼‚å¸¸ã€‘&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(e))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reset_config</span>():</span><br><span class="line">    <span class="string">&quot;aria2c --conf-path=D:\Programs\Aria2\aria2.conf&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        os.system(<span class="string">&quot;aria2c.exe --conf-path=&quot;</span> + aria2_config)</span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">        log(logging.ERROR, <span class="string">&quot;é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ã€å¼‚å¸¸ã€‘&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(e))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«</span></span><br><span class="line">logger = logging.getLogger()</span><br><span class="line">logger.setLevel(logging.ERROR)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹æ›´æ–°æ“ä½œ</span></span><br><span class="line">log(logging.DEBUG, <span class="string">&quot;å¼€å§‹æ›´æ–°æ“ä½œã€å¼€å§‹ã€‘&quot;</span>)</span><br><span class="line">all_trackers = getTrackers(url_trackers_best)</span><br><span class="line">update_config(all_trackers)</span><br><span class="line">reset_config()</span><br><span class="line">log(logging.DEBUG, <span class="string">&quot;å¼€å§‹æ›´æ–°æ“ä½œã€ç»“æŸã€‘\n&quot;</span>)</span><br></pre></td></tr></table></figure><br>trackerlistçš„å¼€æºé¡¹ç›®ï¼š<br><a href="https://github.com/XIU2/TrackersListCollection/blob/master/README-ZH.md">XIU2/TrackersListCollection</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Aria2</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
        <tag>TrackersList</tag>
      </tags>
  </entry>
  <entry>
    <title>Aspæ“ä½œMsSQLæ•°æ®åº“</title>
    <url>/2020/11/05/Asp%E6%93%8D%E4%BD%9CMsSQL%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>aspæŸ¥è¯¢é¡µé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@LANGUAGE=&quot;VBSCRIPT&quot; CODEPAGE=&quot;65001&quot;%&gt;</span><br><span class="line">&lt;!--#include virtual=&quot;/conn.asp&quot; --&gt;</span><br><span class="line">&lt;%Session.CodePage=65001%&gt;</span><br><span class="line">response.expires=-1</span><br><span class="line">user = trim(request.querystring(&quot;name&quot;))</span><br><span class="line">if user = &quot;&quot; then</span><br><span class="line">    response.write escape(&quot;&lt;font style=&quot;&quot;color:red&quot;&quot;&gt;å§“åæˆ–å­¦å‘˜IDä¸èƒ½ä¸ºç©ºæ ¼ï¼&lt;/font&gt;&quot;)</span><br><span class="line">    response.End()</span><br><span class="line">end if</span><br><span class="line">sql = &quot;select * from students where usrname =&#x27;&quot;&amp;user&amp;&quot;&#x27; or usr_ID=&#x27;&quot;&amp;user&amp;&quot;&#x27;&quot;</span><br><span class="line">&#x27;sql = sql &amp;&quot;&#x27;&quot;&amp; request.querystring(&quot;name&quot;) &amp;&quot;&#x27;&quot;</span><br><span class="line">&#x27;ä½¿ç”¨sqlå¯¹connè¿›è¡ŒæŸ¥è¯¢ï¼Œåé¢çš„å‚æ•°ä»£è¡¨æˆ‘è¦å®Œå…¨æ“ä½œè¿™ä¸ªæ•°æ®åº“</span><br><span class="line">Set rs = Server.CreateObject( &quot;ADODB.Recordset&quot; )</span><br><span class="line">rs.open sql,conn,1,1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>jså¤„ç†é¡µé¢</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span>â€‚<span class="title function_">createAjax</span>(<span class="params"></span>)â€‚&#123;<span class="comment">//è¯¥å‡½æ•°å°†è¿”å›XMLHTTPå¯¹è±¡å®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span>â€‚_xmlhttp;â€‚</span><br><span class="line"><span class="keyword">try</span>â€‚&#123;â€‚</span><br><span class="line">    _xmlhttp=<span class="keyword">new</span>â€‚<span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);â€‚</span><br><span class="line">    &#125;â€‚</span><br><span class="line"><span class="keyword">catch</span>â€‚(e)â€‚&#123;â€‚</span><br><span class="line"><span class="keyword">try</span>â€‚&#123;â€‚</span><br><span class="line">    _xmlhttp=<span class="keyword">new</span>â€‚<span class="title class_">XMLHttpRequest</span>();â€‚</span><br><span class="line">â€‚&#125;â€‚</span><br><span class="line"><span class="keyword">catch</span>â€‚(e)â€‚&#123;â€‚</span><br><span class="line">    _xmlhttp=<span class="literal">false</span>;â€‚</span><br><span class="line">    &#125;â€‚</span><br><span class="line">&#125;â€‚</span><br><span class="line"><span class="keyword">return</span>â€‚_xmlhttp;â€‚</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span>â€‚<span class="title function_">checkname</span>(<span class="params">name</span>)â€‚&#123;â€‚<span class="comment">//è¯¥å‡½æ•°ç”¨æ¥è·å–æ•°æ® ç”¨æˆ·å//alert(idname)</span></span><br><span class="line"><span class="keyword">var</span>â€‚xmlhttp1=<span class="title function_">createAjax</span>();</span><br><span class="line"><span class="keyword">if</span>â€‚(xmlhttp1)â€‚&#123;</span><br><span class="line">â€‚â€‚  <span class="keyword">var</span>â€‚span=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;check&#x27;</span>);â€‚<span class="comment">//â€‚è·å–æ˜¾ç¤ºèŠ‚ç‚¹â€‚ </span></span><br><span class="line">    xmlhttp1.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>,<span class="string">&#x27;checkname.asp?name=&#x27;</span>+name+<span class="string">&#x27;&amp;n=&#x27;</span>+<span class="title class_">Math</span>.<span class="title function_">random</span>(),<span class="literal">true</span>);â€‚â€‚ </span><br><span class="line">    xmlhttp1.<span class="property">onreadystatechange</span>=<span class="keyword">function</span>(<span class="params"></span>)â€‚&#123;â€‚</span><br><span class="line">    <span class="keyword">if</span>â€‚(xmlhttp1.<span class="property">readyState</span>==<span class="number">4</span>â€‚&amp;&amp;â€‚xmlhttp1.<span class="property">status</span>==<span class="number">200</span>)&#123;</span><br><span class="line">        span.<span class="property">innerHTML</span>=<span class="built_in">unescape</span>(xmlhttp1.<span class="property">responseText</span>);</span><br><span class="line">    â€‚â€‚â€‚â€‚â€‚â€‚&#125;â€‚â€‚â€‚â€‚</span><br><span class="line">    <span class="keyword">else</span>â€‚&#123;</span><br><span class="line">        span.<span class="property">innerHTML</span>=<span class="string">&#x27;&lt;spanâ€‚style=&quot;color:red&quot;&gt;xmlhttpå¯¹è±¡æ­£åœ¨åˆå§‹åŒ–......&lt;/span&gt;&#x27;</span>;â€‚â€‚â€‚â€‚</span><br><span class="line">    &#125;</span><br><span class="line">&#125;â€‚ </span><br><span class="line">    xmlhttp1.<span class="title function_">send</span>(<span class="literal">null</span>);</span><br><span class="line">â€‚â€‚&#125;</span><br><span class="line">â€‚ &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>ASP</category>
        <category>è¿ç»´</category>
        <category>JavaScript</category>
        <category>MsSQL</category>
        <category>Ajax</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Ajax</tag>
        <tag>Asp</tag>
        <tag>MsSQL</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianç¯å¢ƒå®‰è£…æ–°ç‰ˆNginxåŠé…ç½®Webdav</title>
    <url>/2021/06/06/Debian%20%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E6%96%B0%E7%89%88Nginx%E5%8F%8A%E9%85%8D%E7%BD%AEWebdav/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Debian-ç¯å¢ƒå®‰è£…æ–°ç‰ˆnginxåŠé…ç½®webdav"><a href="#Debian-ç¯å¢ƒå®‰è£…æ–°ç‰ˆnginxåŠé…ç½®webdav" class="headerlink" title="Debian ç¯å¢ƒå®‰è£…æ–°ç‰ˆnginxåŠé…ç½®webdav"></a>Debian ç¯å¢ƒå®‰è£…æ–°ç‰ˆ<code>nginx</code>åŠé…ç½®<code>webdav</code></h1><h2 id="ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ"><a href="#ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ" class="headerlink" title="ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ"></a>ä¸€ã€<code>Nginx</code>ç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ</h2><h2 id="äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š"><a href="#äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š" class="headerlink" title="äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š"></a>äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š</h2><h2 id="ä¸‰ã€é…ç½®webdavæ¨¡å—"><a href="#ä¸‰ã€é…ç½®webdavæ¨¡å—" class="headerlink" title="ä¸‰ã€é…ç½®webdavæ¨¡å—"></a>ä¸‰ã€é…ç½®<code>webdav</code>æ¨¡å—</h2><p> ï¼ˆ1ï¼‰é…ç½®<code>webdav</code><br> ï¼ˆ2ï¼‰è®¾ç½®<code>webdav</code>å¸å·å’Œå¯†ç ï¼š<br> ï¼ˆ3ï¼‰æŒ‚è½½åˆ°åšæœäº‘æ–¹æ³•<br> ï¼ˆ4ï¼‰<code>nginx</code>åŠ å…¥åˆ°<code>systemctl</code>æœåŠ¡è¿è¡Œ<br> ï¼ˆ5ï¼‰å¸¸ç”¨å‘½ä»¤</p>
<h2 id="å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š"><a href="#å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š" class="headerlink" title="å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š"></a>å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š</h2><h2 id="äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•"><a href="#äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•" class="headerlink" title="äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•"></a>äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•</h2><h2 id="ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ-1"><a href="#ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ-1" class="headerlink" title="ä¸€ã€Nginxç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ"></a>ä¸€ã€<code>Nginx</code>ç”¨æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ</h2><p>å‚è§æ–‡ç« ï¼š<a href="https://debian.cn/articles/466?www">Debian ç¯å¢ƒå®‰è£…æ–°ç‰ˆ nginx :</a><br>åœ¨ <code>Debian</code> ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>apt-get</code> å®‰è£…ç³»ç»Ÿè‡ªå¸¦çš„ <code>nginx</code>ï¼Œè¿™æ ·å®‰è£…çš„ <code>nginx</code> ç‰ˆæœ¬ç•¥æ—§ã€‚<code>Nginx</code> å®˜ç½‘æä¾›äº†ä¸€äº›ç¼–è¾‘ç»å¥½çš„<code>deb</code>å®‰è£…åŒ…ï¼Œæˆ‘ä»¬åªéœ€æ›´æ–°å®‰è£…æºï¼Œå°±å¯ä»¥é€šè¿‡ <code>apt-get</code> æ¥å®‰è£…æœ€æ–°çš„ç¨³å®šç‰ˆ <code>Nginx</code>äº†ã€‚</p>
<p>åŠ è½½å®‰è£…æºå¹¶å¯¼å…¥<code>key</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> deb http://nginx.org/packages/debian/ buster nginx | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nginx.list </span><br><span class="line">$ wget http://nginx.org/keys/nginx_signing.key &amp;&amp; sudo apt-key add nginx_signing.key </span><br><span class="line">$ sudo apt update &amp;&amp; apt install nginx -y </span><br></pre></td></tr></table></figure><br>åˆ°è¿™ä¸€éƒ¨åˆ†å°±å®Œæˆäº†æœ€æ–°ç¨³å®šç‰ˆçš„ <code>Nginx</code> çš„å®‰è£…ã€‚</p>
<p><em>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸€æ­¥å®‰è£…çš„ Nginx å’Œç³»ç»Ÿè‡ªå¸¦çš„ nginx çš„é…ç½®ç›®å½•ç•¥æœ‰åŒºåˆ«ï¼Œå¯ä»¥ç”¨ä¸€ä¸‹å‡ ä¸ªç®€å•çš„å‘½ä»¤ä¿®æ­£</em>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> /etc/nginx/&#123;sites-available,sites-enabled&#125;</span><br><span class="line">sudo <span class="built_in">mv</span> /etc/nginx/conf.d/* /etc/nginx/sites-available</span><br><span class="line">sudo <span class="built_in">rmdir</span> -f /etc/nginx/conf.d/</span><br><span class="line">sudo perl -pi -e <span class="string">&#x27;s/conf.d/sites-enabled/g&#x27;</span> /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–é—®é¢˜ï¼š<br><code>bash: nginxï¼šæœªæ‰¾åˆ°å‘½ä»¤</code><br>ç”±äºshellå‘½ä»¤åŸºæœ¬éƒ½åœ¨<code>/usr/bin</code>ï¼Œ<code>/usr/sbin</code>ï¼Œ<code>/bin</code>ï¼Œ<code>/sbin</code>ï¼Œ<code>/usr/X11R6/bin</code>ä¸­æœ‰å®šä¹‰ã€‚<br>æ‰€ä»¥ï¼Œåªè¦æŠŠè¿™äº›å‘½ä»¤é‡æ–°å–å‡ºæ¥å°±èƒ½ä½¿ç”¨äº†ï¼Œä¹Ÿç®—æ˜¯ä¸ªè¡¥æ•‘çš„åŠæ³•ã€‚<br><code>export PATH=/usr/bin:/usr/sbin:/bin:/sbin:/usr/X11R6/bin</code><br>è½¬è½½äº:<a href="https://www.cnblogs.com/young233/p/10879077.html">ä¿®æ”¹profileå¯¼è‡´bashä¸èƒ½ç”¨çš„è¡¥æ•‘æ–¹æ³•</a></p>
<h2 id="äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š-1"><a href="#äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š-1" class="headerlink" title="äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š"></a>äºŒã€æºç ç¼–è¯‘å®‰è£…æœ€æ–°ç¨³å®šç‰ˆï¼š</h2><p><a href="http://nginx.org/download/nginx-1.21.1.tar.gz">nginx1.21.1ä¸‹è½½åœ°å€ï¼š</a><br><a href="https://github.com/arut/nginx-dav-ext-module/archive/refs/tags/v3.0.0.tar.gz">nginx-dav-ext-module v3.0.0ä¸‹è½½åœ°å€ï¼š</a>  </p>
<h3 id="1-å¸è½½å¹¶æ¸…ç†å®‰è£…çš„nginx"><a href="#1-å¸è½½å¹¶æ¸…ç†å®‰è£…çš„nginx" class="headerlink" title="1. å¸è½½å¹¶æ¸…ç†å®‰è£…çš„nginx"></a>1. å¸è½½å¹¶æ¸…ç†å®‰è£…çš„nginx</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt autoremove nginx</span><br><span class="line">$ sudo apt purge nginx</span><br><span class="line">$ sudo apt clean</span><br></pre></td></tr></table></figure>
<h3 id="2-ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…"><a href="#2-ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…" class="headerlink" title="2. ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…"></a>2. ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ tar zxvf nginx-1.21.0.tar.gz</span><br><span class="line">$ tar zxvf nginx-dav-ext-module-3.0.0.tar.gz -C /home/ä½ çš„ç”¨æˆ·å/ä¸‹è½½/å‹ç¼©åŒ…/</span><br><span class="line">$ tar zxvf nginx-1.21.1.tar.gz -C /home/ä½ çš„ç”¨æˆ·å/ä¸‹è½½/å‹ç¼©åŒ…/</span><br><span class="line">$ <span class="built_in">cd</span> nginx-1.21.1</span><br><span class="line">$ sudo apt install gcc make libpcre3 libpcre3-dev zlib1g-dev openssl libssl-dev libxslt-dev libgd-dev libgeoip-dev apache2-utils</span><br><span class="line">~<span class="comment"># /ä¸‹è½½/å‹ç¼©åŒ…/nginx-1.20.1$ su root</span></span><br><span class="line">å¯†ç ï¼š</span><br><span class="line">~<span class="comment">#  ./configure --prefix=/etc/nginx --with-http_dav_module --with-http_stub_status_module --with-http_flv_module --with-http_gzip_static_module --with-stream --with-stream=dynamic --with-http_realip_module --with-http_v2_module --with-http_image_filter_module  --with-http_image_filter_module=dynamic --with-http_ssl_module --add-module=/home/ä½ çš„ç”¨æˆ·å/ä¸‹è½½/å‹ç¼©åŒ…/nginx-dav-ext-module-3.0.0</span></span><br><span class="line">~<span class="comment"># make &amp;&amp; make install</span></span><br><span class="line">~<span class="comment">#  ln -s /etc/nginx/sbin/nginx /usr/bin/nginx </span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€é…ç½®webdavæ¨¡å—-1"><a href="#ä¸‰ã€é…ç½®webdavæ¨¡å—-1" class="headerlink" title="ä¸‰ã€é…ç½®webdavæ¨¡å—"></a>ä¸‰ã€é…ç½®webdavæ¨¡å—</h2><h3 id="é…ç½®webdav"><a href="#é…ç½®webdav" class="headerlink" title="é…ç½®webdav"></a>é…ç½®webdav</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sudo vim /etc/nginx/conf/nginx.conf</span></span><br></pre></td></tr></table></figure>
<p>ç”¨ä»¥ä¸‹å†…å®¹æ›¿æ¢åŸå†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#user  nobody;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#error_log  logs/error.log;</span><br><span class="line">#error_log  logs/error.log  notice;</span><br><span class="line">#error_log  logs/error.log  info;</span><br><span class="line"></span><br><span class="line">#pid        logs/nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    log_format  main  &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span><br><span class="line">                      &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br><span class="line">                      &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span><br><span class="line"></span><br><span class="line">    access_log  logs/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    gzip  on;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        </span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">       error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">        #</span><br><span class="line">        location ~ \.php$ &#123;</span><br><span class="line">            proxy_pass   http://127.0.0.1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">        #</span><br><span class="line">        location ~ \.php$ &#123;</span><br><span class="line">            root           html;</span><br><span class="line">            fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">            fastcgi_index  index.php;</span><br><span class="line">            fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">            include        fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # deny access to .htaccess files, if Apache&#x27;s document root</span><br><span class="line">        # concurs with nginx&#x27;s one</span><br><span class="line">        #</span><br><span class="line">        location ~ /\.ht &#123;</span><br><span class="line">            deny  all;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class="line">    #</span><br><span class="line">    #server &#123;</span><br><span class="line">    #    listen       8000;</span><br><span class="line">    #    listen       somename:8080;</span><br><span class="line">    #    server_name  somename  alias  another.alias;</span><br><span class="line"></span><br><span class="line">    #    location / &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">      server&#123;</span><br><span class="line">          listen    81;</span><br><span class="line">          server_name webdav;</span><br><span class="line">          error_log /etc/nginx/logs/webdav.error.log error;</span><br><span class="line">          access_log  /etc/nginx/logs/webdav.access.log combined;</span><br><span class="line">       location / &#123;</span><br><span class="line">             root /home/ä½ çš„ç”¨æˆ·å/www/nginx/webdav;</span><br><span class="line">             charset utf-8;</span><br><span class="line">             autoindex on;</span><br><span class="line">             dav_methods  PUT DELETE MKCOL COPY MOVE;</span><br><span class="line">             dav_ext_methods PROPFIND OPTIONS;</span><br><span class="line">             create_full_put_path on;</span><br><span class="line">             dav_access user:rw group:r all:r;</span><br><span class="line">             auth_basic &quot;Authorized Users Only&quot;;</span><br><span class="line">             auth_basic_user_file /etc/nginx/.htpasswd;</span><br><span class="line">             client_max_body_size 5G;</span><br><span class="line">                &#125;</span><br><span class="line">           error_page   500 502 503 504  /50x.html;</span><br><span class="line">           location = /50x.html &#123;</span><br><span class="line">               root   /etc/nginx/html;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 8080;</span><br><span class="line">    error_log /etc/nginx/logs/jianguoyun.error.log error;</span><br><span class="line">    access_log  /etc/nginx/logs/jianguoyun.access.log combined;</span><br><span class="line"> </span><br><span class="line">    location / &#123;</span><br><span class="line">        root /home/ä½ çš„ç”¨æˆ·å/www/nginx/jianguoyun;</span><br><span class="line">        autoindex on;</span><br><span class="line">        dav_methods PUT DELETE MKCOL COPY MOVE;</span><br><span class="line">        dav_ext_methods PROPFIND OPTIONS;</span><br><span class="line">        create_full_put_path on;</span><br><span class="line">        dav_access user:rw group:r all:r;</span><br><span class="line">        auth_basic &quot;Authorized Users Only&quot;;</span><br><span class="line">        auth_basic_user_file /etc/nginx/.htpasswd;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    # HTTPS server</span><br><span class="line">    #</span><br><span class="line">    #server &#123;</span><br><span class="line">    #    listen       443 ssl;</span><br><span class="line">    #    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    #    ssl_certificate      cert.pem;</span><br><span class="line">    #    ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">    #    ssl_session_cache    shared:SSL:1m;</span><br><span class="line">    #    ssl_session_timeout  5m;</span><br><span class="line"></span><br><span class="line">    #    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">    #    ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    #    location / &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="è®¾ç½®webdavå¸å·å’Œå¯†ç ï¼š"><a href="#è®¾ç½®webdavå¸å·å’Œå¯†ç ï¼š" class="headerlink" title="è®¾ç½®webdavå¸å·å’Œå¯†ç ï¼š"></a>è®¾ç½®webdavå¸å·å’Œå¯†ç ï¼š</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">~<span class="comment"># echo -n &#x27;ä½ çš„ç”¨æˆ·å:&#x27; | tee /etc/nginx/.htpasswd</span></span><br><span class="line">~<span class="comment"># openssl passwd -apr1 | tee -a /etc/nginx/.htpasswd</span></span><br><span class="line">  Password: </span><br><span class="line">  Verifying - Password: </span><br><span class="line">  $apr1$*****.3F$**76W8E9vT65vn1cE/Mk41</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‚è½½åˆ°åšæœäº‘æ–¹æ³•"><a href="#æŒ‚è½½åˆ°åšæœäº‘æ–¹æ³•" class="headerlink" title="æŒ‚è½½åˆ°åšæœäº‘æ–¹æ³•"></a>æŒ‚è½½åˆ°åšæœäº‘æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install davfs2</span><br><span class="line">$ <span class="built_in">mkdir</span> -p /home/ä½ çš„ç”¨æˆ·å/www/nginx/jianguoyun</span><br><span class="line">$ sudo vim  /etc/davfs2/davfs2.conf</span><br><span class="line">  <span class="comment">#ignore_dav_header 0</span></span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸ºï¼š<br><code>ignore_dav_header 1</code><br>æŒ‚è½½ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mount -t davfs https://dav.jianguoyun.com/dav/ /home/ä½ çš„ç”¨æˆ·å/www/nginx/jianguoyun</span><br></pre></td></tr></table></figure><br>å–æ¶ˆæŒ‚è½½ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo fusermount -u /home/ä½ çš„ç”¨æˆ·å/www/nginx/jianguoyun</span><br></pre></td></tr></table></figure></p>
<h3 id="nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ"><a href="#nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ" class="headerlink" title="nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ"></a><code>nginx</code>åŠ å…¥åˆ°<code>systemctl</code>æœåŠ¡è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vim /usr/lib/systemd/system/nginx.service</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nginx</span><br><span class="line">After=network.target</span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/etc/nginx/logs/nginx.pid</span><br><span class="line">ExecStart=/etc/nginx/sbin/nginx</span><br><span class="line">ExecReload=/etc/nginx/sbin/nginx -s reload</span><br><span class="line">ExecStop=/etc/nginx/sbin/nginx -s stop</span><br><span class="line">PrivateTmp=<span class="literal">true</span></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><br>é‡æ–°åŠ è½½æœåŠ¡é…ç½®ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload  <span class="comment"># é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo systemctl start/stop/reload nginx <span class="comment">#å¼€å¯ã€åœæ­¢ã€é‡æ–°åŠ è½½nginx</span></span><br></pre></td></tr></table></figure></p>
<h2 id="å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š-1"><a href="#å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š-1" class="headerlink" title="å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š"></a>å››ã€æ‰‹æœºç”¨çš„è¿æ¥ä¸ºwebdavè½¯ä»¶ï¼š</h2><p>   <strong>è‹¹æœï¼š<a href="http://www.skyjos.cn/fileexplorer/">FEæ–‡ä»¶ç®¡ç†å™¨</a>ã€<a href="http://www.estrongs.com/">ESæ–‡ä»¶æµè§ˆå™¨</a></strong><br>   <strong>å®‰å“ï¼š<a href="https://apkdl.in/app/details?id=com.cxinventor.file.explorer">CXæ–‡ä»¶ç®¡ç†å™¨</a>æˆ–è€…<a href="https://apkpure.com/cn/cx-file-explorer/com.cxinventor.file.explorer">Cx File Explorer</a>ã€<a href="http://www.estrongs.com/">ESæ–‡ä»¶æµè§ˆå™¨</a></strong></p>
<p>   æ¨èå‡ ä¸ªå®‰å“ä¸‹è½½<code>google apk</code>ç½‘ç«™:<br>   1ã€<a href="https://apkcombo.com/zh/">apkcombo</a> ã€å·²å¢™ã€‘<br>   3ã€<a href="https://apkpure.com/cn">apkpure</a> ã€å·²å¢™ã€‘<br>   2ã€<a href="https://apkdl.in/">apkdl</a>  </p>
<h2 id="äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š"><a href="#äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š" class="headerlink" title="äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š"></a>äº”ã€ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š</h2><h3 id="1-æŸ¥æ‰¾è¿›ç¨‹ï¼š"><a href="#1-æŸ¥æ‰¾è¿›ç¨‹ï¼š" class="headerlink" title="1. æŸ¥æ‰¾è¿›ç¨‹ï¼š"></a>1. æŸ¥æ‰¾è¿›ç¨‹ï¼š</h3><p>  æŸ¥è¯¢ç«¯å£ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -ef |grep nginx</span><br></pre></td></tr></table></figure></p>
<h3 id="2-å¼€æ”¾ç«¯å£ï¼š"><a href="#2-å¼€æ”¾ç«¯å£ï¼š" class="headerlink" title="2. å¼€æ”¾ç«¯å£ï¼š"></a>2. å¼€æ”¾ç«¯å£ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install iptables</span><br><span class="line">$ sudo <span class="built_in">ln</span> -s /usr/sbin/iptables /usr/bin/iptables  //å»ºç«‹è½¯è¿æ¥</span><br><span class="line">$ sudo iptables -I INPUT -p tcp --dport 81 -j ACCEPT  //å¼€æ”¾81ç«¯å£</span><br></pre></td></tr></table></figure>
<p>æŒä¹…åŒ–è§„åˆ™ï¼šè¿™é‡Œæˆ‘ä»¬éœ€è¦åœ¨å®‰è£…ä¸€ä¸‹å·¥å…·æ¥å¸®æˆ‘ä»¬å®ç°ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>iptables-persistent</code><br>å®‰è£…<code>iptables-persistent</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install iptables-persistent</span><br></pre></td></tr></table></figure><br>æŒä¹…åŒ–è§„åˆ™<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo netfilter-persistent save</span><br><span class="line">$ sudo netfilter-persistent reload</span><br></pre></td></tr></table></figure><br>å®Œæˆä¸Šè¿°æ“ä½œå°±å¯ä»¥æ°¸ä¹…æ‰“å¼€æˆ‘ä»¬éœ€è¦çš„ç«¯å£äº†</p>
<h3 id="3-å…³äºæƒé™é—®é¢˜ï¼š"><a href="#3-å…³äºæƒé™é—®é¢˜ï¼š" class="headerlink" title="3. å…³äºæƒé™é—®é¢˜ï¼š"></a>3. å…³äºæƒé™é—®é¢˜ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vim nginx.conf</span><br><span class="line">  [sudo] ä½ çš„ç”¨æˆ·å çš„å¯†ç ï¼š</span><br><span class="line">	<span class="comment">#user  nobody;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨é‡Šæ‰<code>user</code>ï¼Œæ”¹ä¸º<br><code>user  nginx;</code><br>é‡æ–°åŠ è½½å‡ºç°ï¼šé”™è¯¯æç¤ºå¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo nginx -s reload</span><br><span class="line">  nginx: [emerg] getpwnam(<span class="string">&quot;nginx&quot;</span>) failed <span class="keyword">in</span> /etc/nginx/conf/nginx.conf:2</span><br><span class="line">$ sudo nginx -s closed</span><br><span class="line">  nginx: invalid option: <span class="string">&quot;-s closed&quot;</span></span><br><span class="line">$ sudo nginx -s stop</span><br><span class="line">  nginx: [emerg] getpwnam(<span class="string">&quot;nginx&quot;</span>) failed <span class="keyword">in</span> /etc/nginx/conf/nginx.conf:2</span><br></pre></td></tr></table></figure><br><strong>è§£å†³åŠæ³•ï¼š</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo useradd -s /sbin/nologin -M  nginx</span><br><span class="line">  useraddï¼šç”¨æˆ·â€œnginxâ€å·²å­˜åœ¨</span><br><span class="line">$ <span class="built_in">id</span> nginx</span><br><span class="line">  uid=117(nginx) gid=125(nginx) ç»„=125(nginx)</span><br><span class="line">$ systemctl start nginx</span><br><span class="line">$ sudo nginx -s reload</span><br></pre></td></tr></table></figure></p>
<h3 id="4-make-upgrade-å¹³æ»‘å‡çº§"><a href="#4-make-upgrade-å¹³æ»‘å‡çº§" class="headerlink" title="4. make upgrade å¹³æ»‘å‡çº§"></a>4. <code>make upgrade</code> å¹³æ»‘å‡çº§</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">~<span class="comment"># /sbin/mount.davfs: mounting failed; the server does not support WebDAV</span></span><br></pre></td></tr></table></figure>
<p>åŸå› æ˜¯<code>mount.davfs</code>å‘½ä»¤åœ¨æŒ‚è½½æ—¶å’Œ <code>WebDAV</code> æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå¹¶é€šè¿‡ <code>libneon</code>åº“çš„ <code>ne_options</code> å‡½æ•°å‘é€ <code>HTTP OPTIONS</code> è¯·æ±‚è·å– <code>WebDAV</code> æœåŠ¡å™¨èƒ½åŠ›ï¼Œè™½ç„¶è¿”å›æˆåŠŸä½†åˆ¤æ–­åšæœäº‘ <code>WebDAV</code> æœåŠ¡å™¨ä¸æ”¯æŒ <code>Class 1 WebDAV</code>ï¼Œå› æ­¤ç›´æ¥æŠ¥é”™æŒ‚è½½å¤±è´¥ã€‚<br>çœ‹åˆ°è¿™é‡Œè§£å†³åŠæ³•ä¹Ÿå°±ç®€å•äº†ï¼Œ<code>davfs2</code> æä¾›äº†é€šè¿‡é…ç½®æ–‡ä»¶ç¦ç”¨ <code>WebDAV</code>å¤´æ£€æµ‹çš„åŠŸèƒ½ï¼Œ<br><strong>ç›´æ¥ä¿®æ”¹<code>/etc/davfs2/davfs2.conf</code>é…ç½®æ–‡ä»¶è§£æ³¨é‡Šå¹¶æ”¹ä¸ºï¼š<code>ignore_dav_header 1</code></strong></p>
<h2 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h2><ol>
<li><a href="http://www.v5b7.com/webserver/nginx/nginx_webdav.html">nginxé…ç½®webdavï¼š</a></li>
<li><a href="https://www.cnblogs.com/catlee/p/10290497.html">æºç ç¼–è¯‘å®‰è£…nginxè¯¦ç»†æ­¥éª¤ï¼š</a></li>
<li><a href="https://xieshaohu.wordpress.com/2019/07/12/nginx%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85webdav%E6%A8%A1%E5%9D%97/">nginxç¼–è¯‘å®‰è£…webdavæ¨¡å—ï¼š</a></li>
<li><a href="https://blog.ghostry.cn/server/889.html">debianä¸‹ä¸ºNginxæ·»åŠ webdav:</a></li>
<li><a href="https://blog.csdn.net/u013401853/article/details/113094734">davfsæŒ‚è½½ä¸ä½¿ç”¨ç¼ºé™·ï¼š</a></li>
<li><a href="https://www.moerats.com/archives/317/">Linuxé€šè¿‡å®‰è£…davfs2æ¥æŒ‚è½½webdavç½‘ç›˜ï¼š</a></li>
<li><a href="https://www.cnblogs.com/Dev0ps/p/12000221.html">NginxæœåŠ¡åŠ åˆ°systemctl:</a></li>
</ol>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Webdav</category>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Webdav</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian10ç³»ç»ŸsystemctlæœåŠ¡ç®¡ç†æ–¹å¼ä¸‹Nginxè®¾ç½®å¼€æœºå¯åŠ¨</title>
    <url>/2021/06/20/Debian10%E7%B3%BB%E7%BB%9Fsystemctl%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E4%B8%8BNginx%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>linuxæœåŠ¡ç›®å‰ä¸»è¦æœ‰serviceå’Œsystemctlä¸¤ç§ç®¡ç†æ–¹å¼ï¼Œsystemdæ˜¯Linuxç³»ç»Ÿæœ€æ–°çš„åˆå§‹åŒ–ç³»ç»Ÿ(init),ä½œç”¨æ˜¯æé«˜ç³»ç»Ÿçš„å¯åŠ¨é€Ÿåº¦ï¼Œå°½å¯èƒ½å¯åŠ¨è¾ƒå°‘çš„è¿›ç¨‹ï¼Œå°½å¯èƒ½æ›´å¤šè¿›ç¨‹å¹¶å‘å¯åŠ¨ï¼Œå¯¹åº”çš„è¿›ç¨‹ç®¡ç†å‘½ä»¤æ˜¯systemctlã€‚  </p>
<h1 id="1-å»ºç«‹æœåŠ¡æ–‡ä»¶"><a href="#1-å»ºç«‹æœåŠ¡æ–‡ä»¶" class="headerlink" title="1. å»ºç«‹æœåŠ¡æ–‡ä»¶"></a>1. å»ºç«‹æœåŠ¡æ–‡ä»¶</h1><p>å‘½ä»¤ <code>sudo vim /usr/lib/systemd/system/nginx.service</code>ï¼Œè¿›å…¥æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶è¿›å»ä¿å­˜å³å¯<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nginx  </span><br><span class="line">After=network.target  </span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/nginx/sbin/nginx</span><br><span class="line">ExecReload=/bin/kill -s reload</span><br><span class="line">ExecStop=/bin/kill -s stop</span><br><span class="line">PrivateTmp=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><br>å‚æ•°è¯´æ˜ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]:æœåŠ¡çš„è¯´æ˜</span><br><span class="line">Description=:æè¿°æœåŠ¡</span><br><span class="line">After=:æè¿°æœåŠ¡ç±»åˆ«</span><br><span class="line"></span><br><span class="line">[Service]æœåŠ¡è¿è¡Œå‚æ•°çš„è®¾ç½®</span><br><span class="line">Type=forkingæ˜¯åå°è¿è¡Œçš„å½¢å¼</span><br><span class="line">ExecStart=ä¸ºæœåŠ¡çš„å…·ä½“è¿è¡Œå‘½ä»¤æ‰€åœ¨è·¯å¾„</span><br><span class="line">ExecReload=ä¸ºé‡å¯å‘½ä»¤</span><br><span class="line">ExecStop=ä¸ºåœæ­¢å‘½ä»¤</span><br><span class="line">PrivateTmp=Trueè¡¨ç¤ºç»™æœåŠ¡åˆ†é…ç‹¬ç«‹çš„ä¸´æ—¶ç©ºé—´</span><br><span class="line">æ³¨æ„ï¼šå¯åŠ¨ã€é‡å¯ã€åœæ­¢å‘½ä»¤å…¨éƒ¨è¦æ±‚ä½¿ç”¨ç»å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">[Install]æœåŠ¡å®‰è£…çš„ç›¸å…³è®¾ç½®ï¼Œå¯è®¾ç½®ä¸ºå¤šç”¨æˆ·</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></p>
<h1 id="2-è®¾ç½®æ–‡ä»¶æƒé™å¹¶ä½¿æ–‡ä»¶ç”Ÿæ•ˆ"><a href="#2-è®¾ç½®æ–‡ä»¶æƒé™å¹¶ä½¿æ–‡ä»¶ç”Ÿæ•ˆ" class="headerlink" title="2. è®¾ç½®æ–‡ä»¶æƒé™å¹¶ä½¿æ–‡ä»¶ç”Ÿæ•ˆ"></a>2. è®¾ç½®æ–‡ä»¶æƒé™å¹¶ä½¿æ–‡ä»¶ç”Ÿæ•ˆ</h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> 755 /usr/lib/systemd/system/nginx.service</span><br><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure></p>
<h1 id="3-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#3-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="3.è®¾ç½®å¼€æœºå¯åŠ¨"></a>3.è®¾ç½®å¼€æœºå¯åŠ¨</h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> nginx.service</span><br></pre></td></tr></table></figure><br>åªæœ‰è¿”å›ç±»ä¼¼ <code>Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /etc/systemd/system/nginx.service</code>æç¤ºæ‰èƒ½å¤Ÿç¡®å®šè®¾ç½®æˆåŠŸã€‚å¦‚æœä¸æ˜¯è¯·æ£€æŸ¥ä¸Šé¢çš„æ–‡ä»¶.  </p>
<h1 id="4-å…¶ä»–å‘½ä»¤"><a href="#4-å…¶ä»–å‘½ä»¤" class="headerlink" title="4. å…¶ä»–å‘½ä»¤"></a>4. å…¶ä»–å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl is-enabled *.service <span class="comment">#æŸ¥è¯¢æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">enable</span> *.service <span class="comment">#å¼€æœºè¿è¡ŒæœåŠ¡</span></span><br><span class="line">systemctl <span class="built_in">disable</span> *.service <span class="comment">#å–æ¶ˆå¼€æœºè¿è¡Œ</span></span><br><span class="line">systemctl start *.service <span class="comment">#å¯åŠ¨æœåŠ¡</span></span><br><span class="line">systemctl stop *.service <span class="comment">#åœæ­¢æœåŠ¡</span></span><br><span class="line">systemctl restart *.service <span class="comment">#é‡å¯æœåŠ¡</span></span><br><span class="line">systemctl reload *.service <span class="comment">#é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">systemctl status *.service <span class="comment">#æŸ¥è¯¢æœåŠ¡è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">systemctl --failed <span class="comment">#æ˜¾ç¤ºå¯åŠ¨å¤±è´¥çš„æœåŠ¡</span></span><br></pre></td></tr></table></figure>
<p><code>*</code>æŒ‡æ‰€è®¾ç½®çš„ç¨‹åºåç§° æ¯”å¦‚ï¼š<code>nginx.service</code>   </p>
<p>è½¬è½½äº<a href="https://blog.csdn.net/ren365880/article/details/103597006">nginxåœ¨systemctlæ–¹å¼å¼€æœºè‡ªå¯åŠ¨</a><br>å‚è€ƒèµ„æ–™ï¼š    </p>
<p>1.<a href="https://www.cnblogs.com/seasen/p/12603017.html">nginxæ·»åŠ serviceä»¥åŠéšå¼€æœºå¯åŠ¨:</a>  </p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Systemctl</tag>
        <tag>Debian</tag>
        <tag>å¯åŠ¨æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ä¸‹Genymothionå®‰è£…è®°å½•</title>
    <url>/2021/11/02/Debian11%E4%B8%8BGenymotion%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€æ³¨å†Œç”¨æˆ·"><a href="#1ã€æ³¨å†Œç”¨æˆ·" class="headerlink" title="1ã€æ³¨å†Œç”¨æˆ·"></a>1ã€æ³¨å†Œç”¨æˆ·</h1><p><a href="https://www-v1.genymotion.com/account/create/">æ³¨å†Œåœ°å€</a></p>
<h1 id="2ã€ä¸‹è½½å®‰è£…æ–‡ä»¶"><a href="#2ã€ä¸‹è½½å®‰è£…æ–‡ä»¶" class="headerlink" title="2ã€ä¸‹è½½å®‰è£…æ–‡ä»¶"></a>2ã€ä¸‹è½½å®‰è£…æ–‡ä»¶</h1><p><a href="https://www.genymotion.com/download/">Genymotionä¸‹è½½åœ°å€</a><br><a href="https://www.virtualbox.org/wiki/Linux_Downloads">virtualboxä¸‹è½½åœ°å€</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-PC:~/ä¸‹è½½$ sudo <span class="built_in">mkdir</span> -p /home/user/share</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo <span class="built_in">chmod</span> 777 /home/user/share</span><br></pre></td></tr></table></figure></p>
<h1 id="3ã€ç§»åŠ¨åˆ°æœ¬åœ°æ–‡ä»¶å¤¹"><a href="#3ã€ç§»åŠ¨åˆ°æœ¬åœ°æ–‡ä»¶å¤¹" class="headerlink" title="3ã€ç§»åŠ¨åˆ°æœ¬åœ°æ–‡ä»¶å¤¹"></a>3ã€ç§»åŠ¨åˆ°æœ¬åœ°æ–‡ä»¶å¤¹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-PC:~/ä¸‹è½½$ <span class="built_in">mv</span> ~/ä¸‹è½½/genymotion-3.2.1-linux_x64.bin virtualbox-6.1_6.1.28-147628~Debian~bullseye_amd64.deb ~/local/</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ <span class="built_in">cd</span> ~/local</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="4ã€å®‰è£…"><a href="#4ã€å®‰è£…" class="headerlink" title="4ã€å®‰è£…"></a>4ã€å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt install ./virtualbox-6.1_6.1.28-147628~Debian~bullseye_amd64.deb  // å®‰è£…virtualbox</span><br><span class="line">$ sudo <span class="built_in">chmod</span> u+x genymotion-3.2.1-linux_x64.bin // èµ‹äºˆå¯æ‰§è¡Œæƒé™</span><br><span class="line">$ sudo ./genymotion-3.2.1-linux_x64.bin  // å®‰è£…Genymotion</span><br><span class="line">Installing <span class="keyword">for</span> all <span class="built_in">users</span>.</span><br><span class="line"></span><br><span class="line">Installing to folder [/opt/genymobile/genymotion]. Are you sure [y/n] ? y</span><br><span class="line"></span><br><span class="line">- Trying to find VirtualBox toolset .................... WARNING (Virtualbox was not found <span class="keyword">in</span> you PATH. Please install it manually)</span><br><span class="line">- Extracting files ..................................... OK (Extract into: [/opt/genymobile/genymotion])</span><br><span class="line">- Installing launcher icon ............................. OK</span><br><span class="line"></span><br><span class="line">Installation <span class="keyword">done</span> successfully.</span><br><span class="line">You can now use these tools from [/opt/genymobile/genymotion]:</span><br><span class="line"> - genymotion</span><br><span class="line"> - genymotion-shell</span><br><span class="line"> - gmtool</span><br></pre></td></tr></table></figure>
<h1 id="5ã€å¯åŠ¨ç™»é™†"><a href="#5ã€å¯åŠ¨ç™»é™†" class="headerlink" title="5ã€å¯åŠ¨ç™»é™†"></a>5ã€å¯åŠ¨ç™»é™†</h1><p>åœ¨ç³»ç»Ÿæˆ–è€…å¼€å‘é‡Œæ‰¾åˆ°Genymotionç¨‹åº,ç‚¹å‡»æ‰“å¼€è¾“å…¥æ³¨å†Œç”¨æˆ·åå’Œå¯†ç é€‰æ‹©ä¸ªäººç”¨æˆ·ç™»é™†å³å¯</p>
<h1 id="6-é€‰æ‹©æœºå‹å®‰è£…"><a href="#6-é€‰æ‹©æœºå‹å®‰è£…" class="headerlink" title="6 é€‰æ‹©æœºå‹å®‰è£…"></a>6 é€‰æ‹©æœºå‹å®‰è£…</h1><p>åœ¨è½¯ä»¶ç•Œé¢ç‚¹å‡»å³ä¸Šçš„<code>+</code>å³å¯é€‰æ‹©æœºå‹,ç„¶åå®‰è£…å³å¯</p>
<p>å…·ä½“å¯å‚è€ƒï¼š<br><a href="https://www.virtualbox.org/wiki/Linux_Downloads">virtualboxå®‰è£…ä»‹ç»</a><br><a href="https://docs.genymotion.com/desktop/latest/Get_started/013_Linux_install.html">Genymotionå®‰è£…ä»‹ç»</a><br><a href="https://www.jianshu.com/p/b18f82457345">Genymotionå®‰è£…æ•™ç¨‹åŠè¸©å‘è§£å†³æ–¹æ³•</a><br><a href="https://github.com/m9rco/Genymotion_ARM_Translation">Genymotion Canâ€™t install the APK solution:</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Genymotion</category>
      </categories>
      <tags>
        <tag>Genymotion</tag>
        <tag>Debian11</tag>
        <tag>Android</tag>
        <tag>å®‰å“æ¨¡æ‹Ÿå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ä¸‹SMBShareå®‰è£…</title>
    <url>/2021/10/06/Debian11%E4%B8%8BSMBShare%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…"><a href="#1ã€ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…" class="headerlink" title="1ã€ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…"></a>1ã€ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-PC:~/ä¸‹è½½$ sudo apt  update</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo apt  -y install samba</span><br></pre></td></tr></table></figure>
<h1 id="2ã€åˆ›å»ºå¹¶è®¾ç½®å…±äº«ç›®å½•"><a href="#2ã€åˆ›å»ºå¹¶è®¾ç½®å…±äº«ç›®å½•" class="headerlink" title="2ã€åˆ›å»ºå¹¶è®¾ç½®å…±äº«ç›®å½•"></a>2ã€åˆ›å»ºå¹¶è®¾ç½®å…±äº«ç›®å½•</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-PC:~/ä¸‹è½½$ sudo <span class="built_in">mkdir</span> -p /home/user/share</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo <span class="built_in">chmod</span> 777 /home/user/share</span><br></pre></td></tr></table></figure>
<h1 id="3ã€å°†ç”¨æˆ·åŠ å…¥ç»„"><a href="#3ã€å°†ç”¨æˆ·åŠ å…¥ç»„" class="headerlink" title="3ã€å°†ç”¨æˆ·åŠ å…¥ç»„"></a>3ã€å°†ç”¨æˆ·åŠ å…¥ç»„</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å½“å‰ç”¨æˆ·</span></span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo smbpasswd -a user   //æ·»åŠ ç”¨æˆ·</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user user.</span><br><span class="line"><span class="comment"># åˆ é™¤ç”¨æˆ·ï¼š</span></span><br><span class="line">sudo smbpasswd -x user</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè¦åˆ›å»ºç”¨æˆ·å¹¶æ·»åŠ åˆ™éœ€è¦å¦‚ä¸‹æ­¥éª¤</span></span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo groupadd user2 -g 6000</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo useradd -u 6000 -g 6000 -s /sbin/nologin -d /dev/null</span><br><span class="line"></span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo useradd user2 -g user2</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ <span class="built_in">cat</span>  /etc/group //æŸ¥è¯¢ç»„</span><br><span class="line">user@user-PC:~/ä¸‹è½½$ <span class="built_in">cat</span> /etc/passwd   //æŸ¥è¯¢ç”¨æˆ·</span><br><span class="line"></span><br><span class="line">user@user-PC:~/ä¸‹è½½$ sudo smbpasswd -a user2   //æ·»åŠ ç”¨æˆ·</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user user2.</span><br><span class="line"><span class="comment"># åˆ é™¤ç”¨æˆ·ï¼š</span></span><br><span class="line">sudo smbpasswd -x user2</span><br></pre></td></tr></table></figure>
<p>3ã€é…ç½®smb<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-PC:~/ä¸‹è½½$ sudo vim /etc/samba/smb.conf</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[shareD]</span><br><span class="line">  comment = Share-rw</span><br><span class="line"> ;å…±äº«ç›®å½•å…¨è·¯å¾„</span><br><span class="line">  path = /media/yourUserName/æ–‡æ¡£/Share                </span><br><span class="line">  available = <span class="built_in">yes</span></span><br><span class="line">  browsable = <span class="built_in">yes</span></span><br><span class="line">;å†™å…¥æƒé™</span><br><span class="line">  public = <span class="built_in">yes</span></span><br><span class="line">  writable = <span class="built_in">yes</span>  </span><br><span class="line">;å¯è®¿é—®çš„ç”¨æˆ·</span><br><span class="line">  valid <span class="built_in">users</span> = yourUserName</span><br><span class="line">[shareM]</span><br><span class="line">  comment = Share-rw</span><br><span class="line"> ;å…±äº«ç›®å½•å…¨è·¯å¾„</span><br><span class="line">  path = /media/yourUserName/å¨±ä¹/å½±è§†å¨±ä¹</span><br><span class="line">  available = <span class="built_in">yes</span></span><br><span class="line">  browsable = <span class="built_in">yes</span></span><br><span class="line">;å†™å…¥æƒé™</span><br><span class="line">  public = <span class="built_in">yes</span></span><br><span class="line">  writable = <span class="built_in">yes</span>  </span><br><span class="line">;å¯è®¿é—®çš„ç”¨æˆ·</span><br><span class="line">  valid <span class="built_in">users</span> = yourUserName</span><br></pre></td></tr></table></figure><br>é™„å…¶ä»–å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo smbpasswd -d å†»ç»“ç”¨æˆ·ï¼Œå°±æ˜¯è¿™ä¸ªç”¨æˆ·ä¸èƒ½åœ¨ç™»å½•äº†</span><br><span class="line">$ sudo smbpasswd -e æ¢å¤ç”¨æˆ·ï¼Œè§£å†»ç”¨æˆ·ï¼Œè®©å†»ç»“çš„ç”¨æˆ·å¯ä»¥åœ¨ä½¿ç”¨</span><br><span class="line">$ sudo smbpasswd -n æŠŠç”¨æˆ·çš„å¯†ç è®¾ç½®æˆç©º.</span><br><span class="line">             è¦åœ¨globalä¸­å†™å…¥ null passwords -<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">$ sudo systemctl status nmbd  // æŸ¥è¯¢SMBçŠ¶æ€</span><br><span class="line">$ sudo systemctl status smbd</span><br><span class="line"></span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> nmbd  // å…è®¸SMBå¼€æœºå¯åŠ¨</span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> smbd  // å…è®¸SMBå¼€æœºå¯åŠ¨</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“å¯å‚è€ƒï¼š<br><a href="https://www.cnblogs.com/chenjiangfeng/p/10148679.html">Linuxä¹‹Sambaéƒ¨ç½²</a><br><a href="https://www.cnblogs.com/jwanqiang/p/12016817.html">sambaæœåŠ¡å™¨çš„æ­å»ºå’Œç”¨æˆ·æƒé™ï¼Œæ–‡ä»¶å¤¹æƒé™è®¾ç½®</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>SMBshare</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>Smbshare</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11å®‰è£…wine</title>
    <url>/2022/01/02/Debian11%E5%AE%89%E8%A3%85wine/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…å…¬é’¥"><a href="#å®‰è£…å…¬é’¥" class="headerlink" title="å®‰è£…å…¬é’¥"></a>å®‰è£…å…¬é’¥</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim Release.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</span></span><br><span class="line">-----BEGIN PGP PUBLIC KEY BLOCK-----</span><br><span class="line">Version: GnuPG v1.4.5 (GNU/Linux)</span><br><span class="line"></span><br><span class="line">mQENBFu8fWQBCADM64J7qlcnI2KwxSKSdyaOi7hz44EUXDpC3+3hfFP8k28SgV3U</span><br><span class="line">4a/ydOdd2cDSne5w+yjrnJWYuS0sTiE7vQPtKfmCmQZfCStvoRe5Pt+AOy1GA/iu</span><br><span class="line">U5wHIZD+/A9CeQcu5L3PkVkmijz0LmSCq7HnnVB0SdFA5eFlV98H875EasvpJ3xU</span><br><span class="line">ziI3yvqdZ5/0LgKzOiFjk4rMXQS01a1dNpwFO7EXiq921ZjnXatdnsDQ/NAj7z8P</span><br><span class="line">3qnTAj6yvl7DtdlXXA2hiznEOZNCRLZ69vHq0hGIw+OKjpsUkCZK29AnY4wJxxzY</span><br><span class="line">frjknVW7tyZ6Hxwz6R4vaVlZ6h5WR/OiAdqlABEBAAG0NEVtdWxhdG9ycyBPQlMg</span><br><span class="line">UHJvamVjdCA8RW11bGF0b3JzQGJ1aWxkLm9wZW5zdXNlLm9yZz6JAT4EEwEIACgF</span><br><span class="line">Al/IneQCGwMFCQgq0IAGCwkIBwMCBhUIAgkKCwQWAgMBAh4BAheAAAoJEN+hdadR</span><br><span class="line">BJYObLMIAITmgANzWhIIVdnmI2be/xyHhVAwyEhWBb/omcJ0mbxJ9QuPtxJAUS9I</span><br><span class="line">ExslzbHOju37FlTLiWKZ6C/iJq4ThJYOufjrKL/PI+ynKSfyorF55ZfbV24kM3Og</span><br><span class="line">LB8piWvf6oIcBjoJpD+vnhoZW7nze4jXRP6I3DgNcMm597N/RPyZyCHLmhrOZmHS</span><br><span class="line">t2ppzWlsVEOnC8n08KPHDYYOPLbyR8Y2KvjbnS9Vip5Hr5gtbtRLz2ip7VBso7ar</span><br><span class="line">h9ZAZxzQl2u4iL5BKJ2lYjE/eJctHAK6QkWJR3FAlQsbSIHZKWGKIcZSlpKm+B5u</span><br><span class="line">7iV2zMHGPFWgjZSSeuLiGQypFJra0J2IRgQTEQIABgUCW7x9ZAAKCRA7MBG3a51l</span><br><span class="line">IwayAJ9dHmDag9nFY9GujfMr+foKquFS9wCfQlvp6Sz0N5aKdW00NGnZZ/EKHIQ=</span><br><span class="line">=2pEk</span><br><span class="line">-----END PGP PUBLIC KEY BLOCK-----</span><br><span class="line"><span class="comment"># æ·»åŠ </span></span><br><span class="line">sudo apt-key add Release.key</span><br></pre></td></tr></table></figure>
<h1 id="æ·»åŠ å®‰è£…æº"><a href="#æ·»åŠ å®‰è£…æº" class="headerlink" title="æ·»åŠ å®‰è£…æº"></a>æ·»åŠ å®‰è£…æº</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/Debian_11 ./</span><br></pre></td></tr></table></figure><br>æ·»åŠ æºå¯†é’¥<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg --add-architecture i386</span><br><span class="line">wget -nc https://dl.winehq.org/wine-builds/winehq.key</span><br><span class="line">--2021-05-08 14:29:29--  https://dl.winehq.org/wine-builds/winehq.key</span><br><span class="line"></span><br><span class="line">sudo apt-key add winehq.key</span><br><span class="line">OK</span><br><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><br>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb https://dl.winehq.org/wine-builds/debian/ bullseye main </span><br></pre></td></tr></table></figure><br>æ›´æ–°å®‰è£…æº<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install --install-recommends winehq-stable</span><br></pre></td></tr></table></figure></p>
<h1 id="åˆå§‹é…ç½®"><a href="#åˆå§‹é…ç½®" class="headerlink" title="åˆå§‹é…ç½®"></a>åˆå§‹é…ç½®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">winecfg</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…è½¯ä»¶"><a href="#å®‰è£…è½¯ä»¶" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wine uninstaller</span><br></pre></td></tr></table></figure>
<p>é™„æ³¨ï¼šå¸è½½<code>wine</code>åˆ™ç”¨ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt --purge autoremove --install-recommends winehq-stable</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…å¾®ä¿¡"><a href="#å®‰è£…å¾®ä¿¡" class="headerlink" title="å®‰è£…å¾®ä¿¡"></a>å®‰è£…å¾®ä¿¡</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> Wine</span><br><span class="line"><span class="built_in">cd</span> Wine</span><br></pre></td></tr></table></figure>
<p>åˆå§‹åŒ–<code>wine bottle config</code></p>
<p><strong>ä»¥ä¸‹<code>/path/to</code></strong>å³ä¸ºç”¨æˆ·ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">WINARCH=win32 WINEPREFIX=/path/to/Wine/WeChat winecfg</span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡winetricksæ·»åŠ ä¾èµ–é¡¹ç›®"><a href="#é€šè¿‡winetricksæ·»åŠ ä¾èµ–é¡¹ç›®" class="headerlink" title="é€šè¿‡winetricksæ·»åŠ ä¾èµ–é¡¹ç›®"></a>é€šè¿‡<code>winetricks</code>æ·»åŠ ä¾èµ–é¡¹ç›®</h2><h3 id="å®‰è£…winetricksçš„guiç•Œé¢"><a href="#å®‰è£…winetricksçš„guiç•Œé¢" class="headerlink" title="å®‰è£…winetricksçš„guiç•Œé¢"></a>å®‰è£…<code>winetricks</code>çš„<code>guiç•Œé¢</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install zenity</span><br><span class="line"><span class="comment"># é…ç½®å¾®ä¿¡æ•°æ®ç›®å½•</span></span><br><span class="line">WINARCH=win32 WINEPREFIX=/path/to/Wine/WeChat winetricks</span><br></pre></td></tr></table></figure>
<p>é€‰æ‹©é»˜è®¤çš„<code>Wineå®¹å™¨</code> -&gt; <code>OK</code> -&gt; <code>å®‰è£…Windows DLLç»„ä»¶</code> -&gt;<code>OK</code> -&gt; <code>å‹¾é€‰riched20.dllï¼ˆä»¥åŠriched32.dllï¼‰</code>-&gt; <code>OK</code> -&gt; <code>ç­‰å¾…å®‰è£…å³å¯</code>ã€‚</p>
<h3 id="å®‰è£…å¾®ä¿¡-1"><a href="#å®‰è£…å¾®ä¿¡-1" class="headerlink" title="å®‰è£…å¾®ä¿¡"></a>å®‰è£…å¾®ä¿¡</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">WINARCH=win32 WINEPREFIX=/path/to/Wine/WeChat wine WeChatSetup.exe</span><br></pre></td></tr></table></figure>
<h1 id="è§£å†³è¾“å…¥æ¡†æ–‡å­—è¾“å…¥é—®é¢˜"><a href="#è§£å†³è¾“å…¥æ¡†æ–‡å­—è¾“å…¥é—®é¢˜" class="headerlink" title="è§£å†³è¾“å…¥æ¡†æ–‡å­—è¾“å…¥é—®é¢˜"></a>è§£å†³è¾“å…¥æ¡†æ–‡å­—è¾“å…¥é—®é¢˜</h1><h2 id="å®‰è£…winetricks"><a href="#å®‰è£…winetricks" class="headerlink" title="å®‰è£…winetricks"></a>å®‰è£…<code>winetricks</code></h2><p><a href="https://packages.debian.org/bullseye/winetricks">ä¸‹è½½åœ°å€ï¼š</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg -i <span class="string">&quot;winetricks_0.0+20210206-2_all.deb&quot;</span></span><br><span class="line">winetricks riched20</span><br><span class="line"><span class="built_in">cat</span>: /tmp/winetricks.nTVgvhUR/stdout.tmp: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line"><span class="built_in">rm</span>: æ— æ³•åˆ é™¤ <span class="string">&#x27;/tmp/winetricks.nTVgvhUR/stdout.tmp&#x27;</span>: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line">------------------------------------------------------</span><br><span class="line">warning: Github æä¾›çš„ä¸‹è½½ï¼Ÿ ä¼¼ä¹ä¸æ˜¯ä¸ªæœ‰æ•ˆçš„ç‰ˆæœ¬å·ã€‚</span><br><span class="line">------------------------------------------------------</span><br><span class="line">Executing <span class="built_in">mkdir</span> -p /path/to</span><br><span class="line">------------------------------------------------------</span><br><span class="line">warning: You are using a 64-bit WINEPREFIX. Note that many verbs only install 32-bit versions of packages. If you encounter problems, please retest <span class="keyword">in</span> a clean 32-bit WINEPREFIX before reporting a bug.</span><br><span class="line">------------------------------------------------------</span><br><span class="line">Using winetricks 20210206-next - <span class="built_in">sha256sum</span>: 7cc2f1a44854b8449270cb46890d6cf3c9dff190ac40729ae4eb817b290df8f5 with wine-6.0.1 and WINEARCH=win64</span><br><span class="line">Executing w_do_call riched20</span><br><span class="line">Executing <span class="built_in">mkdir</span> -p /path/to</span><br><span class="line">------------------------------------------------------</span><br><span class="line">warning: You are using a 64-bit WINEPREFIX. Note that many verbs only install 32-bit versions of packages. If you encounter problems, please retest <span class="keyword">in</span> a clean 32-bit WINEPREFIX before reporting a bug.</span><br><span class="line">------------------------------------------------------</span><br><span class="line">Executing load_riched20 </span><br><span class="line">Executing <span class="built_in">mkdir</span> -p /path/to/.cache/winetricks/win2ksp4</span><br><span class="line">Executing <span class="built_in">cd</span> /path/to/.cache/winetricks/win2ksp4</span><br><span class="line">Downloading http://x3270.bgp.nu/download/specials/W2KSP4_EN.EXE to /path/to/.cache/winetricks/win2ksp4</span><br><span class="line"></span><br><span class="line">09/22 18:31:09 [NOTICE] Downloading 1 item(s)</span><br><span class="line">[<span class="comment">#fcb5f1 127MiB/129MiB(98%) CN:1 DL:10MiB]               </span></span><br><span class="line">09/22 18:31:23 [NOTICE] ä¸‹è½½å·²å®Œæˆï¼š/path/to/.cache/winetricks/win2ksp4/W2KSP4_EN.EXE</span><br><span class="line"></span><br><span class="line">ä¸‹è½½ç»“æœï¼š</span><br><span class="line">gid   |<span class="built_in">stat</span>|avg speed  |path/URI</span><br><span class="line">======+====+===========+=======================================================</span><br><span class="line">fcb5f1|OK  |   9.6MiB/s|/path/to/.cache/winetricks/win2ksp4/W2KSP4_EN.EXE</span><br><span class="line"></span><br><span class="line">çŠ¶æ€æ ‡è¯†ï¼š</span><br><span class="line">(OK)ï¼šä¸‹è½½å·²å®Œæˆã€‚</span><br><span class="line">Executing <span class="built_in">cd</span> /path/to/ä¸‹è½½/winetricks</span><br><span class="line">------------------------------------------------------</span><br><span class="line">warning: Cannot find cabextract.  Please install it (e.g. <span class="string">&#x27;sudo apt-get install cabextract&#x27;</span> or <span class="string">&#x27;sudo yum install cabextract&#x27;</span>).</span><br><span class="line">------------------------------------------------------</span><br></pre></td></tr></table></figure><br>æŒ‰ç…§æç¤ºè¾“å…¥ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install cabextract</span><br></pre></td></tr></table></figure><br>å¦‚æœä¸‹è½½ä¸æˆåŠŸï¼Œå¯ä»¥å¤šè¯•å‡ æ¬¡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼š<br>1ã€<a href="http://x3270.bgp.nu/download/specials/W2KSP4_EN.EXE]">W2KSP4_EN.EXE</a><br>2ã€<a href="https://web.archive.org/web/2000/https://ftp.hp.com/pub/softlib/software/msi/InstMsiW.exe">InstMsiW.exe</a><br>æ”¾åˆ°<code>/path/to/.cache/winetricks/win2ksp4/</code>å’Œ<code>/path/to/.cache/winetricks/msls31/</code>è·¯å¾„ä¸‹</p>
<p>å‚è€ƒ :<br>1ã€<a href="https://wiki.winehq.org/Debian">winehqå®˜ç½‘For Debian</a><br>2ã€<a href="https://wiki.winehq.org/Winetricks">Winetricksä»‹ç»</a><br>3ã€<a href="https://zhuanlan.zhihu.com/p/76331687">Linuxä¸‹é€šè¿‡Wineå®‰è£…å¾®ä¿¡</a><br>4ã€<a href="https://www.freesion.com/article/6055985563/">è§£å†³å¾®ä¿¡ç­‰æœ‰è¾“å…¥æ¡†çš„æ— æ³•è¾“å…¥é—®é¢˜</a><br>5ã€<a href="https://www.cnblogs.com/pengdonglin137/p/3784137.html">å®‰è£…å­—ä½“å‚è€ƒ{è§£å†³è¾“å…¥ä¸­æ–‡å‡ºç°æ–¹æ¡†}</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Wine</category>
      </categories>
      <tags>
        <tag>Wine</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç”¨Python3å’ŒJDBCæ“ä½œACCESS</title>
    <url>/2021/12/20/Debian11%E7%94%A8Python3%E5%92%8CJDBC%E6%93%8D%E4%BD%9CACCESS/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h1 id="å®‰è£…javaç¯å¢ƒ"><a href="#å®‰è£…javaç¯å¢ƒ" class="headerlink" title="å®‰è£…javaç¯å¢ƒ"></a>å®‰è£…<code>java</code>ç¯å¢ƒ</h1><p><code>UCanAccess</code>éœ€è¦<code>jar</code>ç¯å¢ƒï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥è£…<code>OpenJDK 11</code>:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install default-jdk</span><br></pre></td></tr></table></figure></p>
<h1 id="é©±åŠ¨ä¸‹è½½"><a href="#é©±åŠ¨ä¸‹è½½" class="headerlink" title="é©±åŠ¨ä¸‹è½½"></a>é©±åŠ¨ä¸‹è½½</h1><p>ä¸‹è½½å¹¶è§£å‹<code>UCanAccess JDBC</code>é©±åŠ¨ç¨‹åº<br><code>UCanAccess JDBC</code>é©±åŠ¨ç¨‹åº<a href="https://sourceforge.net/projects/ucanaccess/files/">ä¸‹è½½</a><br>ä¸‹è½½è§£å‹åï¼Œå¯ä»¥ç”¨ç»ˆç«¯ç›´æ¥æ“ä½œ<code>accessæ•°æ®åº“</code>ï¼Œè¿è¡Œ<code>UCanAccess-5.0.1.bin/console.sh</code>ï¼Œæ“ä½œå¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash console.sh</span><br><span class="line">/path/to/UCanAccess-5.0.1.bin</span><br><span class="line">Please, enter the full path to the access file (.mdb or .accdb): /path/to/stuTest.mdb</span><br><span class="line">Please, enter password: ******</span><br><span class="line">WARNING:Error <span class="keyword">in</span> the metadata of the table login_log: table<span class="string">&#x27;s row count in the metadata is 464 but 466 records have been found and loaded by UCanAccess. All will work fine, but it&#x27;</span>s better to repair your database.</span><br><span class="line">......</span><br><span class="line">Loaded Tables:</span><br><span class="line">&lt;ä½ çš„æ•°æ®è¡¨&gt;, xxx, xxx</span><br><span class="line">Loaded Queries:</span><br><span class="line">æŸ¥è¯¢æ¬¡æ•°</span><br><span class="line">Loaded Procedures:</span><br><span class="line">æ›¿æ¢(), æ’å…¥åˆ—()</span><br><span class="line">Loaded Indexes:</span><br><span class="line">......</span><br><span class="line">UCanAccess&gt;</span><br><span class="line">Copyright (c) 2021 Marco Amadei</span><br><span class="line">UCanAccess version 5.0.1</span><br><span class="line">You are connected!! </span><br><span class="line">Type quit to <span class="built_in">exit</span> </span><br><span class="line"></span><br><span class="line">Commands end with ; </span><br><span class="line"></span><br><span class="line">Use:   </span><br><span class="line">   <span class="built_in">export</span> [--<span class="built_in">help</span>] [--bom] [-d &lt;delimiter&gt;] [-t &lt;table&gt;] [--big_query_schema &lt;pathToSchemaFile&gt;] [--newlines] &lt;pathToCsv&gt;;</span><br><span class="line"><span class="keyword">for</span> exporting the result <span class="built_in">set</span> from the last executed query or a specific table into a .csv file</span><br><span class="line"></span><br><span class="line">UCanAccess&gt;select count(*) from &lt;ä½ çš„æ•°æ®è¡¨&gt;;</span><br><span class="line"></span><br><span class="line">Â·-----Â·</span><br><span class="line">|  C1 |</span><br><span class="line">Â·-----Â·</span><br><span class="line">| 466 |</span><br><span class="line">Â·-----Â·</span><br></pre></td></tr></table></figure></p>
<h1 id="æ¨¡å—å®‰è£…"><a href="#æ¨¡å—å®‰è£…" class="headerlink" title="æ¨¡å—å®‰è£…"></a>æ¨¡å—å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install JPype1 jaydebeapi</span><br></pre></td></tr></table></figure>
<h1 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jaydebeapi</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶è·¯å¾„è¦ç”¨ç»å¯¹è·¯å¾„</span></span><br><span class="line">db_path = <span class="string">&quot;/path/to/accessæ•°æ®åº“.mdb&quot;</span> </span><br><span class="line">psw = <span class="string">&quot;accessæ•°æ®åº“çš„å¯†ç &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ–‡ä»¶`UCanAccess-5.0.1.bin`æ˜¯`UCanAccess JDBC`é©±åŠ¨ç¨‹åºä¸‹è½½è§£å‹åçš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">ucanaccess_jars = [</span><br><span class="line">    <span class="string">&quot;/psth/to/UCanAccess-5.0.1.bin/ucanaccess-5.0.1.jar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/psth/to/UCanAccess-5.0.1.bin/lib/commons-lang3-3.8.1.jar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/psth/to/UCanAccess-5.0.1.bin/lib/commons-logging-1.2.jar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/psth/to/UCanAccess-5.0.1.bin/lib/hsqldb-2.5.0.jar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/psth/to/UCanAccess-5.0.1.bin/lib/jackcess-3.0.1.jar&quot;</span>,</span><br><span class="line">    ]</span><br><span class="line">classpath = <span class="string">&quot;:&quot;</span>.join(ucanaccess_jars)</span><br><span class="line">conn = jaydebeapi.connect(</span><br><span class="line">    <span class="string">&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;</span>,</span><br><span class="line">    <span class="string">f&quot;jdbc:ucanaccess://<span class="subst">&#123;db_path&#125;</span>;password=<span class="subst">&#123;psw&#125;</span>&quot;</span>,</span><br><span class="line">    [<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>],</span><br><span class="line">    classpath</span><br><span class="line">    )</span><br><span class="line"><span class="comment">## æŸ¥è¯¢</span></span><br><span class="line">cur = conn.cursor()</span><br><span class="line">cur.execute(<span class="string">&quot;select * from &lt;ä½ çš„æ•°æ®è¡¨&gt;&quot;</span>)</span><br><span class="line">result = cur.fetchall()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ‰€æœ‰æ•°æ®ï¼š&quot;</span>, result)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¬¬äºŒæ¡æ•°æ®ï¼š&quot;</span>, result[<span class="number">1</span>])</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line">æ‰€æœ‰æ•°æ®æ˜¯ï¼š [(<span class="number">1</span>, <span class="string">&#x27;èµµå¤§&#x27;</span>, <span class="number">20</span>), (<span class="number">2</span>, <span class="string">&#x27;é’±äºŒ&#x27;</span>, <span class="number">30</span>), (<span class="number">3</span>, <span class="string">&#x27;sunsan&#x27;</span>, <span class="number">25</span>)]</span><br><span class="line">ç¬¬äºŒæ¡æ•°æ®æ˜¯ï¼š (<span class="number">2</span>, <span class="string">&#x27;é’±äºŒ&#x27;</span>, <span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚å›¾ï¼š<br><img src="/pic/2021/12/Access/debian11_jdbc_access.png" alt="debian11_jdbc_access.png"><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## æ’å…¥</span></span><br><span class="line">cur.execute(<span class="string">&quot;insert into tb_usr (ID,usr_name,usr_age) values (4,&#x27;æå››&#x27;,32),(5,&#x27;å‘¨äº”&#x27;,38)&quot;</span>)</span><br><span class="line">conn.commit</span><br></pre></td></tr></table></figure><br>å¦‚å›¾ï¼š<br><img src="/pic/2021/12/Access/debian11_jdbc_access-1.png" alt="debian11_jdbc_access-1.png"></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br>1ã€<a href="https://cxymm.net/article/lyh03601/104040887">LINUXé€šè¿‡pythonè¿æ¥ACCESS(.mdbå’Œ.accdbæ–‡ä»¶)æ•°æ®åº“</a><br>2ã€<a href="https://www.linuxidc.com/Linux/2019-08/159870.htm">å¦‚ä½•åœ¨ Debian 10 Linux ä¸Šå®‰è£… Java</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Access</category>
        <category>UCanAccess</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Access</tag>
        <tag>Debian11</tag>
        <tag>UCanAccess</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç”¨Pythonå’ŒODBCæ“ä½œACCESS</title>
    <url>/2021/12/21/Debian11%E7%94%A8Python3%E5%92%8CODBC%E6%93%8D%E4%BD%9CACCESS/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…ç³»ç»Ÿæ”¯æŒåŒ…ï¼š"><a href="#å®‰è£…ç³»ç»Ÿæ”¯æŒåŒ…ï¼š" class="headerlink" title="å®‰è£…ç³»ç»Ÿæ”¯æŒåŒ…ï¼š"></a>å®‰è£…ç³»ç»Ÿæ”¯æŒåŒ…ï¼š</h1><h2 id="å®‰è£…é©±åŠ¨ç¨‹åºç®¡ç†å™¨unixODBCæˆ–IODBC"><a href="#å®‰è£…é©±åŠ¨ç¨‹åºç®¡ç†å™¨unixODBCæˆ–IODBC" class="headerlink" title="å®‰è£…é©±åŠ¨ç¨‹åºç®¡ç†å™¨unixODBCæˆ–IODBC"></a>å®‰è£…é©±åŠ¨ç¨‹åºç®¡ç†å™¨<code>unixODBC</code>æˆ–<code>IODBC</code></h2><p>è¿™é‡Œä»¥ç¼–è¯‘å®‰è£…<code>unixODBC</code>ä¸ºä¾‹ã€‚<br>ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…æœ€æ–°ç‰ˆæœ¬<code>unixODBC-2.3.9</code>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -P ~/ä¸‹è½½/ http://www.unixodbc.org/unixODBC-2.3.9.tar.gz</span><br><span class="line"><span class="built_in">cd</span> ~/ä¸‹è½½</span><br><span class="line">gunzip unixODBC-2.3.9.tar.gz</span><br><span class="line">tar xvf unixODBC-2.3.9.tar</span><br><span class="line"><span class="built_in">cd</span> unixODBC-2.3.9</span><br><span class="line">./configure --prefix=/usr/local/unixODBC --enable-inicaching --enable-drivers --enable-driver-conf --enable-gui </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<h2 id="é…ç½®odbc-iniå’Œodbcinst-iniæ–‡ä»¶"><a href="#é…ç½®odbc-iniå’Œodbcinst-iniæ–‡ä»¶" class="headerlink" title="é…ç½®odbc.iniå’Œodbcinst.iniæ–‡ä»¶"></a>é…ç½®<code>odbc.ini</code>å’Œ<code>odbcinst.ini</code>æ–‡ä»¶</h2><p>å…¶ä¸­<code>odbc.ini</code>ä½äº<code>~/.odbc.ini</code>,åŒæ—¶å› ä¸ºå®‰è£…<code>unixODBC</code>æ—¶è·¯å¾„é…ç½®åœ¨<code>/usr/local/unixODBC</code>ï¼Œå› æ­¤åœ¨<code>/usr/local/unixODBC/etc</code>è·¯å¾„ä¸‹ä¹Ÿå­˜åœ¨;<br><code>odbcinst.ini</code>ä½äº<code>/etc</code>[<strong>é‡è¦</strong>]å’Œ<code>/usr/local/unixODBC/etc</code>è·¯å¾„ä¸‹.<br>é…ç½®å†…å®¹å‚è€ƒå¦‚ä¸‹ï¼š</p>
<h3 id="é…ç½®é©±åŠ¨æ–‡ä»¶odbcinst-iniï¼š"><a href="#é…ç½®é©±åŠ¨æ–‡ä»¶odbcinst-iniï¼š" class="headerlink" title="é…ç½®é©±åŠ¨æ–‡ä»¶odbcinst.iniï¼š"></a>é…ç½®<em>é©±åŠ¨</em>æ–‡ä»¶<code>odbcinst.ini</code>ï¼š</h3><p>ç”¨å‘½ä»¤<code>odbcinst -q -d</code>å¯æŸ¥çœ‹æ‰€æœ‰<em>é©±åŠ¨</em> æ–‡ä»¶<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Access]</span><br><span class="line">Description= ODBC DRIVER FOR Access</span><br><span class="line">Driver=/usr/lib/x86_64-linux-gnu/odbc/libmdbodbc.so</span><br><span class="line">Setup=</span><br><span class="line">FileUsage=1</span><br><span class="line">UsageCount=1</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­<code>odbcinst.ini</code>é…ç½®ä¸­çš„<code>[MDBToolsODBC]</code>å’Œ<code>odbc.ini</code>ä¸­çš„<code>Driver = MDBToolsODBC</code>ä¿æŒä¸€è‡´ï¼›<br><code>Driver=/usr/lib/x86_64-linux-gnu/odbc/libmdbodbc.so</code>ä¸­<code>libmdbodbc.so</code>æ˜¯å®‰è£…<code>odbc-mdbtools</code>åç”Ÿæˆçš„æ–‡ä»¶ã€‚<br>è·¯å¾„å‚è€ƒï¼š<br><a href="https://packages.debian.org/bullseye/amd64/odbc-mdbtools/filelist">åœ¨bullseyeå‘è¡Œç‰ˆä¸­amd64ç¡¬ä»¶æ¶æ„ä¸‹çš„odbc-mdbtoolsè½¯ä»¶åŒ…æ–‡ä»¶æ¸…å•</a></p>
<h3 id="é…ç½®è¿æ¥æ–‡ä»¶odbc-iniï¼š"><a href="#é…ç½®è¿æ¥æ–‡ä»¶odbc-iniï¼š" class="headerlink" title="é…ç½®è¿æ¥æ–‡ä»¶odbc.iniï¼š"></a>é…ç½®<em>è¿æ¥</em>æ–‡ä»¶<code>odbc.ini</code>ï¼š</h3><p>ç”¨å‘½ä»¤<code>odbcinst -q -s</code>å¯æŸ¥çœ‹æ‰€æœ‰ <em>è¿æ¥</em> çš„æ•°æ®æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[test]</span><br><span class="line">Description = ODBC DRIVER FOR Access</span><br><span class="line">Driver = Access</span><br><span class="line">Database = /path/to/yourFile.mdb</span><br><span class="line">Servername = localhost</span><br><span class="line">Username =</span><br><span class="line">Password = </span><br><span class="line">port =</span><br></pre></td></tr></table></figure>
<p><strong>åé¢ç”¨<code>Python</code>æ“ä½œæµ‹è¯•é‡‡ç”¨ä»¥ä¸‹å†™æ³•ï¼š</strong><br><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[A1]</span></span><br><span class="line"><span class="attr">Driver</span>   = /usr/lib/x<span class="number">86_64</span>-linux-gnu/odbc/libmdbodbc.so</span><br><span class="line"><span class="attr">Database</span> = /path/to/test/Debian_odbc.mdb</span><br><span class="line"></span><br><span class="line"><span class="section">[A2]</span></span><br><span class="line"><span class="attr">Driver</span>     = /usr/lib/x<span class="number">86_64</span>-linux-gnu/odbc/libmdbodbc.so</span><br><span class="line"><span class="attr">Database</span>   = /path/to/Debian_odbc.accdb</span><br><span class="line"><span class="attr">Servername</span> = </span><br><span class="line"><span class="attr">Username</span>   = </span><br><span class="line"><span class="attr">Password</span>   = </span><br><span class="line"><span class="attr">port</span>       = </span><br><span class="line"></span><br><span class="line"><span class="section">[A3]</span></span><br><span class="line"><span class="attr">Driver</span>     = Access</span><br><span class="line"><span class="attr">Database</span>   = /path/to/Debian_odbc.accdb</span><br><span class="line"><span class="attr">Servername</span> = </span><br><span class="line"><span class="attr">Username</span>   = </span><br><span class="line"><span class="attr">Password</span>   = </span><br><span class="line">port       = </span><br></pre></td></tr></table></figure></p>
<p><strong>æ ‡é¢˜<code>[A1]</code>å’Œåé¢<code>python</code>è¿æ¥ä»£ç ä¸­<code>DSN=A1</code>è¯­å¥åç§°è¦ä¸€è‡´ã€‚</strong></p>
<h2 id="å®‰è£…odbc-mdbtoolså’Œmdbtools"><a href="#å®‰è£…odbc-mdbtoolså’Œmdbtools" class="headerlink" title="å®‰è£…odbc-mdbtoolså’Œmdbtools"></a>å®‰è£…<code>odbc-mdbtools</code>å’Œ<code>mdbtools</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install odbc-mdbtools  <span class="comment"># è€åŒ…åç§°ä¸ºï¼šlibmdbodbc1</span></span><br><span class="line">sudo apt install mdbtools mdbtools-dev  libtool-dev <span class="comment"># é©±åŠ¨</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…å‚ç…§ä¸‹é¢æ­¥éª¤ç¼–è¯‘å®‰è£…<code>mdbtools</code></p>
<h3 id="ç¼–è¯‘å®‰è£…mdbtools"><a href="#ç¼–è¯‘å®‰è£…mdbtools" class="headerlink" title="ç¼–è¯‘å®‰è£…mdbtools"></a>ç¼–è¯‘å®‰è£…<code>mdbtools</code></h3><p><a href="https://github.com/mdbtools/mdbtools/releases/download/v1.0.0/mdbtools-1.0.0.tar.gz">ä¸‹è½½åœ°å€</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…æ”¯æŒ</span></span><br><span class="line">sudo apt install libtool automake autoconf bison unixodbc unixodbc-dev gawk</span><br><span class="line"><span class="built_in">cd</span> /path/to/mdbtools-1.0.0</span><br><span class="line"><span class="comment"># ç¼–è¯‘</span></span><br><span class="line">auto-apt run ./configure --prefix=/usr/local/mdbtools --with-unixodbc=/usr/local/unixODBC --enable-ltdl-install --enable-iconvperdriver --with-included-ltdl</span><br><span class="line">make</span><br><span class="line"><span class="comment"># å®‰è£…å¹¶ç”Ÿæˆå®‰è£…åŒ…</span></span><br><span class="line">sudo checkinstall</span><br></pre></td></tr></table></figure><br><del>é”™è¯¯å¾…è§£å†³ï¼š</del> <strong>å·²ç»è§£å†³</strong><br>é”™è¯¯æç¤ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">......</span><br><span class="line">checking <span class="keyword">for</span> SQLGetPrivateProfileString <span class="keyword">in</span> -lodbcinst... no</span><br><span class="line">configure: error: Could not find SQLGetPrivateProfileString <span class="keyword">in</span> -lodbcinst</span><br></pre></td></tr></table></figure><br>è§£å†³ï¼šå®‰è£…ç³»ç»Ÿæ”¯æŒåŒ…<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install libtool automake autoconf bison unixodbc unixodbc-dev gawk</span><br></pre></td></tr></table></figure><br>å‚ç…§ï¼š<a href="https://github.com/mdbtools/mdbtools">mdbtoolså¼€æºé¡¹ç›®åœ°å€</a></p>
<h1 id="å®‰è£…åæµ‹è¯•ï¼š"><a href="#å®‰è£…åæµ‹è¯•ï¼š" class="headerlink" title="å®‰è£…åæµ‹è¯•ï¼š"></a>å®‰è£…åæµ‹è¯•ï¼š</h1><h2 id="ç»ˆç«¯ä¸Šæµ‹è¯•ï¼š"><a href="#ç»ˆç«¯ä¸Šæµ‹è¯•ï¼š" class="headerlink" title="ç»ˆç«¯ä¸Šæµ‹è¯•ï¼š"></a>ç»ˆç«¯ä¸Šæµ‹è¯•ï¼š</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">isql -v <span class="built_in">test</span></span><br></pre></td></tr></table></figure><br>è¾“å‡ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+---------------------------------------+</span><br><span class="line">| Connected!                            |</span><br><span class="line">|                                       |</span><br><span class="line">| sql-statement                         |</span><br><span class="line">| <span class="built_in">help</span> [tablename]                      |</span><br><span class="line">| quit                                  |</span><br><span class="line">|                                       |</span><br><span class="line">+---------------------------------------+</span><br></pre></td></tr></table></figure><br>æµ‹è¯•<code>sql</code>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SQL&gt; select count(*) from login_log</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">+-------------------------------+</span><br><span class="line">| count                         |</span><br><span class="line">+-------------------------------+</span><br><span class="line">| 464                           |</span><br><span class="line">+-------------------------------+</span><br><span class="line">SQLRowCount returns 1</span><br><span class="line">1 rows fetched</span><br><span class="line">SQL&gt; </span><br></pre></td></tr></table></figure><br>å¦‚å›¾ï¼š<br><img src="/pic/2021/12/Access/debian11_odbc_access.png" alt="debian11_odbc_access.png"></p>
<h2 id="ç”¨Python3-10æµ‹è¯•"><a href="#ç”¨Python3-10æµ‹è¯•" class="headerlink" title="ç”¨Python3.10æµ‹è¯•"></a>ç”¨<code>Python3.10</code>æµ‹è¯•</h2><h3 id="å®‰è£…python3æ”¯æŒæ¨¡å—"><a href="#å®‰è£…python3æ”¯æŒæ¨¡å—" class="headerlink" title="å®‰è£…python3æ”¯æŒæ¨¡å—"></a>å®‰è£…<code>python3</code>æ”¯æŒæ¨¡å—</h3><p><strong><code>python3.10</code>æ²¡æ³•ç”¨<code>pip</code>å®‰è£…<code>pyodbc</code>,å¯ä»¥å®‰è£…<code>pypyodbc</code></strong>ï¼Œä»¥ä¸‹ç”¨<code>python3.10</code>å®‰è£…<code>pypyodbc</code>åšæµ‹è¯•<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pypyodbc</span><br></pre></td></tr></table></figure></p>
<h3 id="æ“ä½œè¯­å¥"><a href="#æ“ä½œè¯­å¥" class="headerlink" title="æ“ä½œè¯­å¥"></a>æ“ä½œè¯­å¥</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pypyodbc</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    cnxn = pypyodbc.connect(<span class="string">&#x27;DSN=A1&#x27;</span>, unicode_results=<span class="literal">False</span>)</span><br><span class="line">    cur = cnxn.cursor()</span><br><span class="line">    <span class="comment"># æŸ¥è¯¢è¡¨çš„ å­—æ®µé•¿åº¦ï¼Œå­—æ®µå</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(cur.description))</span><br><span class="line">    <span class="built_in">print</span>(cur.description) </span><br><span class="line">    <span class="keyword">for</span> column_name <span class="keyword">in</span> cur.description:</span><br><span class="line">        <span class="built_in">print</span>(column_name[<span class="number">0</span>])</span><br><span class="line">    cur.execute(<span class="string">&#x27;SELECT * from tb_usr&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> cur.fetchall():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¿™æ˜¯A1ï¼š&quot;</span>, row)</span><br><span class="line">    cur.close()</span><br><span class="line">    cnxn.close()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;é“¾æ¥é”™è¯¯ï¼š&quot;</span>, e)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">20</span>,<span class="string">&quot;è§£å†³ä¹±ç åˆ†å‰²çº¿&quot;</span>, <span class="string">&quot;#&quot;</span>*<span class="number">20</span>)</span><br><span class="line"><span class="comment">### æŸ¥è¯¢  ###</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    cnxn = pypyodbc.connect(<span class="string">&#x27;DSN=A1&#x27;</span>, unicode_results=<span class="literal">False</span>) <span class="comment"># ä»¥ bytes ç±»å‹è¾“å‡º</span></span><br><span class="line">    cur = cnxn.cursor()</span><br><span class="line">    cur.execute(<span class="string">&#x27;SELECT * from tb_usr&#x27;</span>)</span><br><span class="line">    <span class="comment"># for row in cur.fetchall():</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> cur:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¿™æ˜¯A1ï¼š&quot;</span>, row[<span class="number">0</span>], row[<span class="number">1</span>].decode(<span class="string">&quot;utf-8&quot;</span>), row[<span class="number">2</span>]) <span class="comment"># å­—æ®µå†…å®¹ä¸ºæ±‰å­—çš„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment"># for row in cur.fetchall():</span></span><br><span class="line">    <span class="comment">#     print(&quot;è¿™æ˜¯A1ï¼š&quot;, row)</span></span><br><span class="line">    cur.close()</span><br><span class="line">    cnxn.close()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;é“¾æ¥é”™è¯¯ï¼š&quot;</span>, e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######  ä»¥ä¸‹æŸ¥è¯¢å’Œä¿®æ”¹å‡æµ‹è¯•å¤±è´¥  ######</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###  æ’å…¥  ###</span></span><br><span class="line"><span class="comment"># try:</span></span><br><span class="line">      cnxn = pypyodbc.connect(<span class="string">&#x27;DSN=A1&#x27;</span>, unicode_results=<span class="literal">False</span>) <span class="comment"># ä»¥ bytes ç±»å‹è¾“å‡º</span></span><br><span class="line">      cnxn.autocommit = <span class="literal">False</span></span><br><span class="line">      cur = cnxn.cursor()  <span class="comment"># åˆ›å»ºæ¸¸æ ‡</span></span><br><span class="line">      <span class="comment"># keys = &quot;ID,usr_name,usr_age&quot;</span></span><br><span class="line">      <span class="comment"># values = &quot;6,&#x27;å´å…­&#x27;,38&quot;</span></span><br><span class="line">      <span class="comment"># insert_sql = &quot;INSERT into tb_usr (ID,usr_name,usr_age) values (&#123;0&#125;)&quot;.format(values)</span></span><br><span class="line">      <span class="comment"># insert_sql = f&quot;INSERT into tb_usr (&#123;keys&#125;) values (&#123;values&#125;)&quot;</span></span><br><span class="line">      <span class="comment"># insert_sql = &quot;&quot;&quot;</span></span><br><span class="line">      <span class="comment"># INSERT INTO tb_usr([ID], usr_name, usr_age) </span></span><br><span class="line">      <span class="comment"># VALUES (6,&#x27;wl&#x27;,38)</span></span><br><span class="line">      <span class="comment"># &quot;&quot;&quot;</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment"># cur.execute(insert_sql)</span></span><br><span class="line">      <span class="comment"># params = (6,&#x27;å´å…­&#x27;,38)</span></span><br><span class="line">      <span class="comment"># insert_sql = &quot;INSERT into tb_usr(ID, usr_name, usr_age) values (?,?,?)&quot;  </span></span><br><span class="line">      <span class="comment"># cur.execute(insert_sql, params)</span></span><br><span class="line">      <span class="comment"># </span></span><br><span class="line">      insert_sql = <span class="string">&quot;INSERT Into tb_usr(ID, usr_name, usr_age) values (6,&#x27;wuliu&#x27;,33)&quot;</span></span><br><span class="line">      cur.execute(insert_sql)</span><br><span class="line"><span class="comment"># except pypyodbc.DatabaseError as err:</span></span><br><span class="line"><span class="comment">#     cnxn.rollback()</span></span><br><span class="line"><span class="comment"># else:</span></span><br><span class="line"><span class="comment">#     cnxn.commit()</span></span><br><span class="line"><span class="comment"># finally:</span></span><br><span class="line"><span class="comment">#     cnxn.autocommit = True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###  ä¿®æ”¹  ###</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    cnxn = pypyodbc.connect(<span class="string">&#x27;DSN=A1&#x27;</span>, unicode_results=<span class="literal">False</span>) <span class="comment"># ä»¥ bytes ç±»å‹è¾“å‡º</span></span><br><span class="line">    cnxn.autocommit = <span class="literal">False</span></span><br><span class="line">    cur = cnxn.cursor()  <span class="comment"># åˆ›å»ºæ¸¸æ ‡</span></span><br><span class="line">    update_sql = <span class="string">&quot;UPDATE tb_usr SET usr_name= &#x27;lisi&#x27; WHERE ID = 1&quot;</span></span><br><span class="line">    cur.executemany(update_sql)</span><br><span class="line"><span class="keyword">except</span> pypyodbc.DatabaseError <span class="keyword">as</span> err:</span><br><span class="line">    cnxn.rollback()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    cnxn.commit()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å½±å“&quot;</span>,cur.rowcount,<span class="string">&quot;è¡Œ&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    cnxn.autocommit = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###### æ’å…¥é”™è¯¯æç¤º</span></span><br><span class="line">Error at Line : syntax error</span><br><span class="line">syntax error</span><br><span class="line">Got no result <span class="keyword">for</span> <span class="string">&#x27;INSERT Into tb_usr(ID, usr_name, usr_age) values (6,&#x27;</span>wuli<span class="string">u&#x27;,33)&#x27;</span> command</span><br><span class="line"><span class="comment">###### æ›´æ–°é”™è¯¯æç¤º</span></span><br><span class="line">Error at Line : syntax error</span><br><span class="line">syntax error</span><br><span class="line">Got no result <span class="keyword">for</span> <span class="string">&#x27;UPDATE tb_usr SET usr_name= &#x27;</span>lisi<span class="string">&#x27; WHERE ID = 1&#x27;</span> command</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚å›¾ï¼š<br><img src="/pic/2021/12/Access/debian11_odbc_access-1.png" alt="debian11_odbc_access-1.png"></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br>1ã€<a href="http://www.unixodbc.org/download.html">unixODBC DOWNLOADåœ°å€ï¼š</a><br>2ã€<a href="https://packages.debian.org/bullseye/amd64/mdbtools">JET / MS Access database (MDB) tools</a><br>3ã€<a href="https://packages.debian.org/bullseye/odbc-mdbtools">DB tools ODBC driver</a><br>4ã€<a href="https://packages.debian.org/search?keywords=MDBTools&amp;searchon=names&amp;suite=stable&amp;section=all">è½¯ä»¶åŒ…mdbtoolsæœç´¢ç»“æœ</a><br>5ã€<a href="http://mdbtools.sourceforge.net/">MDB Tools</a><br>6ã€<a href="https://github.com/mdbtools/mdbtools">MDB Toolså¼€æºé¡¹ç›®åœ°å€</a><br>7ã€<a href="https://www.easysoft.com/developer/interfaces/odbc/sqlstate_status_return_codes.html">é”™è¯¯ç æŸ¥è¯¢sqlstate_status_return_codes</a><br>8ã€<a href="https://www.jb51.net/article/65565.htm">åœ¨Linuxä¸­é€šè¿‡Pythonè„šæœ¬è®¿é—®mdbæ•°æ®åº“çš„æ–¹æ³•</a><br>9ã€<a href="https://www.easysoft.com/products/data_access/odbc-access-driver/index.html#section=tab-1">Access ODBC Driver</a><br>10ã€<a href="https://www.cdata.com/drivers/access/download/odbc/#unix">ODBC Driver Download: Access</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Access</category>
        <category>odbc-mdbtools</category>
        <category>Python</category>
        <category>mdbtools</category>
        <category>unixODBC</category>
      </categories>
      <tags>
        <tag>Access</tag>
        <tag>Python</tag>
        <tag>odbc-mdbtools</tag>
        <tag>mdbtools</tag>
        <tag>unixODBC</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç³»ç»Ÿä¸­ç”¨update-alternativesç‰ˆæœ¬ç®¡ç†</title>
    <url>/2022/01/27/Debian11%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%94%A8update-alternatives%E8%BF%9B%E8%A1%8C%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>update-alternatives</code>ç‰ˆæœ¬ç®¡ç†  </p>
<h1 id="ä¸ºç³»ç»Ÿè‡ªå¸¦python2-7åˆ›å»ºè½¯è¿æ¥"><a href="#ä¸ºç³»ç»Ÿè‡ªå¸¦python2-7åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="ä¸ºç³»ç»Ÿè‡ªå¸¦python2.7åˆ›å»ºè½¯è¿æ¥"></a>ä¸ºç³»ç»Ÿè‡ªå¸¦python2.7åˆ›å»ºè½¯è¿æ¥</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1</span><br><span class="line">```  </span><br><span class="line">`// --install é€‰é¡¹ä½¿ç”¨äº†å¤šä¸ªå‚æ•°ç”¨äºåˆ›å»ºç¬¦å·é“¾æ¥ã€‚`</span><br><span class="line"></span><br><span class="line">`update-alternatives`: ä½¿ç”¨ /usr/bin/python2.7 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">```bash</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.9 2</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/bin/python3.9 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ whereis python3.10</span><br><span class="line">python3: /usr/bin/python3.9 /usr/bin/python3 /usr/lib/python3.9 /usr/lib/python3 /etc/python3.9 /etc/python3 /usr/local/bin/python3 /usr/local/bin/python3.10-config /usr/local/bin/python3.10 /usr/local/lib/python3.9 /usr/local/lib/python3.10 /usr/share/python3 /usr/share/man/man1/python3.1.gz</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/local/bin/python3.10 3</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/local/bin/python3.10 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ sudo update-alternatives --list python</span><br><span class="line">/usr/bin/python2.7</span><br><span class="line">/usr/bin/python3.9</span><br><span class="line">/usr/local/bin/python3.10</span><br><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š</span><br></pre></td></tr></table></figure>
<h1 id="ä»¥ä¸‹ä¸ºåˆ‡æ¢3-9åŠåˆ‡æ¢ä¸º3-10å®ä¾‹ï¼š"><a href="#ä»¥ä¸‹ä¸ºåˆ‡æ¢3-9åŠåˆ‡æ¢ä¸º3-10å®ä¾‹ï¼š" class="headerlink" title="ä»¥ä¸‹ä¸ºåˆ‡æ¢3.9åŠåˆ‡æ¢ä¸º3.10å®ä¾‹ï¼š"></a>ä»¥ä¸‹ä¸ºåˆ‡æ¢3.9åŠåˆ‡æ¢ä¸º3.10å®ä¾‹ï¼š</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š2</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/bin/python3.9 æ¥åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ python</span><br><span class="line">Python 3.9.2 (default, Feb 28 2021, 17:03:44) </span><br><span class="line">[GCC 10.2.1 20210110] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">[6]+  å·²åœæ­¢               python</span><br><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">  0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">* 2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š0</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/local/bin/python3.10 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ python</span><br><span class="line">Python 3.10.0 (default, Oct 17 2021, 10:46:43) [GCC 10.2.1 20210110] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; ^Z</span><br><span class="line">[7]+  å·²åœæ­¢               python</span><br><span class="line"></span><br><span class="line">$ sudo vim pip</span><br><span class="line">	ä¿®æ”¹ï¼š<span class="comment">#!/usr/local/bin/python2.7</span></span><br><span class="line">	ä¸ºï¼š <span class="comment">#!/usr/local/bin/python3.10</span></span><br><span class="line">$ pip -V</span><br><span class="line">pip 21.3 from /home/yk/.local/lib/python3.10/site-packages/pip (python 3.10)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>Update-alternatives</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianç³»ç»Ÿå®‰è£…Docker</title>
    <url>/2021/12/18/Debian11%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85Docker/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…ã€å¸è½½DockeråŠå®‰è£…è½¯ä»¶å®ä¾‹"><a href="#å®‰è£…ã€å¸è½½DockeråŠå®‰è£…è½¯ä»¶å®ä¾‹" class="headerlink" title="å®‰è£…ã€å¸è½½DockeråŠå®‰è£…è½¯ä»¶å®ä¾‹"></a>å®‰è£…ã€å¸è½½<code>Docker</code>åŠå®‰è£…è½¯ä»¶å®ä¾‹</h1><h2 id="è®¾ç½®ä»“åº“æº"><a href="#è®¾ç½®ä»“åº“æº" class="headerlink" title="è®¾ç½®ä»“åº“æº"></a>è®¾ç½®ä»“åº“æº</h2><h3 id="æ›´æ–°ä»“åº“ï¼Œå®‰è£…ä»“åº“æºçš„HTTPSæ”¯æŒã€‚"><a href="#æ›´æ–°ä»“åº“ï¼Œå®‰è£…ä»“åº“æºçš„HTTPSæ”¯æŒã€‚" class="headerlink" title="æ›´æ–°ä»“åº“ï¼Œå®‰è£…ä»“åº“æºçš„HTTPSæ”¯æŒã€‚"></a>æ›´æ–°ä»“åº“ï¼Œå®‰è£…ä»“åº“æºçš„<code>HTTPS</code>æ”¯æŒã€‚</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg \</span><br><span class="line">    lsb-release</span><br></pre></td></tr></table></figure>
<h3 id="å¢åŠ Dockerå®˜æ–¹GPGå¯†é’¥"><a href="#å¢åŠ Dockerå®˜æ–¹GPGå¯†é’¥" class="headerlink" title="å¢åŠ Dockerå®˜æ–¹GPGå¯†é’¥:"></a>å¢åŠ <code>Docker</code>å®˜æ–¹<code>GPGå¯†é’¥</code>:</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br></pre></td></tr></table></figure>
<h3 id="æ·»åŠ Dockerä»“åº“å®‰è£…æº"><a href="#æ·»åŠ Dockerä»“åº“å®‰è£…æº" class="headerlink" title="æ·»åŠ Dockerä»“åº“å®‰è£…æº"></a>æ·»åŠ <code>Docker</code>ä»“åº“å®‰è£…æº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \</span></span><br><span class="line"><span class="string">  <span class="subst">$(lsb_release -cs)</span> stable&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…Docker-Engine"><a href="#å®‰è£…Docker-Engine" class="headerlink" title="å®‰è£…Docker Engine"></a>å®‰è£…<code>Docker Engine</code></h2><h3 id="å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker-Engineå’Œcontainerdï¼Œæˆ–è€…æ‰§è¡Œä¸‹ä¸€æ­¥å®‰è£…ç‰¹å®šç‰ˆæœ¬"><a href="#å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker-Engineå’Œcontainerdï¼Œæˆ–è€…æ‰§è¡Œä¸‹ä¸€æ­¥å®‰è£…ç‰¹å®šç‰ˆæœ¬" class="headerlink" title="å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker Engineå’Œcontainerdï¼Œæˆ–è€…æ‰§è¡Œä¸‹ä¸€æ­¥å®‰è£…ç‰¹å®šç‰ˆæœ¬"></a>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„<code>Docker Engine</code>å’Œ<code>containerd</code>ï¼Œæˆ–è€…æ‰§è¡Œä¸‹ä¸€æ­¥å®‰è£…ç‰¹å®šç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">sudo apt install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
<h3 id="è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker-Engineï¼Œè¯·åœ¨repoä¸­åˆ—å‡ºå¯ç”¨çš„ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£…"><a href="#è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker-Engineï¼Œè¯·åœ¨repoä¸­åˆ—å‡ºå¯ç”¨çš„ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£…" class="headerlink" title="è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„Docker Engineï¼Œè¯·åœ¨repoä¸­åˆ—å‡ºå¯ç”¨çš„ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£…:"></a>è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„<code>Docker Engine</code>ï¼Œè¯·åœ¨<code>repo</code>ä¸­åˆ—å‡ºå¯ç”¨çš„ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£…:</h3><h4 id="åˆ—å‡ºrepoä¸­å¯ç”¨çš„ç‰ˆæœ¬"><a href="#åˆ—å‡ºrepoä¸­å¯ç”¨çš„ç‰ˆæœ¬" class="headerlink" title="åˆ—å‡ºrepoä¸­å¯ç”¨çš„ç‰ˆæœ¬"></a>åˆ—å‡º<code>repo</code>ä¸­å¯ç”¨çš„ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-cache madison docker-ce</span><br><span class="line"> docker-ce | 5:20.10.12~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.11~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.10~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.9~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.8~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.7~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br><span class="line"> docker-ce | 5:20.10.6~3-0~debian-bullseye | https://download.docker.com/linux/debian bullseye/stable amd64 Packages</span><br></pre></td></tr></table></figure>
<h4 id="ä¾‹å¦‚ï¼Œä½¿ç”¨ç¬¬äºŒåˆ—ä¸­çš„ç‰ˆæœ¬å­—ç¬¦ä¸²å®‰è£…ç‰¹å®šçš„ç‰ˆæœ¬"><a href="#ä¾‹å¦‚ï¼Œä½¿ç”¨ç¬¬äºŒåˆ—ä¸­çš„ç‰ˆæœ¬å­—ç¬¦ä¸²å®‰è£…ç‰¹å®šçš„ç‰ˆæœ¬" class="headerlink" title="ä¾‹å¦‚ï¼Œä½¿ç”¨ç¬¬äºŒåˆ—ä¸­çš„ç‰ˆæœ¬å­—ç¬¦ä¸²å®‰è£…ç‰¹å®šçš„ç‰ˆæœ¬"></a>ä¾‹å¦‚ï¼Œä½¿ç”¨ç¬¬äºŒåˆ—ä¸­çš„ç‰ˆæœ¬å­—ç¬¦ä¸²å®‰è£…ç‰¹å®šçš„ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sudo apt-get install docker-ce=&lt;VERSION_STRING&gt; docker-ce-cli=&lt;VERSION_STRING&gt; containerd.io</span></span><br><span class="line">sudo apt-get install docker-ce=5:20.10.12~3-0~debian-bullseye docker-ce-cli=5:20.10.12~3-0~debian-bullseye containerd.io</span><br></pre></td></tr></table></figure>
<h3 id="éªŒè¯å®‰è£…"><a href="#éªŒè¯å®‰è£…" class="headerlink" title="éªŒè¯å®‰è£…"></a>éªŒè¯å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker run hello-world</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">Unable to find image <span class="string">&#x27;hello-world:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">2db29710123e: Pull complete </span><br><span class="line">Digest: sha256:2498fce14358aa50ead0cc6c19990fc6ff866ce72aeb5546e1d59caac3d0d60f</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h2 id="å¸è½½Dockerå¼•æ“"><a href="#å¸è½½Dockerå¼•æ“" class="headerlink" title="å¸è½½Dockerå¼•æ“"></a>å¸è½½<code>Docker</code>å¼•æ“</h2><h3 id="å¸è½½Docker-Engineã€CLIå’ŒContainerdåŒ…"><a href="#å¸è½½Docker-Engineã€CLIå’ŒContainerdåŒ…" class="headerlink" title="å¸è½½Docker Engineã€CLIå’ŒContainerdåŒ…"></a>å¸è½½<code>Docker Engine</code>ã€<code>CLI</code>å’Œ<code>Containerd</code>åŒ…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt purge docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤ä¸»æœºä¸Šçš„æ‰€æœ‰é•œåƒã€å®¹å™¨å’Œå·"><a href="#åˆ é™¤ä¸»æœºä¸Šçš„æ‰€æœ‰é•œåƒã€å®¹å™¨å’Œå·" class="headerlink" title="åˆ é™¤ä¸»æœºä¸Šçš„æ‰€æœ‰é•œåƒã€å®¹å™¨å’Œå·"></a>åˆ é™¤ä¸»æœºä¸Šçš„æ‰€æœ‰é•œåƒã€å®¹å™¨å’Œå·</h3><p>ä¸»æœºä¸Šçš„æ˜ åƒã€å®¹å™¨ã€å·æˆ–è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ é™¤åˆ é™¤æ‰€æœ‰é•œåƒã€å®¹å™¨å’Œå·<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/containerd</span><br></pre></td></tr></table></figure><br>å¿…é¡»æ‰‹åŠ¨åˆ é™¤å·²ç¼–è¾‘çš„é…ç½®æ–‡ä»¶ã€‚</p>
<h2 id="dockerå®‰è£…è½¯ä»¶å®ä¾‹â€”å®‰è£…å¾®ä¿¡"><a href="#dockerå®‰è£…è½¯ä»¶å®ä¾‹â€”å®‰è£…å¾®ä¿¡" class="headerlink" title="dockerå®‰è£…è½¯ä»¶å®ä¾‹â€”å®‰è£…å¾®ä¿¡"></a><code>docker</code>å®‰è£…è½¯ä»¶å®ä¾‹â€”å®‰è£…å¾®ä¿¡</h2><h3 id="dockeræ¢æº"><a href="#dockeræ¢æº" class="headerlink" title="dockeræ¢æº"></a><code>docker</code>æ¢æº</h3><p>ç¼–è¾‘<code>daemon.json</code>(ä¸å­˜åœ¨å°±æ–°å»º)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><br>å¡«å†™ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;http://ovfftd6p.mirror.aliyuncs.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;http://registry.docker-cn.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;http://docker.mirrors.ustc.edu.cn&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data-root&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/ä½ è‡ªå·±ç”¨æˆ·å/docker-home&quot;</span><span class="punctuation">,</span> <span class="comment">// æ•°æ®ç›®å½•</span></span><br><span class="line">  <span class="attr">&quot;insecure-registries&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;registry.docker-cn.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;docker.mirrors.ustc.edu.cn&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;debug&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;experimental&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="é‡æ–°åŠ è½½å¹¶æŸ¥çœ‹dockerä¿¡æ¯"><a href="#é‡æ–°åŠ è½½å¹¶æŸ¥çœ‹dockerä¿¡æ¯" class="headerlink" title="é‡æ–°åŠ è½½å¹¶æŸ¥çœ‹dockerä¿¡æ¯"></a>é‡æ–°åŠ è½½å¹¶æŸ¥çœ‹<code>docker</code>ä¿¡æ¯</h3><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">sudo docker info</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">Client:</span><br><span class="line"> Context:    default</span><br><span class="line"> Debug Mode: <span class="literal">false</span></span><br><span class="line"> Plugins:</span><br><span class="line">  app: Docker App (Docker Inc., v0.9.1-beta3)</span><br><span class="line">  buildx: Docker Buildx (Docker Inc., v0.7.1-docker)</span><br><span class="line">  scan: Docker Scan (Docker Inc., v0.12.0)</span><br><span class="line"></span><br><span class="line">Server:</span><br><span class="line"> Containers: 1</span><br><span class="line">  Running: 0</span><br><span class="line">  Paused: 0</span><br><span class="line">  Stopped: 1</span><br><span class="line"> Images: 1</span><br><span class="line"> Server Version: 20.10.12</span><br><span class="line"> Storage Driver: overlay2</span><br><span class="line">  Backing Filesystem: extfs</span><br><span class="line">  Supports d_type: <span class="literal">true</span></span><br><span class="line">  Native Overlay Diff: <span class="literal">true</span></span><br><span class="line">  userxattr: <span class="literal">false</span></span><br><span class="line"> Logging Driver: json-file</span><br><span class="line"> Cgroup Driver: systemd</span><br><span class="line"> Cgroup Version: 2</span><br><span class="line"> Plugins:</span><br><span class="line">  Volume: <span class="built_in">local</span></span><br><span class="line">  Network: bridge host ipvlan macvlan null overlay</span><br><span class="line">  Log: awslogs fluentd gcplogs gelf journald json-file <span class="built_in">local</span> logentries splunk syslog</span><br><span class="line"> Swarm: inactive</span><br><span class="line"> Runtimes: io.containerd.runc.v2 io.containerd.runtime.v1.linux runc</span><br><span class="line">......</span><br><span class="line"> runc version: v1.0.2-0-g52b36a2</span><br><span class="line"> init version: de40ad0</span><br><span class="line"> Security Options:</span><br><span class="line">  apparmor</span><br><span class="line">  seccomp</span><br><span class="line">   Profile: default</span><br><span class="line">  cgroupns</span><br><span class="line"> Kernel Version: 5.10.0-9-amd64</span><br><span class="line"> Operating System: Debian GNU/Linux 11 (bullseye)</span><br><span class="line"> OSType: linux</span><br><span class="line"> Architecture: x86_64</span><br><span class="line"> CPUs: 2</span><br><span class="line"> Total Memory: 3.743GiB</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line"> Docker Root Dir: /home/ä½ è‡ªå·±ç”¨æˆ·å/docker-home</span><br><span class="line"> Debug Mode: <span class="literal">true</span></span><br><span class="line">  File Descriptors: 24</span><br><span class="line">  Goroutines: 34</span><br><span class="line">  System Time: 2021-12-18T12:12:11.920214294+08:00</span><br><span class="line">  EventsListeners: 0</span><br><span class="line"> Registry: https://index.docker.io/v1/</span><br><span class="line"> Labels:</span><br><span class="line"> Experimental: <span class="literal">true</span></span><br><span class="line"> Insecure Registries:</span><br><span class="line">  docker.mirrors.ustc.edu.cn</span><br><span class="line">  registry.docker-cn.com</span><br><span class="line">  127.0.0.0/8</span><br><span class="line"> Registry Mirrors:</span><br><span class="line">  http://ovfftd6p.mirror.aliyuncs.com/</span><br><span class="line">  http://registry.docker-cn.com/</span><br><span class="line">  http://docker.mirrors.ustc.edu.cn/</span><br><span class="line">  http://hub-mirror.c.163.com/</span><br><span class="line"> Live Restore Enabled: <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<h3 id="æ‹‰å–å¾®ä¿¡é•œåƒ"><a href="#æ‹‰å–å¾®ä¿¡é•œåƒ" class="headerlink" title="æ‹‰å–å¾®ä¿¡é•œåƒ"></a>æ‹‰å–å¾®ä¿¡é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker pull bestwu/wechat</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from bestwu/wechat</span><br><span class="line">f21eee950c89: Pull complete </span><br><span class="line">11ce96be0dbe: Pull complete </span><br><span class="line">213b37605fda: Pull complete </span><br><span class="line">fb5f4607d644: Pull complete </span><br><span class="line">996bef3d98a0: Pull complete </span><br><span class="line">6181aef875e7: Pull complete </span><br><span class="line">892cf94c8e7a: Pull complete </span><br><span class="line">Digest: sha256:f0a3b04aae119ed2d7bb9e6f1f8e5a3cf39a435b028fd9ddd733680fd5639693</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> bestwu/wechat:latest</span><br><span class="line">docker.io/bestwu/wechat:latest</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºè¿è¡Œè„šæœ¬wechat-sh"><a href="#åˆ›å»ºè¿è¡Œè„šæœ¬wechat-sh" class="headerlink" title="åˆ›å»ºè¿è¡Œè„šæœ¬wechat.sh"></a>åˆ›å»ºè¿è¡Œè„šæœ¬<code>wechat.sh</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim wechat.sh</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker run -d --name wechat --device /dev/snd --ipc=<span class="string">&quot;host&quot;</span> \</span><br><span class="line"> -v /tmp/.X11-unix:/tmp/.X11-unix \</span><br><span class="line"> -v <span class="variable">$HOME</span>/WeChatFiles:/WeChatFiles \</span><br><span class="line"> -e DISPLAY=unix<span class="variable">$DISPLAY</span> \</span><br><span class="line"> -e XMODIFIERS=@im=fcitx \</span><br><span class="line"> -e QT_IM_MODULE=fcitx \</span><br><span class="line"> -e GTK_IM_MODULE=fcitx \</span><br><span class="line"> -e AUDIO_GID=`getent group audio | <span class="built_in">cut</span> -d: -f3` \</span><br><span class="line"> -e GID=`<span class="built_in">id</span> -g` \</span><br><span class="line"> -e UID=`<span class="built_in">id</span> -u` \</span><br><span class="line">bestwu/wechat</span><br></pre></td></tr></table></figure><br>ä½¿ç”¨è„šæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> wechat.sh</span><br></pre></td></tr></table></figure></p>
<h3 id="æŸ¥çœ‹å®¹å™¨å†…å®¹"><a href="#æŸ¥çœ‹å®¹å™¨å†…å®¹" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…å®¹"></a>æŸ¥çœ‹å®¹å™¨å†…å®¹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker ps -a</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line">CONTAINER ID   IMAGE           COMMAND            CREATED          STATUS                   PORTS     NAMES</span><br><span class="line">091e415c8872   bestwu/wechat   <span class="string">&quot;/entrypoint.sh&quot;</span>   13 minutes ago   Up 13 minutes                      wechat</span><br><span class="line">4eadb762084f   hello-world     <span class="string">&quot;/hello&quot;</span>           2 hours ago      Exited (0) 2 hours ago             priceless_goodall</span><br></pre></td></tr></table></figure>
<h3 id="æ‰“å¼€-amp-å…³é—­å¾®ä¿¡"><a href="#æ‰“å¼€-amp-å…³é—­å¾®ä¿¡" class="headerlink" title="æ‰“å¼€&amp;å…³é—­å¾®ä¿¡"></a>æ‰“å¼€&amp;å…³é—­å¾®ä¿¡</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€</span></span><br><span class="line">sudo docker start wechat</span><br><span class="line"><span class="comment"># å…³é—­</span></span><br><span class="line">sudo docker stop wechat</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤å¾®ä¿¡å®¹å™¨"><a href="#åˆ é™¤å¾®ä¿¡å®¹å™¨" class="headerlink" title="åˆ é™¤å¾®ä¿¡å®¹å™¨"></a>åˆ é™¤å¾®ä¿¡å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop $(docker ps -a -q) <span class="comment"># åœæ­¢æ‰€æœ‰è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">sudo docker <span class="built_in">rm</span> -f wechat</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤é•œåƒå’Œå®¹å™¨"><a href="#åˆ é™¤é•œåƒå’Œå®¹å™¨" class="headerlink" title="åˆ é™¤é•œåƒå’Œå®¹å™¨"></a>åˆ é™¤é•œåƒå’Œå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker rmi &lt;é•œåƒ<span class="built_in">id</span>&gt;</span><br><span class="line"><span class="comment"># ä¾‹å¦‚åˆ é™¤ hello-world</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤é•œåƒ</span></span><br><span class="line">sudo docker rmi -f hello-world </span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line">Untagged: hello-world:latest</span><br><span class="line">Untagged: hello-world@sha256:2498fce14358aa50ead0cc6c19990fc6ff866ce72aeb5546e1d59caac3d0d60f</span><br><span class="line">Deleted: sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">sudo docker <span class="built_in">rm</span> 4eadb762084f  </span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…ã€å¸è½½docker-composeåŠå®‰è£…è½¯ä»¶å®ä¾‹"><a href="#å®‰è£…ã€å¸è½½docker-composeåŠå®‰è£…è½¯ä»¶å®ä¾‹" class="headerlink" title="å®‰è£…ã€å¸è½½docker-composeåŠå®‰è£…è½¯ä»¶å®ä¾‹"></a>å®‰è£…ã€å¸è½½<code>docker-compose</code>åŠå®‰è£…è½¯ä»¶å®ä¾‹</h1><h2 id="å®‰è£…docker-compose"><a href="#å®‰è£…docker-compose" class="headerlink" title="å®‰è£…docker-compose"></a>å®‰è£…<code>docker-compose</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½</span></span><br><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br><span class="line"><span class="comment"># æˆäºˆå¯æ‰§è¡Œæƒé™</span></span><br><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line"><span class="comment"># éªŒè¯å®‰è£…</span></span><br><span class="line">docker-compose -v</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">Docker Compose version v2.2.2</span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">sudo <span class="built_in">rm</span> /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>è‹¥æç¤º<code>XXX commend not found</code>ï¼Œåˆ™å»ºç«‹è½¯é“¾æ¥æˆ–è€…å°†<code>/user/local/bin</code>åŠ å…¥åˆ°ç¯å¢ƒå˜é‡(æ¨è)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºè½¯é“¾æ¥</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class="line"><span class="comment"># åŠ å…¥è·¯å¾„åˆ°ç¯å¢ƒå˜é‡</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/local/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></p>
<h2 id="å®‰è£…å®ä¾‹â€”å®‰è£…TIM-QQ"><a href="#å®‰è£…å®ä¾‹â€”å®‰è£…TIM-QQ" class="headerlink" title="å®‰è£…å®ä¾‹â€”å®‰è£…TIM-QQ"></a>å®‰è£…å®ä¾‹â€”å®‰è£…<code>TIM-QQ</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">version: &#x27;2&#x27;</span><br><span class="line">services:</span><br><span class="line">  qq:</span><br><span class="line">    image: bestwu/qq:office</span><br><span class="line">    container_name: qq</span><br><span class="line">    ipc: host</span><br><span class="line">    devices:</span><br><span class="line">      - /dev/snd #å£°éŸ³</span><br><span class="line">    volumes:</span><br><span class="line">      - /tmp/.X11-unix:/tmp/.X11-unix</span><br><span class="line">      - /home/yk/TencentFiles:/TencentFiles #ä½¿ç”¨è‡ªå·±çš„ç”¨æˆ·è·¯å¾„</span><br><span class="line">    environment:</span><br><span class="line">      - DISPLAY=unix$DISPLAY</span><br><span class="line">      - XMODIFIERS=@im=fcitx # ä¸­æ–‡è¾“å…¥ï¼Œè¿™é‡Œæ ¹æ®ç³»ç»Ÿè¾“å…¥æ³•ç±»å‹è‡ªè¡Œè¾“å…¥ï¼Œé»˜è®¤æ˜¯IBus</span><br><span class="line">      - QT_IM_MODULE=fcitx</span><br><span class="line">      - GTK_IM_MODULE=fcitx</span><br><span class="line">      - AUDIO_GID=29 # å¯é€‰ é»˜è®¤63ï¼ˆfedoraï¼‰ ä¸»æœºaudio gid è§£å†³å£°éŸ³è®¾å¤‡è®¿é—®æƒé™é—®é¢˜</span><br><span class="line">      - GID=$GID # å¯é€‰ é»˜è®¤1000 ä¸»æœºå½“å‰ç”¨æˆ· gid è§£å†³æŒ‚è½½ç›®å½•è®¿é—®æƒé™é—®é¢˜</span><br><span class="line">      - UID=$UID # å¯é€‰ é»˜è®¤1000 ä¸»æœºå½“å‰ç”¨æˆ· uid è§£å†³æŒ‚è½½ç›®å½•è®¿é—®æƒé™é—®é¢˜</span><br></pre></td></tr></table></figure><br>è¿è¡Œï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“ä»‹ç»å‚è€ƒï¼š<br><a href="https://github.com/top-bettercode/docker-qq">å¼€æºé¡¹ç›® docker-qq</a></p>
<h1 id="æ›´æ¢Dockeræ•°æ®æŒ‚è½½ç›®å½•"><a href="#æ›´æ¢Dockeræ•°æ®æŒ‚è½½ç›®å½•" class="headerlink" title="æ›´æ¢Dockeræ•°æ®æŒ‚è½½ç›®å½•"></a>æ›´æ¢<code>Docker</code>æ•°æ®æŒ‚è½½ç›®å½•</h1><p>é»˜è®¤å®‰è£…<code>docker</code>å°†ä¼šä½¿ç”¨<code>/var/lib/docker</code>ä½œä¸ºæ•°æ®å­˜æ”¾ç›®å½•ï¼Œå¯ä»¥æ–°å¢é¢å¤–çš„æ•°æ®ç›˜ï¼Œä»¥å‡å°‘å¯¹æ ¹åˆ†åŒº(<code>/</code>)æˆ–è€…åŠ¨æ€æ•°æ®å­˜å‚¨åˆ†åŒº(<code>/var</code>)çš„ç©ºé—´å ç”¨ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–°å»ºæ•°æ®å­˜å‚¨ç›®å½•(ä¹Ÿå¯ä»¥å¦å¤–æŒ‚è½½æ•°æ®åˆ†åŒº)</span></span><br><span class="line"><span class="built_in">mkdir</span> -p ~/Dates/docker</span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ° root å¹¶å¤åˆ¶ docker åŸå§‹æ–‡ä»¶åˆ°æ–°å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">sudo <span class="built_in">cp</span> -r /var/lib/docker/*  ~/Dates/docker</span><br><span class="line"><span class="comment"># å°†æ–°å»ºçš„ docker æ•°æ®æ–‡ä»¶ç›®å½•è½¯é“¾æ¥åˆ°å½“å‰ç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">ln</span> -s /home/ä½ è‡ªå·±ç”¨æˆ·å/docker_dates/ /var/lib/docker </span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br>1ã€<a href="https://docs.docker.com/engine/install/debian/">åœ¨Debianä¸Šå®‰è£…</a><br>2ã€<a href="https://www.jianshu.com/p/2a603db77195">Dockerå®‰è£…å¾®ä¿¡</a><br>3ã€<a href="https://www.cnblogs.com/hellxz/p/docker-change-data-root.html">ã€ç®€è®°ã€‘ä¿®æ”¹Dockeræ•°æ®ç›®å½•ä½ç½®ï¼ŒåŒ…å«é•œåƒä½ç½®</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>docker-compose</category>
        <category>docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Docker-compose</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç¼–è¯‘å®‰è£…PHP8.1.0ç‰ˆ</title>
    <url>/2021/11/28/Debian11%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85PHP8.1.0%E7%89%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€ç¼–è¯‘å®‰è£…"><a href="#ä¸€ã€ç¼–è¯‘å®‰è£…" class="headerlink" title="ä¸€ã€ç¼–è¯‘å®‰è£…"></a>ä¸€ã€ç¼–è¯‘å®‰è£…</h1><h2 id="å®‰è£…ç›¸å…³ä¾èµ–"><a href="#å®‰è£…ç›¸å…³ä¾èµ–" class="headerlink" title="å®‰è£…ç›¸å…³ä¾èµ–"></a>å®‰è£…ç›¸å…³ä¾èµ–</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install gcc make zlib1g* libssl-dev libpcre+* libcurl-ocaml libcurl-ocaml-dev libcurl3-nss libcurlpp-dev libcurlpp0 libonig5 libreadline-dev libtidy-dev slapd ldap-utils libxml2-dev libpcre2 libjpeg-dev libxslt1-dev libzip-dev</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‹è½½å¹¶è§£å‹php8-1-0å‹ç¼©åŒ…"><a href="#ä¸‹è½½å¹¶è§£å‹php8-1-0å‹ç¼©åŒ…" class="headerlink" title="ä¸‹è½½å¹¶è§£å‹php8.1.0å‹ç¼©åŒ…"></a>ä¸‹è½½å¹¶è§£å‹<code>php8.1.0</code>å‹ç¼©åŒ…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://www.php.net/distributions/php-8.1.0.tar.gz</span><br><span class="line">tar -zxvf php-8.1.0.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºphpçš„å®‰è£…ï¼Œæä¾›ä¸¤ä¸ªæ–¹æ¡ˆï¼Œç¬¬äºŒä¸ªæ–¹æ¡ˆé’ˆå¯¹Debianç³»ç»Ÿã€‚"><a href="#å…³äºphpçš„å®‰è£…ï¼Œæä¾›ä¸¤ä¸ªæ–¹æ¡ˆï¼Œç¬¬äºŒä¸ªæ–¹æ¡ˆé’ˆå¯¹Debianç³»ç»Ÿã€‚" class="headerlink" title="å…³äºphpçš„å®‰è£…ï¼Œæä¾›ä¸¤ä¸ªæ–¹æ¡ˆï¼Œç¬¬äºŒä¸ªæ–¹æ¡ˆé’ˆå¯¹Debianç³»ç»Ÿã€‚"></a>å…³äº<code>php</code>çš„å®‰è£…ï¼Œæä¾›ä¸¤ä¸ªæ–¹æ¡ˆï¼Œç¬¬äºŒä¸ªæ–¹æ¡ˆé’ˆå¯¹<code>Debian</code>ç³»ç»Ÿã€‚</h2><h3 id="ä¸€-ä¸€èˆ¬ç¼–è¯‘å®‰è£…"><a href="#ä¸€-ä¸€èˆ¬ç¼–è¯‘å®‰è£…" class="headerlink" title="(ä¸€) ä¸€èˆ¬ç¼–è¯‘å®‰è£…"></a>(ä¸€) ä¸€èˆ¬ç¼–è¯‘å®‰è£…</h3><h4 id="1-ç¼–è¯‘"><a href="#1-ç¼–è¯‘" class="headerlink" title="(1)ç¼–è¯‘"></a>(1)ç¼–è¯‘</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> php-8.1.0</span><br><span class="line">./configure --prefix=/usr/local/php8.1 --with-config-file-path=/usr/local/php8.1/etc --sysconfdir=/etc/php8.1 --disable-fileinfo --enable-fpm --with-fpm-user=nginx --with-fpm-group=nginx --with-config-file-scan-dir=/etc/php.d  --enable-mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --enable-mysqlnd-compression-support --disable-rpath --with-mysql-sock=/var/lib/mysql/mysql.sock --with-mhash --with-openssl --with-zlib --with-curl --enable-ftp --with-bz2 --with-libxml --enable-gd --with-jpeg --with-freetype --enable-sockets --without-iconv --with-xsl --with-zip --with-external-pcre --with-pear --enable-session --enable-xml --enable-gd-jis-conv --enable-shared --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-mbregex --enable-pcntl --with-gettext --with-readline --with-tidy --enable-mbstring --with-pear --enable-bcmath --enable-calendar --enable-exif --enable-shmop --with-curl --enable-intl --enable-soap --enable-opcache --without-gdbm</span><br></pre></td></tr></table></figure>
<h4 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="(2)å®‰è£…"></a>(2)å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make &gt; make.log 2&gt;&amp;1 <span class="comment"># å°†è¾“å‡ºé‡å®šå‘åˆ°log.txtæ–‡ä»¶ä¸­ï¼ŒåŒæ—¶å°†æ ‡å‡†é”™è¯¯ä¹Ÿé‡å®šå‘åˆ°make.log</span></span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<h4 id="3-ä¸€äº›é—®é¢˜ï¼š"><a href="#3-ä¸€äº›é—®é¢˜ï¼š" class="headerlink" title="(3)ä¸€äº›é—®é¢˜ï¼š"></a>(3)ä¸€äº›é—®é¢˜ï¼š</h4><p>1&gt;è‹¥æç¤ºç¼ºä¾èµ–å°±å®‰è£…ç›¸åº”ä¾èµ–<br>2&gt;å¯ä»¥ç”¨<code>./configure â€“help</code>æŸ¥çœ‹é…ç½®é€‰é¡¹<br>3&gt;<code>No package &#39;oniguruma&#39; found</code>é”™è¯¯è§£å†³ï¼š<br><code>onigurumaæ˜¯å¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„åº“</code><br>æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œç„¶åè¾“å…¥ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/kkos/oniguruma/releases/download/v6.9.7.1/onig-6.9.7.1.tar.gz</span><br><span class="line">tar zxvf onig-6.9.7.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> onig-6.9.7</span><br><span class="line">./configure</span><br><span class="line">sudo make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure></p>
<h3 id="äºŒ-Debianç³»ç»Ÿç”¨auto-aptåŠcheckinstall"><a href="#äºŒ-Debianç³»ç»Ÿç”¨auto-aptåŠcheckinstall" class="headerlink" title="(äºŒ) Debianç³»ç»Ÿç”¨auto-aptåŠcheckinstall"></a>(äºŒ) Debianç³»ç»Ÿç”¨<code>auto-apt</code>åŠ<code>checkinstall</code></h3><h4 id="1ã€ä¸‹è½½å¹¶å®‰è£…auto-aptåŠcheckinstall"><a href="#1ã€ä¸‹è½½å¹¶å®‰è£…auto-aptåŠcheckinstall" class="headerlink" title="1ã€ä¸‹è½½å¹¶å®‰è£…auto-aptåŠcheckinstall"></a>1ã€ä¸‹è½½å¹¶å®‰è£…<code>auto-apt</code>åŠ<code>checkinstall</code></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://mirrors.edge.kernel.org/debian/pool/main/a/auto-apt/auto-apt_0.3.24_amd64.deb</span><br><span class="line">sudo dpkg -i auto-apt_0.3.24_amd64.deb</span><br><span class="line">sudo apt install -f  <span class="comment"># å®‰è£…auto-aptä¾èµ–</span></span><br><span class="line">sudo apt install checkinstall</span><br></pre></td></tr></table></figure>
<h4 id="2ã€ç”¨auto-aptè¿›è¡Œç¼–è¯‘"><a href="#2ã€ç”¨auto-aptè¿›è¡Œç¼–è¯‘" class="headerlink" title="2ã€ç”¨auto-aptè¿›è¡Œç¼–è¯‘"></a>2ã€ç”¨<code>auto-apt</code>è¿›è¡Œç¼–è¯‘</h4><p>ç¼–è¯‘å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">auto-apt run ./configure  --prefix=/usr/local/php8.1 --with-config-file-path=/usr/local/php8.1/etc --sysconfdir=/etc/php8.1 --disable-fileinfo --enable-fpm --with-fpm-user=nginx --with-fpm-group=nginx --with-config-file-scan-dir=/etc/php.d  --enable-mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --enable-mysqlnd-compression-support --disable-rpath --with-mysql-sock=/var/lib/mysql/mysql.sock --with-mhash --with-openssl --with-zlib --with-curl --enable-ftp --with-bz2 --with-libxml --enable-gd --with-jpeg --with-freetype --enable-sockets --without-iconv --with-xsl --with-zip --with-external-pcre --with-pear --enable-session --enable-xml --enable-gd-jis-conv --enable-shared --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-mbregex --enable-pcntl --with-gettext --with-readline --with-tidy --enable-mbstring --with-pear --enable-bcmath --enable-calendar --enable-exif --enable-shmop --with-curl --enable-intl --enable-soap --enable-opcache --without-gdbm</span><br></pre></td></tr></table></figure><br>æ³¨æ„:<code>--with-fpm-user=nginx --with-fpm-group=nginx</code>ï¼Œ<code>fpm-php</code>å°†å±äº<code>nginx</code>ç”¨æˆ·ç»„;<br>ç¼–è¯‘å®Œæˆä¼šæç¤ºæ˜¯å¦æ›´æ”¹å®‰è£…åŒ…ä¿¡æ¯ã€‚</p>
<h4 id="3ã€checkinstallå®‰è£…"><a href="#3ã€checkinstallå®‰è£…" class="headerlink" title="3ã€checkinstallå®‰è£…"></a>3ã€<code>checkinstall</code>å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; sudo checkinstall</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–æ›´å¤šå‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dpkg -i packagename.deb  //ä¸‹æ¬¡ç›´æ¥ç”¨ç”Ÿæˆçš„`debåŒ…`å®‰è£…</span><br><span class="line">dpkg -r packagename.deb  // å¸è½½</span><br><span class="line"><span class="comment"># åˆ—å‡ºåŒ…ä¸­å®‰è£…çš„æ–‡ä»¶ä½ç½®</span></span><br><span class="line">dpkg -L packagename</span><br><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">dpkg -l | grep packagename</span><br><span class="line"><span class="comment"># åŒä¸Š</span></span><br><span class="line">apt list --installed | grep packagename</span><br></pre></td></tr></table></figure></p>
<h1 id="äºŒã€é…ç½®php8-1-0ç›¸å…³æ–‡ä»¶"><a href="#äºŒã€é…ç½®php8-1-0ç›¸å…³æ–‡ä»¶" class="headerlink" title="äºŒã€é…ç½®php8.1.0ç›¸å…³æ–‡ä»¶"></a>äºŒã€é…ç½®<code>php8.1.0</code>ç›¸å…³æ–‡ä»¶</h1><h2 id="1ã€å¤åˆ¶php-fpm-confå’Œwww-confé…ç½®æ–‡ä»¶"><a href="#1ã€å¤åˆ¶php-fpm-confå’Œwww-confé…ç½®æ–‡ä»¶" class="headerlink" title="1ã€å¤åˆ¶php-fpm.confå’Œwww.confé…ç½®æ–‡ä»¶"></a>1ã€å¤åˆ¶<code>php-fpm.conf</code>å’Œ<code>www.conf</code>é…ç½®æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/php8.1/php-fpm.conf.default /etc/php8.1/php-fpm.conf &amp;&amp; sudo <span class="built_in">cp</span> /etc/php8.1/php-fpm.d/www.conf.default /etc/php8.1/php-fpm.d/www.conf</span><br><span class="line">sudo vim /etc/php8.1/php-fpm.conf</span><br></pre></td></tr></table></figure>
<p>å°†ä»¥ä¸‹ä¸¤ä¸ªé…ç½®é¡¹ç›®æ‰“å¼€ï¼Œå³å»æ‰å‰é¢çš„<code>;</code><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pid = run/php-fpm.pid</span><br><span class="line">error_log = log/php-fpm.log</span><br><span class="line">log_level = notice</span><br></pre></td></tr></table></figure></p>
<h2 id="2ã€åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€æ ¹æ®ç¼–è¯‘æ—¶è®¾ç½®çš„è½¯ä»¶è·¯å¾„ã€‘"><a href="#2ã€åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€æ ¹æ®ç¼–è¯‘æ—¶è®¾ç½®çš„è½¯ä»¶è·¯å¾„ã€‘" class="headerlink" title="2ã€åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€æ ¹æ®ç¼–è¯‘æ—¶è®¾ç½®çš„è½¯ä»¶è·¯å¾„ã€‘"></a>2ã€åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€æ ¹æ®ç¼–è¯‘æ—¶è®¾ç½®çš„è½¯ä»¶è·¯å¾„ã€‘</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /usr/local/php8.1/var/log &amp;&amp; sudo <span class="built_in">touch</span> /usr/local/php8.1/var/log/php-fpm.log</span><br><span class="line">sudo <span class="built_in">mkdir</span> /usr/local/php8.1/etc  <span class="comment"># æ”¾ç½®php.inié…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<p>ä»æºç æ–‡ä»¶å¤¹æ‹·è´<code>php.ini-development</code>æˆ–è€…<code>php.ini-production</code>åˆ°<code>/usr/local/php8.1/etc</code>å¹¶å‘½åä¸º<code>php.ini</code>ã€‚</p>
<p>æ¯”å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> ~/ä¸‹è½½/è½¯ä»¶/debåŒ…/php-8.1.0/php.ini-production /usr/local/php8.1/etc/php.ini</span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€å¯åŠ¨php-fpmå‘½ä»¤"><a href="#3ã€å¯åŠ¨php-fpmå‘½ä»¤" class="headerlink" title="3ã€å¯åŠ¨php-fpmå‘½ä»¤"></a>3ã€å¯åŠ¨<code>php-fpm</code>å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /usr/local/php8.1/sbin/php-fpm</span><br></pre></td></tr></table></figure>
<h2 id="4ã€è®¾ç½®php-fpmå¼€æœºå¯åŠ¨åŠç®¡ç†æœåŠ¡"><a href="#4ã€è®¾ç½®php-fpmå¼€æœºå¯åŠ¨åŠç®¡ç†æœåŠ¡" class="headerlink" title="4ã€è®¾ç½®php-fpmå¼€æœºå¯åŠ¨åŠç®¡ç†æœåŠ¡"></a>4ã€è®¾ç½®<code>php-fpm</code>å¼€æœºå¯åŠ¨åŠç®¡ç†æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /usr/lib/systemd/system/php-fpm.service</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=The PHP FastCGI Process Manager</span><br><span class="line">After=syslog.target network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/usr/local/php8.1/var/run/var/run/php-fpm.pid</span><br><span class="line">ExecStart=/usr/local/php/sbin/php-fpm</span><br><span class="line">ExecReload=/bin/kill -USR2 $MAINPID</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></p>
<h2 id="5ã€é‡æ–°åŠ è½½systemctlé…ç½®"><a href="#5ã€é‡æ–°åŠ è½½systemctlé…ç½®" class="headerlink" title="5ã€é‡æ–°åŠ è½½systemctlé…ç½®"></a>5ã€é‡æ–°åŠ è½½<code>systemctl</code>é…ç½®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure>
<h2 id="6ã€å¼€æœºè‡ªåŠ¨å¯åŠ¨php-fpmæœåŠ¡"><a href="#6ã€å¼€æœºè‡ªåŠ¨å¯åŠ¨php-fpmæœåŠ¡" class="headerlink" title="6ã€å¼€æœºè‡ªåŠ¨å¯åŠ¨php-fpmæœåŠ¡"></a>6ã€å¼€æœºè‡ªåŠ¨å¯åŠ¨<code>php-fpm</code>æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span>  php-fpm.service</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/php-fpm.service â†’ /lib/systemd/system/php-fpm.service.</span><br></pre></td></tr></table></figure>
<h2 id="7ã€ä¸ºPHP8-1-0è®¾ç½®è½¯è¿æ¥æˆ–è€…ç¯å¢ƒå˜é‡"><a href="#7ã€ä¸ºPHP8-1-0è®¾ç½®è½¯è¿æ¥æˆ–è€…ç¯å¢ƒå˜é‡" class="headerlink" title="7ã€ä¸ºPHP8.1.0è®¾ç½®è½¯è¿æ¥æˆ–è€…ç¯å¢ƒå˜é‡"></a>7ã€ä¸º<code>PHP8.1.0</code>è®¾ç½®è½¯è¿æ¥æˆ–è€…ç¯å¢ƒå˜é‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/php8.1/bin/php /usr/local/bin/php</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ç›´æ¥å°†<code>/usr/local/php8.1/bin</code>æ·»åŠ åˆ°<strong>ç³»ç»Ÿç¯å¢ƒå˜é‡[æ¨è]</strong>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PATH=/usr/local/php8.1/bin/:<span class="variable">$PATH</span>&quot;</span> | sudo <span class="built_in">tee</span> -a ~/.bashrc  <span class="comment"># $PATH ä¿ç•™åŸæ¥å˜é‡ï¼Œæ·»åŠ åé¢çš„æ–°å˜é‡; tee -a åœ¨åé¢è¿½åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒ</span></span><br><span class="line">su </span><br><span class="line">å¯†ç ï¼š******</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PATH=/usr/local/php8.1/bin:<span class="variable">$PATH</span>&quot;</span> | sudo <span class="built_in">tee</span> -a /etc/profile</span><br><span class="line"><span class="comment"># éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</span></span><br><span class="line"><span class="comment"># å¯¹/etc/profileæœ‰ä¿®æ”¹çš„è¯å¿…é¡»å¾—é‡å¯ä½ çš„ä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment"># åœ¨/etc/profileé‡Œè®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡æ—¶ï¼Œè·¯å¾„æœ«å°¾ä¸èƒ½ä»¥&quot;/&quot;ç»“å°¾ï¼Œå¦åˆ™å°†å¯¼è‡´æ•´ä¸ªPATHå˜é‡å‡ºé”™ã€‚</span></span><br></pre></td></tr></table></figure><br>å¦å¤–ä¹Ÿå¯ä»¥åªæ·»åŠ åˆ°ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼Œç”¨æˆ·ç¯å¢ƒå˜é‡æ–‡ä»¶è·¯å¾„ä¸ºï¼š<code>~/.bashrc</code>ï¼Œé‡æ–°å¼€ç»ˆç«¯å³å¯ç”Ÿæ•ˆã€‚<br>é‡æ–°åŠ è½½ä½¿é…ç½®ç”Ÿæ•ˆï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæ˜¯ /etc/profileï¼Œé‡å¯ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯æ·»åŠ åˆ°ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼Œé‡å¯ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><br>æŸ¥çœ‹å®‰è£…çš„<code>php</code>ç‰ˆæœ¬å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">php -v</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">PHP 8.1.0 (cli) (built: Dec 16 2021 20:25:06) (NTS)</span><br><span class="line">Copyright (c) The PHP Group</span><br><span class="line">Zend Engine v4.1.0, Copyright (c) Zend Technologies</span><br></pre></td></tr></table></figure></p>
<h2 id="é™„ï¼š-bash-profileä¸-bashrcçš„åŒºåˆ«"><a href="#é™„ï¼š-bash-profileä¸-bashrcçš„åŒºåˆ«" class="headerlink" title="é™„ï¼š.bash_profileä¸.bashrcçš„åŒºåˆ«"></a>é™„ï¼š<code>.bash_profile</code>ä¸<code>.bashrc</code>çš„åŒºåˆ«</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/.bash_profile <span class="comment"># æ˜¯äº¤äº’å¼ã€login æ–¹å¼è¿›å…¥bash è¿è¡Œçš„ï¼›</span></span><br><span class="line">~/.bashrc <span class="comment"># æ˜¯äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥bash è¿è¡Œçš„ï¼›</span></span><br></pre></td></tr></table></figure>
<p>é€šå¸¸äºŒè€…è®¾ç½®å¤§è‡´ç›¸åŒï¼Œæ‰€ä»¥é€šå¸¸å‰è€…ä¼šè°ƒç”¨åè€…ã€‚</p>
<p>è‡³æ­¤ï¼Œ<code>php8.1.0</code>ç¼–è¯‘å®‰è£…å…¨éƒ¨å®Œæˆã€‚</p>
<h1 id="ä¸‰ã€nginxé…ç½®æ”¯æŒphp"><a href="#ä¸‰ã€nginxé…ç½®æ”¯æŒphp" class="headerlink" title="ä¸‰ã€nginxé…ç½®æ”¯æŒphp"></a>ä¸‰ã€<code>nginx</code>é…ç½®æ”¯æŒ<code>php</code></h1><h2 id="ä¿®æ”¹nginx-confé…ç½®"><a href="#ä¿®æ”¹nginx-confé…ç½®" class="headerlink" title="ä¿®æ”¹nginx.confé…ç½®"></a>ä¿®æ”¹<code>nginx.conf</code>é…ç½®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure>
<p>å‚ç…§ä¸‹é¢å†…å®¹ä¿®æ”¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> server &#123;</span><br><span class="line">     listen       8088;</span><br><span class="line">     server_name  localhost;</span><br><span class="line">     #charset koi8-r;</span><br><span class="line">     #access_log  logs/host.access.log  main;</span><br><span class="line">     location / &#123;</span><br><span class="line">         root   /ä½ çš„ç«™ç‚¹è·¯å¾„/;</span><br><span class="line">         index  index.php index.html index.htm;</span><br><span class="line">     &#125;</span><br><span class="line">     #error_page  404              /404.html;</span><br><span class="line">     location ~ \.php$ &#123;</span><br><span class="line">         root           /ä½ çš„ç«™ç‚¹è·¯å¾„/;</span><br><span class="line">         fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">         fastcgi_index  index.php;</span><br><span class="line">        # fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">         fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;  #  æ³¨æ„ä¿®æ”¹ä¸º`$document_root$`</span><br><span class="line">         include        fastcgi_params;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æµ‹è¯•PHPç½‘é¡µ"><a href="#æµ‹è¯•PHPç½‘é¡µ" class="headerlink" title="æµ‹è¯•PHPç½‘é¡µ"></a>æµ‹è¯•<code>PHP</code>ç½‘é¡µ</h2><p>åœ¨<strong>è®¾ç½®çš„<code>php</code>ç«™ç‚¹è·¯å¾„</strong>ä¸‹æ–°å»º<code>info.php</code>ç½‘é¡µï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">phpinfo</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><br>ä¿å­˜å¹¶æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼š<code>http://localhost:8091/info.php</code>.<br>å‡ºç°<code>php</code>ä¿¡æ¯åˆ™å®‰è£…å®Œæˆ</p>
<h1 id="å››ã€é™„ï¼šPHPè¿æ¥mariadbæ•°æ®åº“"><a href="#å››ã€é™„ï¼šPHPè¿æ¥mariadbæ•°æ®åº“" class="headerlink" title="å››ã€é™„ï¼šPHPè¿æ¥mariadbæ•°æ®åº“"></a>å››ã€é™„ï¼š<code>PHP</code>è¿æ¥<code>mariadb</code>æ•°æ®åº“</h1><h2 id="1ã€PDOæ–¹å¼"><a href="#1ã€PDOæ–¹å¼" class="headerlink" title="1ã€PDOæ–¹å¼"></a>1ã€<code>PDO</code>æ–¹å¼</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$dbms</span> = <span class="string">&quot;mysql&quot;</span>;</span><br><span class="line"><span class="variable">$host</span> = <span class="string">&quot;localhost:3306&quot;</span>;</span><br><span class="line"><span class="variable">$mysql_username</span> = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å&quot;</span>;</span><br><span class="line"><span class="variable">$mysql_psw</span> = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å¯†ç &quot;</span>;</span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;æ‰€è¦ä½¿ç”¨çš„æ•°æ®åº“å&quot;</span>;</span><br><span class="line"><span class="variable">$dsn</span> = <span class="string">&quot;<span class="subst">$dbms</span>:host=<span class="subst">$host</span>;dbname=<span class="subst">$dbname</span>&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$PDO</span> = <span class="keyword">new</span> <span class="title function_ invoke__">PDO</span>(<span class="variable">$dsn</span>,<span class="variable">$username</span>,<span class="variable">$password</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;PDOè¿æ¥æ–¹å¼è¿æ¥æˆåŠŸ!&#x27;</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$PDO</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">&#x27;SELECT * from usr_table&#x27;</span>) <span class="keyword">as</span> <span class="variable">$row</span>) &#123;</span><br><span class="line">        <span class="title function_ invoke__">print_r</span>(<span class="variable">$row</span>); <span class="comment">//ä½ å¯ä»¥ç”¨ echo($GLOBAL); æ¥çœ‹åˆ°è¿™äº›å€¼</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="variable">$PDO</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;br/&gt;å·²æˆåŠŸå…³é—­æ•°æ®åº“&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span>(PDOException <span class="variable">$e</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;è¿æ¥å¤±è´¥ï¼š&#x27;</span>. <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment">// $dbms=&#x27;mysql&#x27;;     //æ•°æ®åº“ç±»å‹</span></span><br><span class="line"><span class="comment">// $host=&#x27;localhost:3306&#x27;; //æ•°æ®åº“ä¸»æœºå</span></span><br><span class="line"><span class="comment">// $dbname=&#x27;æ•°æ®åº“&#x27;;    //ä½¿ç”¨çš„æ•°æ®åº“</span></span><br><span class="line"><span class="comment">// $user=&#x27;æ•°æ®åº“ç”¨æˆ·å&#x27;;      //æ•°æ®åº“è¿æ¥ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">// $pass=&#x27;æ•°æ®åº“ç”¨æˆ·å¯†ç &#x27;;          //å¯¹åº”çš„å¯†ç </span></span><br><span class="line"><span class="comment">// $dsn=&quot;$dbms:host=$host;dbname=$dbname&quot;;</span></span><br><span class="line"><span class="comment">// try &#123;</span></span><br><span class="line"><span class="comment">//     $PDO = new PDO($dsn,$username,$password);//åˆå§‹åŒ–ä¸€ä¸ªPDOå¯¹è±¡ï¼Œå°±æ˜¯åˆ›å»ºäº†æ•°æ®åº“è¿æ¥å¯¹è±¡$PDO</span></span><br><span class="line"><span class="comment">//     echo &#x27;PDOè¿æ¥æ–¹å¼è¿æ¥æˆåŠŸ!&#x27;; </span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;br/&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     // // æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">//     $sql = &quot;select * from usr_table&quot;;//éœ€è¦æ‰§è¡Œçš„sqlè¯­å¥</span></span><br><span class="line"><span class="comment">//     $retval=$PDO-&gt;prepare($sql);//å‡†å¤‡æŸ¥è¯¢è¯­å¥</span></span><br><span class="line"><span class="comment">//     $retval-&gt;execute();//æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œå¹¶è¿”å›ç»“æœé›†</span></span><br><span class="line"><span class="comment">//     // $code=$retval-&gt;errorCode();</span></span><br><span class="line"><span class="comment">//     // echo $code.&#x27;&lt;br&gt;&#x27;;</span></span><br><span class="line"><span class="comment">//     //mysqli_query($conn,&quot;INSERT INTO usr_table (usr_id, usr_name, submit_time, is_vip)</span></span><br><span class="line"><span class="comment">//     //VALUES (10,&#x27;TEN&#x27;,NOW(),0)&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     // if($code != 00000)&#123;</span></span><br><span class="line"><span class="comment">//     //     die(&quot;æ— æ³•è¯»å–æ•°æ®ï¼š&quot;.$retval-&gt;errorInfo());</span></span><br><span class="line"><span class="comment">// // &#125; </span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;table border=&#x27;2&#x27; width=&#x27;300&#x27;&gt;</span></span><br><span class="line"><span class="comment">//         &lt;tr&gt;</span></span><br><span class="line"><span class="comment">//         &lt;th&gt;usr_id&lt;/th&gt;</span></span><br><span class="line"><span class="comment">//         &lt;th&gt;usr_name&lt;/th&gt;</span></span><br><span class="line"><span class="comment">//         &lt;th&gt;submit_time</span></span><br><span class="line"><span class="comment">//         &lt;/th&gt;&lt;th&gt;isVip&lt;/th&gt;</span></span><br><span class="line"><span class="comment">//         &lt;/tr&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     do &#123;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;tr&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;th&gt;&quot;.$row[&#x27;usr_id&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;th&gt;&quot;.$row[&#x27;usr_name&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;th&gt;&quot;.$row[&#x27;submit_time&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;th&gt;&quot;.$row[&#x27;is_vip&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;/tr&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     &#125; while($row=$retval-&gt;fetch(PDO::FETCH_ASSOC));// å¾ªç¯è¾“å‡ºæŸ¥è¯¢ç»“æœé›†ï¼Œå¹¶ä¸”è®¾ç½®ç»“æœé›†ä¸ºå…³è”æ•°æ®å½¢å¼ã€‚</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;/table&gt;&quot;;</span></span><br><span class="line"><span class="comment">//         $PDO = null;</span></span><br><span class="line"><span class="comment">//         echo &quot;&lt;br/&gt;å·²æˆåŠŸå…³é—­æ•°æ®åº“&quot;;</span></span><br><span class="line"><span class="comment">// &#125; catch (PDOException $e) &#123;</span></span><br><span class="line"><span class="comment">//     die (&quot;Error!: &quot; . $e-&gt;getMessage() . &quot;&lt;br/&gt;&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//æ•°æ®åº“é•¿è¿æ¥ï¼Œéœ€è¦æœ€ååŠ ä¸€ä¸ªå‚æ•°ï¼šarray(PDO::ATTR_PERSISTENT =&gt; true) å˜æˆè¿™æ ·ï¼š</span></span><br><span class="line"><span class="comment">// $db = new PDO($dsn, $user, $pass, array(PDO::ATTR_PERSISTENT =&gt; true));</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2ã€mysqliæ–¹å¼"><a href="#2ã€mysqliæ–¹å¼" class="headerlink" title="2ã€mysqliæ–¹å¼"></a>2ã€<code>mysqli</code>æ–¹å¼</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="variable">$mysql_server_name</span> = <span class="string">&quot;localhost:3306&quot;</span>;</span><br><span class="line"><span class="variable">$mysql_username</span> = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å&quot;</span>;</span><br><span class="line"><span class="variable">$mysql_psw</span> = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å¯†ç &quot;</span>;</span><br><span class="line"><span class="variable">$mysql_database</span> = <span class="string">&quot;è¦ä½¿ç”¨çš„æ•°æ®åº“&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$conn</span> = <span class="title function_ invoke__">mysqli_connect</span>(<span class="variable">$mysql_server_name</span>,<span class="variable">$mysql_username</span>,<span class="variable">$mysql_psw</span>,<span class="variable">$mysql_database</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;mysqliè¿æ¥æ–¹å¼è¿æ¥æˆåŠŸ!&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// if (!$conn) </span></span><br><span class="line"><span class="comment">// &#123; </span></span><br><span class="line"><span class="comment">//     echo &quot;è¿æ¥ MySQL å¤±è´¥: &quot; .mysqli_connect_error(); </span></span><br><span class="line"><span class="comment">// &#125; else &#123;</span></span><br><span class="line"><span class="comment">//     echo &quot;mysqliè¿æ¥æ–¹å¼è¿æ¥æˆåŠŸ!&quot;;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="title function_ invoke__">mysqli_query</span>(<span class="variable">$conn</span>,<span class="string">&quot;set names utf8&quot;</span>); <span class="comment">// è°ƒæ•´æ•°æ®åº“ç¼–ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// // æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;select * from usr_table&quot;</span>;</span><br><span class="line"><span class="variable">$retval</span>=<span class="title function_ invoke__">mysqli_query</span>(<span class="variable">$conn</span>,<span class="variable">$sql</span>);</span><br><span class="line"><span class="comment">//mysqli_query($conn,&quot;INSERT INTO usr_table (usr_id, usr_name, submit_time, is_vip)</span></span><br><span class="line"><span class="comment">//VALUES (10,&#x27;TEN&#x27;,NOW(),0)&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="variable">$retval</span>)&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;æ— æ³•è¯»å–æ•°æ®ï¼š&quot;</span>. <span class="title function_ invoke__">mysqli_error</span>(<span class="variable">$conn</span>));</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;table border=&#x27;2&#x27; width=&#x27;300&#x27;&gt;</span></span><br><span class="line"><span class="string">        &lt;tr&gt;</span></span><br><span class="line"><span class="string">        &lt;th&gt;usr_id&lt;/th&gt;</span></span><br><span class="line"><span class="string">        &lt;th&gt;usr_name&lt;/th&gt;</span></span><br><span class="line"><span class="string">        &lt;th&gt;submit_time</span></span><br><span class="line"><span class="string">        &lt;/th&gt;&lt;th&gt;isVip&lt;/th&gt;</span></span><br><span class="line"><span class="string">        &lt;/tr&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;th&gt;&quot;</span>.<span class="variable">$row</span>[<span class="string">&#x27;usr_id&#x27;</span>].<span class="string">&quot;&lt;/th&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;th&gt;&quot;</span>.<span class="variable">$row</span>[<span class="string">&#x27;usr_name&#x27;</span>].<span class="string">&quot;&lt;/th&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;th&gt;&quot;</span>.<span class="variable">$row</span>[<span class="string">&#x27;submit_time&#x27;</span>].<span class="string">&quot;&lt;/th&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;th&gt;&quot;</span>.<span class="variable">$row</span>[<span class="string">&#x27;is_vip&#x27;</span>].<span class="string">&quot;&lt;/th&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">while</span>(<span class="variable">$row</span>=<span class="title function_ invoke__">mysqli_fetch_array</span>(<span class="variable">$retval</span>));<span class="comment">#å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“æœé›†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// while($row=mysqli_fetch_array($retval))</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;tr&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;th&gt;&quot;.$row[&#x27;usr_id&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;th&gt;&quot;.$row[&#x27;usr_name&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;th&gt;&quot;.$row[&#x27;submit_time&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;th&gt;&quot;.$row[&#x27;is_vip&#x27;].&quot;&lt;/th&gt;&quot;;</span></span><br><span class="line"><span class="comment">//     echo &quot;&lt;/tr&gt;&quot;;</span></span><br><span class="line"><span class="comment">// &#125;#å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“æœé›†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;/table&gt;&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">mysqli_free_result</span>(<span class="variable">$retval</span>);</span><br><span class="line"><span class="title function_ invoke__">mysqli_close</span>(<span class="variable">$conn</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3ã€ä¸€äº›é—®é¢˜"><a href="#3ã€ä¸€äº›é—®é¢˜" class="headerlink" title="3ã€ä¸€äº›é—®é¢˜"></a>3ã€ä¸€äº›é—®é¢˜</h2><h3 id="è‹¥pdoè¿æ¥æç¤ºError-SQLSTATE-HY000-2002-No-such-file-or-directoryï¼Œè§£å†³åŠæ³•ï¼š"><a href="#è‹¥pdoè¿æ¥æç¤ºError-SQLSTATE-HY000-2002-No-such-file-or-directoryï¼Œè§£å†³åŠæ³•ï¼š" class="headerlink" title="è‹¥pdoè¿æ¥æç¤ºError!: SQLSTATE[HY000] [2002] No such file or directoryï¼Œè§£å†³åŠæ³•ï¼š"></a>è‹¥<code>pdo</code>è¿æ¥æç¤º<code>Error!: SQLSTATE[HY000] [2002] No such file or directory</code>ï¼Œè§£å†³åŠæ³•ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /usr/local/php8.1/etc/php.ini</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>pdo_mysql.default_socket=</code>ä¸º<code>pdo_mysql.default_socket=/tmp/mysql.sock</code>,é‡å¯<code>Nginx</code>å³å¯ã€‚ </p>
<h3 id="è‹¥æç¤ºWarning-Undefined-variable-row-in-ï¼Œè§£å†³åŠæ³•ï¼š"><a href="#è‹¥æç¤ºWarning-Undefined-variable-row-in-ï¼Œè§£å†³åŠæ³•ï¼š" class="headerlink" title="è‹¥æç¤ºWarning: Undefined variable $row in #####ï¼Œè§£å†³åŠæ³•ï¼š"></a>è‹¥æç¤º<code>Warning: Undefined variable $row in #####</code>ï¼Œè§£å†³åŠæ³•ï¼š</h3><p><code>php.ini</code>è¿™ä¸ªé…ç½®æ–‡ä»¶ä¿®æ”¹ä¸€è¡Œä»£ç ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š<br>åœ¨<code>php.ini</code>ä¸­<br><code>error_reporting = E_ALL</code><br>ä¿®æ”¹æˆ:<br><code>error_reporting = E_ALL &amp; ~E_NOTICE</code><br>å†é‡å¯<code>nginx</code>ã€<code>php-fpm</code>å°±è¡Œäº†ã€‚</p>
<p>å…³äº<strong>æ­å»º<code>LANMP</code>è¯·å‚è€ƒ</strong><br><a href="../../../../2020/11/15/åœ¨Debianä¸Šå®‰è£…LANMPåŠåœ¨winä¸‹å®‰è£…MariaDBçš„zipç‰ˆæœ¬/#ä¸‰ã€å®‰è£…PHP">åœ¨Debianä¸Šå®‰è£…LANMPåŠåœ¨winä¸‹å®‰è£…MariaDBçš„zipç‰ˆæœ¬</a>  </p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>Linux</category>
        <category>è¿ç»´</category>
        <category>MySQL</category>
        <category>Update</category>
        <category>MariaDB</category>
        <category>Debian</category>
        <category>Checkinstall</category>
        <category>Auto-apt</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Debian11</tag>
        <tag>PHP</tag>
        <tag>æ›´æ–°</tag>
        <tag>MariaDB</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxç¼–è¯‘å®‰è£…aria2åŠç¼–è¯‘æ—¶å‡ºç°checking whether the C compiler works... noé”™è¯¯æç¤ºçš„è§£å†³</title>
    <url>/2022/01/27/Debian11%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85aria2%E5%8F%8A%E7%BC%96%E8%AF%91%E6%8F%90%E7%A4%BA%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://github.com/yunfile123/aria2">aria2 é¡¹ç›®åœ°å€</a></p>
<h1 id="ç¼–è¯‘å®‰è£…aria2-1-36-0"><a href="#ç¼–è¯‘å®‰è£…aria2-1-36-0" class="headerlink" title="ç¼–è¯‘å®‰è£…aria2-1.36.0"></a>ç¼–è¯‘å®‰è£…<code>aria2-1.36.0</code></h1><h2 id="å®‰è£…æ”¯æŒåº“"><a href="#å®‰è£…æ”¯æŒåº“" class="headerlink" title="å®‰è£…æ”¯æŒåº“"></a>å®‰è£…æ”¯æŒåº“</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> <span class="comment"># sudo apt install gcc autoconf automake libcppunit-dev libgnutls-dev nettle-dev libgmp-dev libssh2-1-dev libc-ares-dev libxml2-dev zlib1g-dev libsqlite3-dev pkg-config  </span></span><br><span class="line">sudo apt install gcc autoconf automake libcppunit-dev libssl-dev libgcrypt-dev libssh2-1-dev libc-ares-dev libexpat1-dev zlib1g-dev libsqlite3-dev pkg-config </span><br><span class="line"><span class="comment"># è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment"># libgnutls-dev ï¼ˆHTTPSï¼Œ BitTorrentï¼Œ Checksum æ”¯æŒéœ€è¦ï¼‰</span></span><br><span class="line"><span class="comment"># nettle-dev ï¼ˆBitTorrent éœ€è¦ï¼Œæ ¡éªŒå’Œæ”¯æŒï¼‰</span></span><br><span class="line"><span class="comment"># libgmp-dev ï¼ˆRequired for BitTorrentï¼‰</span></span><br><span class="line"><span class="comment"># libssh2-1-dev ï¼ˆSFTP æ”¯æŒéœ€è¦ï¼‰</span></span><br><span class="line"><span class="comment"># libc-ares-dev ï¼ˆå¼‚æ­¥ DNS æ”¯æŒæ‰€å¿…éœ€çš„ï¼‰</span></span><br><span class="line"><span class="comment"># libxml2-dev ï¼ˆMetalink æ”¯æŒæ‰€å¿…éœ€çš„ï¼‰</span></span><br><span class="line"><span class="comment"># zlib1g-dev ï¼ˆgzip éœ€è¦ï¼Œåœ¨ HTTP ä¸­å‹ç¼©è§£ç æ”¯æŒï¼‰</span></span><br><span class="line"><span class="comment"># libsqlite3-dev ï¼ˆFirefox3/Chromium cookie æ”¯æŒæ‰€å¿…éœ€çš„ï¼‰</span></span><br><span class="line"><span class="comment"># pkg-config ï¼ˆæ£€æµ‹å·²å®‰è£…çš„åº“æ—¶éœ€è¦ï¼‰</span></span><br><span class="line"><span class="comment"># ä½ å¯ä»¥ä½¿ç”¨libgcrypt-devä»£æ›¿nettle-devå’Œlibgmp-devï¼š</span></span><br><span class="line"><span class="comment"># libgpg-error-dev ï¼ˆBitTorrent éœ€è¦ï¼Œæ ¡éªŒå’Œæ”¯æŒï¼‰</span></span><br><span class="line"><span class="comment"># libgcrypt-dev ï¼ˆBitTorrent éœ€è¦ï¼Œæ ¡éªŒå’Œæ”¯æŒï¼‰</span></span><br><span class="line"><span class="comment"># ä½ å¯ä»¥ä½¿ç”¨libssl-devä»£æ›¿libgnutls-devï¼Œnettle-devï¼Œlibgmp-devï¼Œlibgpg-error-devå’Œlibgcrypt-devï¼š</span></span><br><span class="line"><span class="comment"># libssl-dev ï¼ˆHTTPSã€ BitTorrentï¼Œ Checksum æ”¯æŒæ˜¯å¿…éœ€çš„ï¼‰</span></span><br><span class="line"><span class="comment"># æ‚¨å¯ä»¥ä½¿ç”¨ libexpat1-dev è€Œä¸æ˜¯ libxml2-devï¼š</span></span><br><span class="line"><span class="comment"># libexpat1-dev ï¼ˆMetalink æ”¯æŒæ‰€å¿…éœ€çš„ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‹¥æç¤ºå´å°‘æ”¯æŒé¡¹åˆ™aptå®‰è£…æˆ–è€…å‚ç…§ä¸‹é¢æ–¹æ³•å®‰è£… </span></span><br><span class="line"><span class="comment"># å®‰è£…tcmallocæ”¯æŒåº“</span></span><br><span class="line"><span class="comment"># 1ã€å®‰è£…libunwind</span></span><br><span class="line"><span class="comment"># [é¡¹ç›®åœ°å€](https://github.com/libunwind/libunwind)</span></span><br><span class="line"><span class="comment"># wget https://github.com/libunwind/libunwind/releases/download/v1.6.2/libunwind-1.6.2.tar.gz </span></span><br><span class="line"><span class="comment"># tar -zxvf libunwind-1.6.2.tar.gz</span></span><br><span class="line"><span class="comment"># ./configure --prefix=/usr/local</span></span><br><span class="line"><span class="comment"># make &amp;&amp; sudo make install</span></span><br><span class="line"><span class="comment"># 2ã€å®‰è£… tcmalloc</span></span><br><span class="line"><span class="comment"># wget https://github.com/gperftools/gperftools/releases/download/gperftools-2.9.1/gperftools-2.9.1.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxvf gperftools-2.9.1.tar.gz</span></span><br><span class="line"><span class="comment"># cd gperftools-2.9.1</span></span><br><span class="line"><span class="comment"># ./configure</span></span><br><span class="line"><span class="comment"># make &amp;&amp; sudo make install</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…libssh2</span></span><br><span class="line"><span class="comment"># wget https://www.libssh2.org/download/libssh2-1.10.0.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxvf libssh2-1.10.0.tar.gz</span></span><br><span class="line"><span class="comment"># cd libssh2-1.10.0</span></span><br><span class="line"><span class="comment"># ./configure</span></span><br><span class="line"><span class="comment"># make &amp;&amp; sudo make install</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…c-ares</span></span><br><span class="line"><span class="comment"># wget https://github.com/c-ares/c-ares/releases/download/cares-1_18_1/c-ares-1.18.1.tar.gz</span></span><br><span class="line"><span class="comment"># tar -zxvf c-ares-1.18.1.tar.gz</span></span><br><span class="line"><span class="comment"># cd c-ares-1.18.1</span></span><br><span class="line"><span class="comment"># ./configure</span></span><br><span class="line"><span class="comment"># make &amp;&amp; sudo make install</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…aria2-1-36-0"><a href="#ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…aria2-1-36-0" class="headerlink" title="ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…aria2-1.36.0"></a>ä¸‹è½½å¹¶ç¼–è¯‘å®‰è£…<code>aria2-1.36.0</code></h2><p>ä¾æ¬¡è¿è¡Œä¸€ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/aria2/aria2/releases/download/release-1.36.0/aria2-1.36.0.tar.bz2</span><br><span class="line">tar -xjvf aria2-1.36.0.tar.bz2</span><br><span class="line"><span class="built_in">cd</span> aria2-1.36.0</span><br><span class="line">./configure \</span><br><span class="line">  --prefix=/usr/local/aria2-1.36.0 \</span><br><span class="line">  --enable-libaria2 \</span><br><span class="line">  --enable-FEATURE \</span><br><span class="line">  --enable-threads=posix \</span><br><span class="line">  --enable-static \</span><br><span class="line">  --with-gnu-ld \</span><br><span class="line">  --with-tcmalloc </span><br><span class="line">make &amp;&amp; sudo make install</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/aria2-1.36.0/bin/aria2c /usr/local/bin/aria2c</span><br></pre></td></tr></table></figure></p>
<h1 id="ç¼–è¯‘æ—¶å‡ºç°é”™è¯¯"><a href="#ç¼–è¯‘æ—¶å‡ºç°é”™è¯¯" class="headerlink" title="ç¼–è¯‘æ—¶å‡ºç°é”™è¯¯"></a>ç¼–è¯‘æ—¶å‡ºç°é”™è¯¯</h1><p>ç¼–è¯‘å®‰è£…<code>aria2-1.36.0</code>æ˜¯å‡ºç°é”™è¯¯æç¤ºå¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">checking <span class="keyword">for</span> gcc... gcc</span><br><span class="line">checking whether the C compiler works... no</span><br><span class="line">configure: error: <span class="keyword">in</span> `~/ä¸‹è½½/è½¯ä»¶/debåŒ…/ApplicationSoftware/aria2-1.36.0<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">configure: error: C compiler cannot create executables</span></span><br><span class="line"><span class="string">See `config.log&#x27;</span> <span class="keyword">for</span> more details</span><br></pre></td></tr></table></figure><br>è§£å†³åŠæ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install gobjc++</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…åå¯åŠ¨å‡ºç°é”™è¯¯"><a href="#å®‰è£…åå¯åŠ¨å‡ºç°é”™è¯¯" class="headerlink" title="å®‰è£…åå¯åŠ¨å‡ºç°é”™è¯¯"></a>å®‰è£…åå¯åŠ¨å‡ºç°é”™è¯¯</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aria2c -v</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line">aria2c: error <span class="keyword">while</span> loading shared libraries: libtcmalloc_minimal.so.4: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>
<p>æ”¯æŒåº“æ–‡ä»¶å®‰è£…è·¯å¾„æ˜¯<code>/usr/local/lib</code>ï¼Œè€Œ<code>/usr/local/lib</code> ä¸åœ¨ç³»ç»Ÿé»˜è®¤çš„<code>LD_LIBRARY_PATH</code>é‡Œï¼Œæ‰€ä»¥å°±æ‰¾ä¸åˆ°è¯¥<code>lib</code>ã€‚<br>è§£å†³åŠæ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/ld.so.conf</span><br></pre></td></tr></table></figure></p>
<h1 id="æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š"><a href="#æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š" class="headerlink" title="æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š"></a>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/local/lib</span><br></pre></td></tr></table></figure>
<p>ä½¿é…ç½®ç”Ÿæ•ˆï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ldconfig -v</span><br></pre></td></tr></table></figure><br>é‡æ–°å¯åŠ¨<code>aria2</code>å³å¯ã€‚</p>
<p>å…³äº<strong>å…¶ä»–é…ç½®</strong>è¯·å‚è€ƒ<br><a href="../../../../2021/08/25/Aria2åœ¨Debian11ä¸‹çš„é…ç½®/">Aria2åœ¨Debian11ä¸‹çš„é…ç½®</a></p>
<p>æœ€åå®‰è£…åå¯ç”¨çš„åŠŸèƒ½å¦‚å›¾ï¼š<br><img src="/pic/2022/1/aria2-1.36/aria2-1.36.png" alt="nologoImage5.jpg"></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://blog.51cto.com/skypegnu1/1637168">CentOS ä¸‹æ­å»º aria2 è¿œç¨‹ä¸‹è½½ç¯å¢ƒ</a></p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç¼–è¯‘å®‰è£…å‡çº§Python310</title>
    <url>/2021/10/10/Debian11%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7Python310/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€å®‰è£…ç¼–è¯‘æ‰€éœ€æ–‡ä»¶"><a href="#1ã€å®‰è£…ç¼–è¯‘æ‰€éœ€æ–‡ä»¶" class="headerlink" title="1ã€å®‰è£…ç¼–è¯‘æ‰€éœ€æ–‡ä»¶"></a>1ã€å®‰è£…ç¼–è¯‘æ‰€éœ€æ–‡ä»¶</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev libffi-dev zlib1g-dev libreadline-gplv2-dev</span><br></pre></td></tr></table></figure>
<h1 id="2ã€ä¸‹è½½å¹¶è§£å‹python310"><a href="#2ã€ä¸‹è½½å¹¶è§£å‹python310" class="headerlink" title="2ã€ä¸‹è½½å¹¶è§£å‹python310"></a>2ã€ä¸‹è½½å¹¶è§£å‹python310</h1><h2 id="â‘ ä¸‹è½½"><a href="#â‘ ä¸‹è½½" class="headerlink" title="â‘ ä¸‹è½½"></a>â‘ ä¸‹è½½</h2><p><a href="https://www.python.org/ftp/python/3.10.0/Python-3.10.0.tar.xz">Python3.10.0 XZ compressed source tarballä¸‹è½½ç½‘å€</a></p>
<h2 id="â‘¡è§£å‹å¹¶ç¼–è¯‘å®‰è£…"><a href="#â‘¡è§£å‹å¹¶ç¼–è¯‘å®‰è£…" class="headerlink" title="â‘¡è§£å‹å¹¶ç¼–è¯‘å®‰è£…"></a>â‘¡è§£å‹å¹¶ç¼–è¯‘å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ xz -dk Python-3.10.0.tar.xz  // -kä¿ç•™åŸå‹ç¼©åŒ…</span><br><span class="line">$ tar -xvf Python-3.10.0.tar</span><br><span class="line">$ <span class="built_in">cd</span> Python-3.10.0</span><br><span class="line">$ ./configure --enable-optimizations</span><br><span class="line">$ sudo make &amp;&amp; sudo make altinstall </span><br></pre></td></tr></table></figure>
<p><code>--enable-optimizations å¯ç”¨ä¼˜åŒ–</code><br><code>// æ³¨æ„ï¼Œè¿™é‡Œè¦ç”¨sudoï¼ŒæŠŠpython3.9å®‰è£…åˆ°äº†/usr/local/libä¸‹é¢ï¼Œå¯æ‰§è¡Œæ–‡ä»¶åœ¨/usr/local/binä¸‹é¢ã€‚</code><br><code>// å¦‚æœä¸ç”¨altinstallï¼Œå°±ä¼šå®‰è£…åˆ°/usr/bin/ä¸‹é¢ï¼Œå¯èƒ½ä¼šç›´æ¥è¦†ç›–ç³»ç»ŸåŸæ¥çš„æ–‡ä»¶ã€‚</code><br>åœ¨å½“å‰æœ€æ–°çš„<code>python3.10</code>ç‰ˆä¸­ï¼Œç”¨<code>make install</code>ä¹Ÿæ˜¯ä¼šå®‰è£…åœ¨<code>/usr/local/bin/</code>ä¸‹ã€‚</p>
<h1 id="3ã€update-alternativesç‰ˆæœ¬ç®¡ç†"><a href="#3ã€update-alternativesç‰ˆæœ¬ç®¡ç†" class="headerlink" title="3ã€update-alternativesç‰ˆæœ¬ç®¡ç†"></a>3ã€<code>update-alternatives</code>ç‰ˆæœ¬ç®¡ç†</h1><h2 id="â‘ ä¸ºç³»ç»Ÿè‡ªå¸¦python2-7åˆ›å»ºè½¯è¿æ¥"><a href="#â‘ ä¸ºç³»ç»Ÿè‡ªå¸¦python2-7åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="â‘ ä¸ºç³»ç»Ÿè‡ªå¸¦python2.7åˆ›å»ºè½¯è¿æ¥"></a>â‘ ä¸ºç³»ç»Ÿè‡ªå¸¦python2.7åˆ›å»ºè½¯è¿æ¥</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1</span><br><span class="line">```  </span><br><span class="line">`// --install é€‰é¡¹ä½¿ç”¨äº†å¤šä¸ªå‚æ•°ç”¨äºåˆ›å»ºç¬¦å·é“¾æ¥ã€‚`</span><br><span class="line"></span><br><span class="line">`update-alternatives`: ä½¿ç”¨ /usr/bin/python2.7 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">```bash</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.9 2</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/bin/python3.9 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ whereis python3.10</span><br><span class="line">python3: /usr/bin/python3.9 /usr/bin/python3 /usr/lib/python3.9 /usr/lib/python3 /etc/python3.9 /etc/python3 /usr/local/bin/python3 /usr/local/bin/python3.10-config /usr/local/bin/python3.10 /usr/local/lib/python3.9 /usr/local/lib/python3.10 /usr/share/python3 /usr/share/man/man1/python3.1.gz</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/python python /usr/local/bin/python3.10 3</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/local/bin/python3.10 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ sudo update-alternatives --list python</span><br><span class="line">/usr/bin/python2.7</span><br><span class="line">/usr/bin/python3.9</span><br><span class="line">/usr/local/bin/python3.10</span><br><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š</span><br></pre></td></tr></table></figure>
<h2 id="â‘¡ä»¥ä¸‹ä¸ºåˆ‡æ¢3-9åŠåˆ‡æ¢ä¸º3-10å®ä¾‹ï¼š"><a href="#â‘¡ä»¥ä¸‹ä¸ºåˆ‡æ¢3-9åŠåˆ‡æ¢ä¸º3-10å®ä¾‹ï¼š" class="headerlink" title="â‘¡ä»¥ä¸‹ä¸ºåˆ‡æ¢3.9åŠåˆ‡æ¢ä¸º3.10å®ä¾‹ï¼š"></a>â‘¡ä»¥ä¸‹ä¸ºåˆ‡æ¢3.9åŠåˆ‡æ¢ä¸º3.10å®ä¾‹ï¼š</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š2</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/bin/python3.9 æ¥åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ python</span><br><span class="line">Python 3.9.2 (default, Feb 28 2021, 17:03:44) </span><br><span class="line">[GCC 10.2.1 20210110] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">[6]+  å·²åœæ­¢               python</span><br><span class="line">$ sudo update-alternatives --config python</span><br><span class="line">æœ‰ 3 ä¸ªå€™é€‰é¡¹å¯ç”¨äºæ›¿æ¢ python (æä¾› /usr/bin/python)ã€‚</span><br><span class="line"></span><br><span class="line">  é€‰æ‹©       è·¯å¾„                     ä¼˜å…ˆçº§  çŠ¶æ€</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">  0            /usr/local/bin/python3.10   3         è‡ªåŠ¨æ¨¡å¼</span><br><span class="line">  1            /usr/bin/python2.7          1         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">* 2            /usr/bin/python3.9          2         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line">  3            /usr/local/bin/python3.10   3         æ‰‹åŠ¨æ¨¡å¼</span><br><span class="line"></span><br><span class="line">è¦ç»´æŒå½“å‰å€¼[*]è¯·æŒ‰&lt;å›è½¦é”®&gt;ï¼Œæˆ–è€…é”®å…¥é€‰æ‹©çš„ç¼–å·ï¼š0</span><br><span class="line">update-alternatives: ä½¿ç”¨ /usr/local/bin/python3.10 æ¥åœ¨è‡ªåŠ¨æ¨¡å¼ä¸­æä¾› /usr/bin/python (python)</span><br><span class="line">$ python</span><br><span class="line">Python 3.10.0 (default, Oct 17 2021, 10:46:43) [GCC 10.2.1 20210110] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; ^Z</span><br><span class="line">[7]+  å·²åœæ­¢               python</span><br><span class="line"></span><br><span class="line">$ sudo vim pip</span><br><span class="line">	ä¿®æ”¹ï¼š<span class="comment">#!/usr/local/bin/python2.7</span></span><br><span class="line">	ä¸ºï¼š <span class="comment">#!/usr/local/bin/python3.10</span></span><br><span class="line">$ pip -V</span><br><span class="line">pip 21.3 from /home/yk/.local/lib/python3.10/site-packages/pip (python 3.10)</span><br></pre></td></tr></table></figure>
<h2 id="â‘¢å…¶ä»–å‘½ä»¤"><a href="#â‘¢å…¶ä»–å‘½ä»¤" class="headerlink" title="â‘¢å…¶ä»–å‘½ä»¤"></a>â‘¢å…¶ä»–å‘½ä»¤</h2><h3 id="æ›´æ¢pipæº"><a href="#æ›´æ¢pipæº" class="headerlink" title="æ›´æ¢pipæº"></a>æ›´æ¢pipæº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> ~/.pip</span><br><span class="line">$ vim ~/.pip/pip.conf</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">[install]</span><br><span class="line">trusted-host = pypi.tuna.tsinghua.edu.cn</span><br></pre></td></tr></table></figure></p>
<p>ä¸´æ—¶ä½¿ç”¨å®‰è£…æºå‘½ä»¤ï¼š <code>pip install wheel -i https://pypi.tuna.tsinghua.edu.cn/simple</code></p>
<h3 id="ç§»é™¤ç‰ˆæœ¬å‘½ä»¤"><a href="#ç§»é™¤ç‰ˆæœ¬å‘½ä»¤" class="headerlink" title="ç§»é™¤ç‰ˆæœ¬å‘½ä»¤"></a>ç§»é™¤ç‰ˆæœ¬å‘½ä»¤</h3><p><code>sudo update-alternatives --remove python /usr/bin/python2.7</code></p>
<h1 id="4ã€å°†æ¨¡å—è·¯å¾„æ·»åŠ åˆ°pathç¯å¢ƒå¹¶ä½¿å…¶ç”Ÿæ•ˆ"><a href="#4ã€å°†æ¨¡å—è·¯å¾„æ·»åŠ åˆ°pathç¯å¢ƒå¹¶ä½¿å…¶ç”Ÿæ•ˆ" class="headerlink" title="4ã€å°†æ¨¡å—è·¯å¾„æ·»åŠ åˆ°pathç¯å¢ƒå¹¶ä½¿å…¶ç”Ÿæ•ˆ"></a>4ã€å°†æ¨¡å—è·¯å¾„æ·»åŠ åˆ°pathç¯å¢ƒå¹¶ä½¿å…¶ç”Ÿæ•ˆ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;export PATH=/home/yk/.local/bin:$PATH&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">$ <span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
<h1 id="5ã€å…·ä½“å‚ç…§ï¼š"><a href="#5ã€å…·ä½“å‚ç…§ï¼š" class="headerlink" title="5ã€å…·ä½“å‚ç…§ï¼š"></a>5ã€å…·ä½“å‚ç…§ï¼š</h1><p><a href="https://www.cnblogs.com/fengtai/p/12865147.html">update-alternativeså°†Linuxä¸‹pythoné»˜è®¤ç‰ˆæœ¬åˆ‡æ¢æˆæ›¿ä»£ç‰ˆæœ¬</a><br><a href="https://blog.csdn.net/weixin_42651887/article/details/113972144">pythonå‡çº§å‘½ä»¤debian_æ›´æ”¹Ubuntuæˆ–è€…Debiané»˜è®¤pythonç‰ˆæœ¬çš„æ–¹æ³•</a></p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>è¿ç»´</category>
        <category>Update</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianä¸­å…è®¸å…è¾“å…¥å¯†ç ä½¿ç”¨è¶…çº§ç”¨æˆ·è¿è¡Œå‘½ä»¤</title>
    <url>/2021/11/22/Debian%E4%B8%AD%E5%85%81%E8%AE%B8%E5%85%8D%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E4%BD%BF%E7%94%A8%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä½¿ç”¨<code>visudo</code>ç¼–è¾‘ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~<span class="comment"># visudo /etc/sudoers</span></span><br><span class="line">User_Alias ADMINS = user1,user2</span><br><span class="line">ADMINS  ALL = NOPASSWD:ALL</span><br><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line">user3   ALL=(ALL:ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure><br>ä¸Šè¿°å‘½ä»¤èµ‹äºˆåˆ«å<code>ADMINS</code>é‡Œçš„<code>user1,user2</code>å’Œå•ç‹¬ç”¨æˆ·<code>user3</code>åœ¨ä»»ä½•ä¸»æœºã€ä»»ä½•ç”¨æˆ·èº«ä»½ã€ä»»ä½•ç”¨æˆ·ç»„è¿è¡Œ<code>sudo</code>å‘½ä»¤å…å¯†ç ã€‚<br><code>NOPASSWD:ALL</code>è¡¨ç¤ºæ‰§è¡Œä»»æ„å‘½ä»¤ä¸éœ€è¦å¯†ç ã€‚<br><code>visudo</code>ç¼–è¾‘<code>/etc/sudoers</code>åœ¨ä¿å­˜ä¼šè¿›è¡Œè¯­æ³•æ£€æµ‹ã€‚ </p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>sudo</category>
      </categories>
      <tags>
        <tag>è®¾ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianæ›´æ–°æºæ—¶å‡ºç°ç­¾åæ— æ³•è¿›è¡ŒéªŒè¯</title>
    <url>/2022/01/01/Debian%E6%9B%B4%E6%96%B0%E6%BA%90%E6%97%B6%E5%87%BA%E7%8E%B0%E7%AD%BE%E5%90%8D%E6%97%A0%E6%B3%95%E8%BF%9B%E8%A1%8C%E9%AA%8C%E8%AF%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>æœ‰äº›æ—¶å€™åœ¨æ·»åŠ è½¯ä»¶æºï¼Œæ›´æ–°è½¯ä»¶æºåï¼Œä¼šæç¤ºæ‰€æ·»åŠ çš„è½¯ä»¶æºå…¬é’¥æ— æ³•éªŒè¯ï¼Œé€ æˆæ›´æ–°å¤±è´¥ã€‚<br>æ¯”å¦‚æ·»åŠ <code>deb https://www.deb-multimedia.org bullseye main non-free</code>æºï¼Œå¦‚æœä¸ç”¨å‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install deb-multimedia-keyring</span><br></pre></td></tr></table></figure><br>å®‰è£…å¯†é’¥ï¼Œé‚£ä¹ˆæ›´æ–°æºåä¼šæç¤ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">W: æ ¡éªŒæ•°å­—ç­¾åæ—¶å‡ºé”™ã€‚æ­¤ä»“åº“æœªè¢«æ›´æ–°ï¼Œæ‰€ä»¥ä»ç„¶ä½¿ç”¨æ­¤å‰çš„ç´¢å¼•æ–‡ä»¶ã€‚GPG é”™è¯¯ï¼šhttps://www.deb-multimedia.org bullseye InRelease: ç”±äºæ²¡æœ‰å…¬é’¥ï¼Œæ— æ³•éªŒè¯ä¸‹åˆ—ç­¾åï¼š NO_PUBKEY 5C808C2B65558117</span><br><span class="line">W: æ— æ³•ä¸‹è½½ https://www.deb-multimedia.org/dists/bullseye/InRelease  ç”±äºæ²¡æœ‰å…¬é’¥ï¼Œæ— æ³•éªŒè¯ä¸‹åˆ—ç­¾åï¼š NO_PUBKEY 5C808C2B65558117</span><br><span class="line">W: éƒ¨åˆ†ç´¢å¼•æ–‡ä»¶ä¸‹è½½å¤±è´¥ã€‚å¦‚æœå¿½ç•¥å®ƒä»¬ï¼Œé‚£å°†è½¬è€Œä½¿ç”¨æ—§çš„ç´¢å¼•æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure></p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p><strong>[æ¨èæ–¹æ³•]</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä» keyring.debian.org ä¸‹è½½å…¬é’¥ï¼Œå¯¼å…¥å¯†é’¥</span></span><br><span class="line">curl -s https://www.deb-multimedia.org | sudo gpg --no-default-keyring --keyring gnupg-ring:/etc/apt/trusted.gpg.d/deb-multimedia.gpg --import</span><br><span class="line">sudo gpg --no-default-keyring --keyring gnupg-ring:/etc/apt/trusted.gpg.d/deb-multimedia.gpg --keyserver keyring.debian.org --recv 5C808C2B65558117</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">gpg: å¯†é’¥ 5C808C2B65558117ï¼šå…¬é’¥ â€œChristian Marillat &lt;marillat@debian.org&gt;â€ å·²å¯¼å…¥</span><br><span class="line">gpg: å¤„ç†çš„æ€»æ•°ï¼š1</span><br><span class="line">gpg:               å·²å¯¼å…¥ï¼š1</span><br><span class="line"><span class="comment"># ç¡®ä¿è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æƒé™</span></span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/apt/trusted.gpg.d/deb-multimedia.gpg</span><br><span class="line"><span class="comment"># å…¶ä¸­`5C808C2B65558117`ä¸ºæ›´æ–°æºåæç¤ºæ— æ³•éªŒè¯çš„å…¬é’¥å­—ç¬¦ã€‚</span></span><br></pre></td></tr></table></figure><br>é‡‡ç”¨ä»¥ä¸‹å³å°†å¼ƒç”¨çš„æ–¹æ³•ä¼šæç¤ºè­¦å‘Šã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo  gpg --keyserver keyring.debian.org --recv-keys 5C808C2B65558117</span><br><span class="line">gpg: /root/.gnupg/trustdb.gpgï¼šå»ºç«‹äº†ä¿¡ä»»åº¦æ•°æ®åº“</span><br><span class="line">gpg: å¯†é’¥ 5C808C2B65558117ï¼šå…¬é’¥ â€œChristian Marillat &lt;marillat@debian.org&gt;â€ å·²å¯¼å…¥</span><br><span class="line">gpg: å¤„ç†çš„æ€»æ•°ï¼š1</span><br><span class="line">gpg:               å·²å¯¼å…¥ï¼š1</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°`root`ç”¨æˆ·ï¼ŒæŠŠä¸‹è½½çš„keyæ·»åŠ åˆ°æœ¬åœ°trustedæ•°æ®åº“ä¸­ã€‚</span></span><br><span class="line"><span class="comment"># è¾“å‡º65558117ç”¨æˆ·çš„å…¬é’¥,armorå‚æ•°å¯ä»¥å°†å…¶è½¬æ¢ä¸ºASCIIç æ˜¾ç¤º</span></span><br><span class="line">su</span><br><span class="line">å¯†ç ï¼š</span><br><span class="line">sudo gpg --armor --<span class="built_in">export</span> 65558117 | apt-key add - </span><br><span class="line">Warning: apt-key is deprecated. Manage keyring files <span class="keyword">in</span> trusted.gpg.d instead (see apt-key(8)).</span><br><span class="line">OK</span><br><span class="line"><span class="comment"># å…¶ä¸­ 65558117 ä¸ºæ›´æ–°æºåæç¤ºæ— æ³•éªŒè¯çš„å…¬é’¥åå…«ä½å­—ç¬¦ã€‚</span></span><br></pre></td></tr></table></figure></p>
<p><strong>é™„</strong>ï¼šå¦‚æœæ‚¨å·²ç»çŸ¥é“æ‰€éœ€å…¬é’¥çš„ <code>URL</code>ï¼Œè¯·ä½¿ç”¨ <code>wget</code> æˆ– <code>curl</code> ä¸‹è½½å¹¶å¯¼å…¥å®ƒã€‚è¯·è®°ä½å°†æ–‡ä»¶æƒé™ä» <code>600</code> æ›´æ–°åˆ° <code>644</code>ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -s https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo gpg --no-default-keyring --keyring gnupg-ring:/etc/apt/trusted.gpg.d/earth.gpg --import</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/apt/trusted.gpg.d/earth.gpg</span><br></pre></td></tr></table></figure></p>
<p>æŸ¥è¯¢å·²å®‰è£…çš„<code>key</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --keyring /etc/apt/trusted.gpg.d/deb-multimedia.gpg</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">apt-key list</span><br></pre></td></tr></table></figure><br>åˆ é™¤å®‰è£…çš„<code>key</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-key del 65558117</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"><span class="built_in">cd</span> /etc/apt/trusted.gpg.d/</span><br><span class="line">sudo <span class="built_in">rm</span> deb-multimedia.gpg</span><br></pre></td></tr></table></figure></p>
<h1 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h1><p>å†æ›´æ–°å®‰è£…æºå°±ä¸ä¼šå‡ºç°é”™è¯¯äº†ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™<br>1ã€<a href="https://ulyc.github.io/2021/01/26/2021%E5%B9%B4-%E7%94%A8%E6%9B%B4%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8PGP-%E4%B8%8B/">2021å¹´-ç”¨æ›´ç°ä»£çš„æ–¹æ³•ä½¿ç”¨PGP-ä¸‹</a><br>2ã€<a href="https://suay.site/?p=526">è­¦å‘Šï¼šapt é”®å·²å¼ƒç”¨</a></p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Debian</tag>
        <tag>é”™è¯¯è§£å†³</tag>
        <tag>Gpg</tag>
        <tag>Apt-key</tag>
      </tags>
  </entry>
  <entry>
    <title>Excelä¸€äº›å‡½æ•°çš„ç®€å•ä½¿ç”¨</title>
    <url>/2022/05/10/Excel%E4%B8%80%E4%BA%9B%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="è´¢åŠ¡å¸¸ç”¨"><a href="#è´¢åŠ¡å¸¸ç”¨" class="headerlink" title="è´¢åŠ¡å¸¸ç”¨"></a>è´¢åŠ¡å¸¸ç”¨</h1><h2 id="è´¢åŠ¡ä¸­è½¬æ¢æ•°å­—ä¸ºå¤§å†™å…ƒè§’åˆ†"><a href="#è´¢åŠ¡ä¸­è½¬æ¢æ•°å­—ä¸ºå¤§å†™å…ƒè§’åˆ†" class="headerlink" title="è´¢åŠ¡ä¸­è½¬æ¢æ•°å­—ä¸ºå¤§å†™å…ƒè§’åˆ†"></a>è´¢åŠ¡ä¸­è½¬æ¢æ•°å­—ä¸ºå¤§å†™å…ƒè§’åˆ†</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span>SUBSTITUTE(SUBSTITUTE(IF(A3<span class="operator">&gt;</span><span class="number">-0.5</span><span class="operator">%</span>,,&quot;è´Ÿ&quot;)<span class="operator">&amp;</span>TEXT(<span class="type">INT</span>(FIXED(<span class="built_in">ABS</span>(A3))),&quot;[dbnum2]G/é€šç”¨æ ¼å¼å…ƒ;;&quot;)<span class="operator">&amp;</span>TEXT(<span class="keyword">RIGHT</span>(FIXED(A3),<span class="number">2</span>),&quot;[dbnum2]0è§’0åˆ†;;&quot;<span class="operator">&amp;</span>IF(<span class="built_in">ABS</span>(A3)<span class="operator">&gt;</span><span class="number">1</span><span class="operator">%</span>,&quot;æ•´&quot;,)),&quot;é›¶è§’&quot;,IF(<span class="built_in">ABS</span>(A3)<span class="operator">&lt;</span><span class="number">1</span>,,&quot;é›¶&quot;)),&quot;é›¶åˆ†&quot;,&quot;æ•´&quot;)</span><br></pre></td></tr></table></figure>
<h2 id="å°†æ•°å­—å¡«åˆ°æ•°ä½ä¸­"><a href="#å°†æ•°å­—å¡«åˆ°æ•°ä½ä¸­" class="headerlink" title="å°†æ•°å­—å¡«åˆ°æ•°ä½ä¸­"></a>å°†æ•°å­—å¡«åˆ°æ•°ä½ä¸­</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span><span class="keyword">LEFT</span>(<span class="keyword">RIGHT</span>(TEXT($A3<span class="operator">*</span><span class="number">100</span>,&quot; ï¿¥0;;&quot;),COLUMNS(E:$K)))</span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="operator">=</span><span class="keyword">LEFT</span>(<span class="keyword">RIGHT</span>(&quot; ï¿¥&quot;<span class="operator">&amp;</span>$A3<span class="operator">*</span><span class="number">100</span>,COLUMNS(E:$K)))</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæ•ˆæœå¦‚ï¼š<br><img src="\pic\2022\5\æ•°å­—åˆ°æŒ‡å®šå•å…ƒæ ¼.gif" alt="æ•°å­—åˆ°æŒ‡å®šå•å…ƒæ ¼"><br><!-- <video id="video" controls="" preload="none" poster="å°é¢">
  <source id="mp4" src="\pic\2022\5\æ•°å­—åˆ°æŒ‡å®šå•å…ƒæ ¼.mp4" type="video/mp4">
</video> --></p>
<h1 id="è½¬æ¢å¤§å°å†™"><a href="#è½¬æ¢å¤§å°å†™" class="headerlink" title="è½¬æ¢å¤§å°å†™"></a>è½¬æ¢å¤§å°å†™</h1><h2 id="å°†æ—¶é—´è½¬æ¢ä¸ºå¤§å†™"><a href="#å°†æ—¶é—´è½¬æ¢ä¸ºå¤§å†™" class="headerlink" title="å°†æ—¶é—´è½¬æ¢ä¸ºå¤§å†™"></a>å°†æ—¶é—´è½¬æ¢ä¸ºå¤§å†™</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">=&quot;ç°åœ¨æ˜¯:&quot;&amp;TEXT(NOW(),&quot;[DBNum2][$-804]&quot;&amp;&quot;hæ—¶måˆ†sç§’&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\11\æ—¶é—´å¤§å°å†™æ ·å¼.png" alt="æ—¶é—´è½¬æ¢ä¸ºå¤§å†™"></p>
<h1 id="æå–å†…å®¹"><a href="#æå–å†…å®¹" class="headerlink" title="æå–å†…å®¹"></a>æå–å†…å®¹</h1><h2 id="æ··æ’æå–æ±‰å­—"><a href="#æ··æ’æå–æ±‰å­—" class="headerlink" title="æ··æ’æå–æ±‰å­—"></a>æ··æ’æå–æ±‰å­—</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span>IFERROR(MID(MID(A2,<span class="number">19</span>,<span class="number">520</span>),<span class="keyword">MATCH</span>(<span class="number">2</span>,LENB(MID(MID(A2,<span class="number">19</span>,<span class="number">520</span>),<span class="type">ROW</span>(INDIRECT(&quot;1:&quot;<span class="operator">&amp;</span>LEN(MID(A2,<span class="number">19</span>,<span class="number">520</span>)))),<span class="number">1</span>)),<span class="number">0</span>),LENB(MID(A2,<span class="number">19</span>,<span class="number">520</span>))<span class="operator">-</span>LEN(MID(A2,<span class="number">19</span>,<span class="number">520</span>))),&quot;&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\11\æå–åœ°å€.gif" alt="æå–åœ°å€"></p>
<h1 id="æ•°ç»„å…¬å¼ä¸€äº›åº”ç”¨"><a href="#æ•°ç»„å…¬å¼ä¸€äº›åº”ç”¨" class="headerlink" title="æ•°ç»„å…¬å¼ä¸€äº›åº”ç”¨"></a><code>æ•°ç»„å…¬å¼</code>ä¸€äº›åº”ç”¨</h1><h2 id="è®¡ç®—éç©ºä¸¤åˆ—å•å…ƒæ ¼ä¸¤ä¸¤ç›¸é™¤åå’Œçš„å¹³å‡æ•°"><a href="#è®¡ç®—éç©ºä¸¤åˆ—å•å…ƒæ ¼ä¸¤ä¸¤ç›¸é™¤åå’Œçš„å¹³å‡æ•°" class="headerlink" title="è®¡ç®—éç©ºä¸¤åˆ—å•å…ƒæ ¼ä¸¤ä¸¤ç›¸é™¤åå’Œçš„å¹³å‡æ•°"></a>è®¡ç®—éç©ºä¸¤åˆ—å•å…ƒæ ¼ä¸¤ä¸¤ç›¸é™¤åå’Œçš„å¹³å‡æ•°</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span><span class="built_in">SUM</span>(INDIRECT(&quot;C3:C&quot;<span class="operator">&amp;</span><span class="built_in">MAX</span>((B3:B20<span class="operator">&lt;&gt;</span>&quot;&quot;)<span class="operator">*</span>(<span class="type">ROW</span>(B3:B20))))<span class="operator">/</span>INDIRECT(&quot;B3:B&quot;<span class="operator">&amp;</span><span class="built_in">COUNT</span>(B3:B20,&quot;&lt;&gt;&quot;)<span class="operator">+</span><span class="number">2</span>))<span class="operator">/</span><span class="built_in">COUNT</span>(B3:B20,&quot;&lt;&gt;&quot;)&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span>SUMPRODUCT(INDIRECT(&quot;C3:C&quot;<span class="operator">&amp;</span><span class="built_in">MAX</span>((B3:B20<span class="operator">&lt;&gt;</span>&quot;&quot;)<span class="operator">*</span>(<span class="type">ROW</span>(B3:B20))))<span class="operator">/</span>INDIRECT(&quot;B3:B&quot;<span class="operator">&amp;</span><span class="built_in">COUNT</span>(B3:B20,&quot;&lt;&gt;&quot;)<span class="operator">+</span><span class="number">2</span>))<span class="operator">/</span><span class="built_in">COUNT</span>(B3:B20,&quot;&lt;&gt;&quot;)&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="è¿”å›éç©ºè¡Œå·"><a href="#è¿”å›éç©ºè¡Œå·" class="headerlink" title="è¿”å›éç©ºè¡Œå·"></a>è¿”å›éç©ºè¡Œå·</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span><span class="built_in">MAX</span>((B3:B20<span class="operator">&lt;&gt;</span>&quot;&quot;)<span class="operator">*</span>(<span class="type">ROW</span>(B3:B20)))&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span><span class="built_in">MAX</span>(<span class="keyword">NOT</span>(ISBLANK(B3:B20))<span class="operator">*</span><span class="type">ROW</span>(<span class="number">3</span>:<span class="number">20</span>))â€&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="è¿”å›éç©ºåæ ‡"><a href="#è¿”å›éç©ºåæ ‡" class="headerlink" title="è¿”å›éç©ºåæ ‡"></a>è¿”å›éç©ºåæ ‡</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span>ADDRESS(<span class="built_in">MAX</span>((B3:B20<span class="operator">&lt;&gt;</span>&quot;&quot;)<span class="operator">*</span>(<span class="type">ROW</span>(B3:B20))),<span class="keyword">COLUMN</span>(B:B))&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¿”å›åˆ—ä¸­æœ€åéç©ºå•å…ƒæ ¼å€¼"><a href="#è¿”å›åˆ—ä¸­æœ€åéç©ºå•å…ƒæ ¼å€¼" class="headerlink" title="è¿”å›åˆ—ä¸­æœ€åéç©ºå•å…ƒæ ¼å€¼"></a>è¿”å›åˆ—ä¸­æœ€åéç©ºå•å…ƒæ ¼å€¼</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&#123;<span class="operator">=</span>INDIRECT(ADDRESS(<span class="built_in">MAX</span>((B3:B20<span class="operator">&lt;&gt;</span>&quot;&quot;)<span class="operator">*</span>(<span class="type">ROW</span>(B3:B20))),<span class="keyword">COLUMN</span>(B3:B20)))&#125;</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\11\æ•°ç»„å…¬å¼ä¸€äº›åº”ç”¨.png" alt="æ•°ç»„å…¬å¼ä¸€äº›åº”ç”¨"></p>
<h1 id="ä¸€äº›åº”ç”¨"><a href="#ä¸€äº›åº”ç”¨" class="headerlink" title="ä¸€äº›åº”ç”¨"></a>ä¸€äº›åº”ç”¨</h1><h2 id="ç®€æ˜“æ—¥å†"><a href="#ç®€æ˜“æ—¥å†" class="headerlink" title="ç®€æ˜“æ—¥å†"></a>ç®€æ˜“æ—¥å†</h2><p>1ã€å…ˆåšå¥½å¦‚å›¾å¤§æ¦‚æ¡†æ¶<br>å¯ç”¨<code>excelå¼€å‘å·¥å…·</code>ã€æ–‡ä»¶==ã€‹ï¼ˆæ›´å¤šï¼‰é€‰é¡¹==ã€‹è‡ªå®šä¹‰åŠŸèƒ½åŒº==ã€‹å³è¾¹<code>é€‰ä¸­å¼€å‘å·¥å…·</code>ã€‘ï¼Œæ‰“å¼€æ§ä»¶,è®¾ç½®æ§ä»¶æŒ‰é’®<code>æ•°å­—è°ƒèŠ‚é˜€</code><br>è®¾ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å½“å‰ï¼š1 //å¯1-12ä»»æ„æ•´æ•°</span><br><span class="line">æœ€å°ï¼š1</span><br><span class="line">æœ€å¤§ï¼š12</span><br><span class="line">æ­¥é•¿ï¼š1</span><br><span class="line">æ§åˆ¶ï¼š`$AA$1` //æ§åˆ¶æœˆä»½</span><br></pre></td></tr></table></figure><br><img src="\pic\2022\11\å¯ç”¨å¼€å‘å·¥å…·.png" alt="å¯ç”¨å¼€å‘å·¥å…·"><br>2ã€åœ¨ç¬¬ä¸‰è¡Œå’Œç¬¬ä¸ƒè¡Œè¾“å…¥ä»¥ä¸‹å…¬å¼ï¼Œè‡ªåŠ¨å˜æ¢æ—¥æœŸèŒƒå›´<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä¸ŠåŠæœˆ</span></span><br><span class="line"><span class="operator">=</span>TEXTJOIN(,<span class="literal">TRUE</span>,$X$<span class="number">1</span>,&quot;å¹´&quot;,$AA$<span class="number">1</span>,&quot;æœˆ&quot;,&quot;1æ—¥â€”â€”&quot;,$X$<span class="number">1</span>,&quot;å¹´&quot;,$AA$<span class="number">1</span>,&quot;æœˆ15æ—¥&quot;)</span><br><span class="line"><span class="comment">-- ä¸‹åŠæœˆ</span></span><br><span class="line">TEXTJOIN(,<span class="literal">TRUE</span>,$X$<span class="number">1</span>,&quot;å¹´&quot;,$AA$<span class="number">1</span>,&quot;æœˆ&quot;,&quot;16æ—¥â€”â€”&quot;,$X$<span class="number">1</span>,&quot;å¹´&quot;,$AA$<span class="number">1</span>,&quot;æœˆ&quot;,<span class="keyword">DAY</span>(<span class="type">DATE</span>($X$<span class="number">1</span>,$AA$<span class="number">1</span><span class="operator">+</span><span class="number">1</span>,)),&quot;æ—¥&quot;)</span><br></pre></td></tr></table></figure><br>3ã€åœ¨ä¸ŠåŠæœˆæ—¥æœŸ<code>ç¬¬ä¸€å¤©</code>å•å…ƒæ ¼è¾“å…¥å…¬å¼<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span><span class="type">DATE</span>($X$<span class="number">1</span>,$AA$<span class="number">1</span>,<span class="keyword">COLUMN</span>(A1)) </span><br><span class="line"><span class="comment">-- # &quot;$X$1&quot;å–å¹´ä»½ï¼Œ&quot;$AA$1&quot;å–æœˆä»½,â€œCOLUMN(A1)â€å–åˆ—å·ä¸ºæ—¥</span></span><br></pre></td></tr></table></figure><br>ç§»åˆ°å•å…ƒæ ¼å³ä¸‹è§’ï¼Œå‡ºç°é»‘åå­—<strong>+</strong>,å‘å³å¡«å……15æ ¼ï¼Œå³åˆ°15æ—¥ã€‚<br>4ã€åœ¨ä¸ŠåŠæœˆç¬¬ä¸€å¤©çš„<code>æ˜ŸæœŸ</code>æ‰€åœ¨å•å…ƒæ ¼è¾“å…¥å…¬å¼<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span>TEXT(C5,&quot;AAA&quot;) </span><br><span class="line"><span class="comment">-- # &quot;AAA&quot;è¿”å›çš„æ˜¯æ˜ŸæœŸçš„ç®€å†™ï¼Œå…¨ç§°åˆ™ä¸º&quot;AAAA&quot;,ä¸åˆ†å¤§å°å†™</span></span><br></pre></td></tr></table></figure><br>ç§»åˆ°å•å…ƒæ ¼å³ä¸‹è§’ï¼Œå‡ºç°é»‘åå­—<strong>+</strong>,å‘å³å¡«å……15æ ¼ï¼Œå³åˆ°15æ—¥ã€‚<br>5ã€åœ¨ä¸‹åŠæœˆè¡¨ç¬¬ä¸€ä¸ªæ—¥æœŸæ‰€åœ¨å•å…ƒæ ¼é‡Œé¢ï¼Œè¾“å…¥ä»¥ä¸‹å…¬å¼<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span>IF(<span class="keyword">MONTH</span>(<span class="type">DATE</span>($X$<span class="number">1</span>,$AA$<span class="number">1</span>,<span class="keyword">COLUMN</span>(P1)))<span class="operator">=</span>$AA$<span class="number">1</span>,<span class="type">DATE</span>($X$<span class="number">1</span>,$AA$<span class="number">1</span>,<span class="keyword">COLUMN</span>(P1)),&quot;&quot;)</span><br><span class="line"><span class="comment">-- # åˆ¤æ–­â€œMONTH(DATE($X$1,$AA$1,COLUMN(P1)))=$AA$1â€ï¼Œæ˜¯é¿å…åé¢å¤šçš„å•å…ƒæ ¼é‡Œé¢æ—¥æœŸä¸åœ¨æœ¬æœˆä¹‹å†…ã€‚</span></span><br></pre></td></tr></table></figure><br>ç§»åˆ°å•å…ƒæ ¼å³ä¸‹è§’ï¼Œå‡ºç°é»‘åå­—<strong>+</strong>,å‘å³æ‰©å±•å¡«å……16æ ¼ï¼Œå³åˆ°31æ—¥ã€‚<br>6ã€åœ¨ä¸‹åŠæœˆç¬¬ä¸€å¤©çš„<code>æ˜ŸæœŸ</code>æ‰€åœ¨å•å…ƒæ ¼è¾“å…¥å…¬å¼<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">=</span>TEXT(C9,&quot;AAA&quot;) </span><br><span class="line"><span class="comment">-- # â€œC9â€æ˜¯å–æ—¥æœŸï¼Œ&quot;AAA&quot;è¿”å›çš„æ˜¯æ˜ŸæœŸçš„ç®€å†™ï¼Œå…¨ç§°åˆ™ä¸º&quot;AAAA&quot;,ä¸åˆ†å¤§å°å†™</span></span><br></pre></td></tr></table></figure><br>ç§»åˆ°å•å…ƒæ ¼å³ä¸‹è§’ï¼Œå‡ºç°é»‘åå­—<strong>+</strong>,å‘å³å¡«å……16æ ¼ï¼Œå³åˆ°31æ—¥ã€‚<br>ç”¨é¡¶æ æœˆä»½å³è¾¹è°ƒèŠ‚é˜€æ§åˆ¶æœˆä»½ï¼Œå³å¯è‡ªåŠ¨æ›´æ–°æ—¥æœŸå’Œæ˜ŸæœŸã€‚</p>
<p><img src="\pic\2022\11\æ—¥å†ç®€å•åº”ç”¨.gif" alt="æ—¥å†ç®€å•åº”ç”¨"></p>
<p>åç»­ä¼šé™†ç»­è¡¥å……ä¸æ–­å®Œå–„â€¦â€¦</p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Excel</category>
      </categories>
      <tags>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title>ffmpegåœ¨debianç³»ç»Ÿä¸‹ç¼–è¯‘å®‰è£…</title>
    <url>/2022/01/22/Ffmpeg%E5%9C%A8debian%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…x264ç›¸å…³åº“"><a href="#å®‰è£…x264ç›¸å…³åº“" class="headerlink" title="å®‰è£…x264ç›¸å…³åº“"></a>å®‰è£…<code>x264</code>ç›¸å…³åº“</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget <span class="string">&quot;http://www.nasm.us/pub/nasm/releasebuilds/2.15rc12/nasm-2.15rc12.tar.xz&quot;</span></span><br><span class="line">tar -xvf nasm-2.15rc12.tar.xz</span><br><span class="line"><span class="built_in">cd</span> nasm-2.15rc12</span><br><span class="line">./configure </span><br><span class="line">make &amp;&amp; sudo make install</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/x264/lib/pkgconfig/x264.pc /usr/local/lib/pkgconfig/</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…x264"><a href="#å®‰è£…x264" class="headerlink" title="å®‰è£…x264"></a>å®‰è£…<code>x264</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget <span class="string">&quot;http://download.videolan.org/pub/videolan/x264/snapshots/x264-snapshot-20191217-2245-stable.tar.bz2&quot;</span></span><br><span class="line">tar -xvf x264-snapshot-20191217-2245-stable.tar.bz2</span><br><span class="line"><span class="built_in">cd</span> x264-snapshot-20191217-2245-stable</span><br><span class="line">./configure --prefix=/usr/local/x264 --enable-shared --enable-static</span><br><span class="line">make &amp;&amp; sudo make install</span><br><span class="line">sudo ldconfig -v</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…-fribidi"><a href="#å®‰è£…-fribidi" class="headerlink" title="å®‰è£… fribidi"></a>å®‰è£… <code>fribidi</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/fribidi/fribidi/releases/download/v1.0.11/fribidi-1.0.11.tar.xz</span><br><span class="line">xz -d fribidi-1.0.11.tar.xz</span><br><span class="line">tar -xvf fribidi-1.0.11.tar</span><br><span class="line"><span class="built_in">cd</span> fribidi-1.0.11</span><br><span class="line">./configure --prefix=/usr/local/ --enable-shared</span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…-fontconfig"><a href="#å®‰è£…-fontconfig" class="headerlink" title="å®‰è£… fontconfig"></a>å®‰è£… <code>fontconfig</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install gperf </span><br><span class="line">wget <span class="string">&quot;https://www.freedesktop.org/software/fontconfig/release/fontconfig-2.13.94.tar.gz&quot;</span></span><br><span class="line">tar -zxvf fontconfig-2.13.94.tar.gz  </span><br><span class="line"><span class="built_in">cd</span> fontconfig-2.13.94    </span><br><span class="line">./configure --prefix=/usr/local/ --enable-shared --enable-libxml2</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…-libass"><a href="#å®‰è£…-libass" class="headerlink" title="å®‰è£… libass"></a>å®‰è£… <code>libass</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/libass/libass/releases/download/0.15.2/libass-0.15.2.tar.xz</span><br><span class="line">xz -d tar libass-0.15.2.tar.xz</span><br><span class="line">tar libass-0.15.2.tar</span><br><span class="line"><span class="built_in">cd</span> libass-0.15.2</span><br><span class="line">./configure --prefix=/usr/local/ --disable-static</span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<h1 id="å®‰è£…freetype-2"><a href="#å®‰è£…freetype-2" class="headerlink" title="å®‰è£…freetype-2"></a>å®‰è£…<code>freetype-2</code></h1><p>sudo apt install libbz2-dev  libpng-dev libharfbuzz-dev<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://download.savannah.gnu.org/releases/freetype/freetype-2.11.1.tar.xz</span><br><span class="line">xz -d freetype-2.11.1.tar.xz</span><br><span class="line">tar -xvf freetype-2.11.1.tar</span><br><span class="line"><span class="built_in">cd</span> freetype-2.11.1</span><br><span class="line"><span class="comment"># ./configure --prefix=/usr/local/freeType2.11 --with-bzip2 --with-png </span></span><br><span class="line">./configure --prefix=/usr/local/freeType2.11 --with-bzip2=<span class="built_in">yes</span> --with-png=<span class="built_in">yes</span>  --with-harfbuzz=<span class="built_in">yes</span></span><br><span class="line">make &amp;&amp; sudo make install</span><br><span class="line"><span class="comment"># ä½¿ç”¨åˆ°çš„åº“è·¯å¾„é€šè¿‡è½¯é“¾æ¥æ·»åŠ è‡³ç¯å¢ƒå˜é‡ä¸­</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/freeType2.11/lib/pkgconfig/freetype2.pc /usr/local/lib/pkgconfig/ </span><br><span class="line">sudo ldconfig -v <span class="comment"># ä½¿é…ç½®ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure></p>
<h1 id="PKG-CONFIGåŠ å…¥ç¯å¢ƒå˜é‡"><a href="#PKG-CONFIGåŠ å…¥ç¯å¢ƒå˜é‡" class="headerlink" title="PKG_CONFIGåŠ å…¥ç¯å¢ƒå˜é‡"></a><code>PKG_CONFIG</code>åŠ å…¥ç¯å¢ƒå˜é‡</h1><p>æ³¨æ„æœ¬æœºç”¨åˆ°ä¹¦<code>zshrc</code>,<code>bashrc</code>å‚ç…§å…¶æ ¼å¼<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:\$PKG_CONFIG_PATH&quot;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…sdl2"><a href="#å®‰è£…sdl2" class="headerlink" title="å®‰è£…sdl2"></a>å®‰è£…<code>sdl2</code></h1><p>ä»¥æ”¯æŒ<code>ffplay</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://www.libsdl.org/release/SDL2-2.0.20.tar.gz</span><br><span class="line">tar -zxvf SDL2-2.0.20.tar.gz</span><br><span class="line"><span class="built_in">cd</span> SDL2-2.0.20</span><br><span class="line">./configure --prefix=/usr/local/sdl2</span><br><span class="line">make &amp;&amp; sudo make install</span><br><span class="line">sudo vim /etc/ld.so.conf</span><br><span class="line"><span class="comment"># æ·»åŠ å¦‚ä¸‹å†…å®¹</span></span><br><span class="line">  /usr/local/sdl2/lib</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/sdl2/lib/pkgconfig/sdl2.pc /usr/local/lib/pkgconfig/ </span><br><span class="line">sudo ldconfig -v <span class="comment"># ä½¿é…ç½®ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure></p>
<p>è§£å†³<code>Could not initialize SDL - (Did you set the DISPLAY variable?)</code>é—®é¢˜<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install libx11-dev</span><br><span class="line">sudo apt install xorg-dev</span><br></pre></td></tr></table></figure><br>ç„¶åé‡æ–°ç¼–è¯‘å®‰è£…SDL.</p>
<h1 id="å®‰è£…x265"><a href="#å®‰è£…x265" class="headerlink" title="å®‰è£…x265"></a>å®‰è£…<code>x265</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hg <span class="built_in">clone</span> http://hg.videolan.org/x265</span><br><span class="line">bash make-Makefiles.bash</span><br><span class="line">sudo apt install cmake cmake-curses-gui</span><br><span class="line">./make-Makefiles.bash</span><br><span class="line"><span class="comment"># ä¿®æ”¹prefixè·¯å¾„</span></span><br><span class="line">g</span><br><span class="line"><span class="comment"># å¼€å§‹ç¼–è¯‘</span></span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://www.jianshu.com/p/91d214bd1e79">CentOSä¸‹ç¼–è¯‘å®‰è£…x265</a></p>
<h1 id="ç¼–è¯‘å®‰è£…ffmpeg5-0"><a href="#ç¼–è¯‘å®‰è£…ffmpeg5-0" class="headerlink" title="ç¼–è¯‘å®‰è£…ffmpeg5.0"></a>ç¼–è¯‘å®‰è£…<code>ffmpeg5.0</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget <span class="string">&quot;http://ffmpeg.org/releases/ffmpeg-5.0.tar.xz&quot;</span></span><br><span class="line">tar -zxvf ffmpeg-5.0.tar.xz</span><br><span class="line"><span class="built_in">cd</span> ffmpeg-5.0</span><br><span class="line">./configure --prefix=/usr/local/ffmpeg5.0/ --enable-shared --enable-ffplay --enable-gpl --enable-libx264 --enable-libx265 --extra-cflags=-I/usr/local/x264/include --extra-ldflags=-L/usr/local/x264/lib --enable-libass</span><br><span class="line"><span class="comment"># ä¸å»ºè®®ä½¿ç”¨ --extra-cflags --extra-ldflags  å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡ ä»¥åŠ pkg-configæ¥è‡ªåŠ¨åŠ è½½</span></span><br><span class="line"><span class="comment"># ç¼–è¯‘å¦‚ä¸‹ï¼š</span></span><br><span class="line">./configure --prefix=/usr/local/ffmpeg5.0/ --enable-shared --enable-ffplay --enable-nonfree --enable-gpl --enable-libx264 --enable-libx265 --incdir=/usr/include/x86_64-linux-gnu --libdir=/usr/lib/x86_64-linux-gnu --toolchain=hardened --disable-altivec --shlibdir=/usr/lib/x86_64-linux-gnu --enable-libass</span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹æ˜¯æºå®‰è£…<code>ffmpeg4.4</code>çš„ç¼–è¯‘å‚æ•°ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--disable-decoder=amrnb --disable-decoder=libopenjpeg --disable-gnutls --disable-liblensfun --disable-libopencv --disable-podpages --disable-sndio --disable-stripping --enable-avfilter --enable-avresample --enable-gcrypt --enable-gpl --enable-ladspa --enable-libaom --enable-libaribb24 --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libdavs2 --enable-libdc1394 --enable-libfdk-aac --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libiec61883 --enable-libjack --enable-libkvazaar --enable-libmp3lame --enable-libmysofa --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librist --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libtesseract --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libwebp --enable-libx265 --enable-libxavs2 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-nonfree --enable-openal --enable-opencl --enable-opengl --enable-openssl --enable-postproc --enable-pthreads --enable-shared --enable-version3 --enable-vulkan --incdir=/usr/include/x86_64-linux-gnu --libdir=/usr/lib/x86_64-linux-gnu --prefix=/usr --toolchain=hardened --enable-frei0r --enable-chromaprint --enable-libx264 --enable-vaapi --enable-libmfx --enable-libvmaf --enable-libsvtav1 --enable-libilbc --disable-altivec --shlibdir=/usr/lib/x86_64-linux-gnu</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  --prefix=PREFIX è®¾ç½®çš„æ˜¯ffmpegå®‰è£…ç›®å½•</span><br><span class="line">  --enable-shared è®¾ç½®å…è®¸ç¼–è¯‘å…±äº«åº“</span><br><span class="line">  --enable-nonfree --enable-gpl è®¾ç½®å¯¹Licenseçš„é™åˆ¶ï¼Œåˆ†åˆ«ä¸ºå…è®¸ä½¿ç”¨ä»˜è´¹ä»£ç å’Œgplä»£ç ã€‚</span><br><span class="line">  --disable-yasm ç¦ç”¨æ±‡ç¼–ç¨‹åº</span><br><span class="line">  --extra-ldflags è®¾ç½®åŠ¨æ€é“¾æ¥åº“ç›®å½•</span><br><span class="line">```ã€€ã€€ã€€</span><br><span class="line"></span><br><span class="line">ç¼–è¯‘å®Œæˆåï¼Œåœ¨ `/etc/profile`æ–‡ä»¶ä¸‹å¢åŠ å¦‚ä¸‹å­—æ®µï¼š</span><br><span class="line">```conf</span><br><span class="line">FFMPEG=/usr/local/ffmpeg5.0</span><br><span class="line">X264=/usr/local/x264</span><br><span class="line">X265=/usr/local/x265</span><br><span class="line">export FFMPEG X264 X265</span><br><span class="line">export PATH=$PATH:$FFMPEG/bin:$X264/bin:$X265/bin</span><br><span class="line">export LD_LIBRARY_PATH=$X264/lib:$FFMPEG/lib:$X265/lib:$LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure></p>
<h1 id="è®©åŠ¨æ€é“¾æ¥åº“ä¸ºç³»ç»Ÿæ‰€å…±äº«"><a href="#è®©åŠ¨æ€é“¾æ¥åº“ä¸ºç³»ç»Ÿæ‰€å…±äº«" class="headerlink" title="è®©åŠ¨æ€é“¾æ¥åº“ä¸ºç³»ç»Ÿæ‰€å…±äº«"></a>è®©åŠ¨æ€é“¾æ¥åº“ä¸ºç³»ç»Ÿæ‰€å…±äº«</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/ld.so.conf</span><br></pre></td></tr></table></figure>
<p>å¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include ld.so.conf.d/*.conf</span><br><span class="line">include /usr/local/lib</span><br><span class="line">/usr/local/ffmpeg5.0/lib</span><br><span class="line">/usr/local/x264/lib</span><br><span class="line">/usr/local/x265/lib</span><br><span class="line">/usr/local/sdl2/lib</span><br></pre></td></tr></table></figure><br>åŠ è½½ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ldconfig -v</span><br></pre></td></tr></table></figure></p>
<h1 id="å‹åˆ¶ä¸­æ–‡å­—å¹•ä¹±ç "><a href="#å‹åˆ¶ä¸­æ–‡å­—å¹•ä¹±ç " class="headerlink" title="å‹åˆ¶ä¸­æ–‡å­—å¹•ä¹±ç "></a>å‹åˆ¶ä¸­æ–‡å­—å¹•ä¹±ç </h1><p>â‘ æ·»åŠ <code>windows</code>ç³»ç»Ÿå­—ä½“<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ç”¨æˆ·ç›®å½•åˆ›å»ºfontsæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">mkdir</span> fonts</span><br><span class="line"><span class="comment"># æ‹·è´win10ä¸­çš„å­—ä½“åˆ°fontsæ–‡ä»¶å¤¹(åŒç³»ç»Ÿä¸­)ï¼Œå¹¶æ‹·è´åˆ°debianç³»ç»Ÿ/usr/share/fontsæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment"># æœ¬ä¾‹fontsè¿˜æœ‰å…¶ä»–å­—ä½“</span></span><br><span class="line"><span class="built_in">cp</span> /media/yk/Windows10/Windows/Fonts/simsun.ttc ~/fonts</span><br><span class="line">sudo <span class="built_in">cp</span> ~/fonts/*.ttc /usr/share/fonts</span><br><span class="line"><span class="comment"># ä¸Šé¢æ­¥éª¤ä¹Ÿå¯ä»¥ç›´æ¥</span></span><br><span class="line"><span class="built_in">cp</span> /media/yk/Windows10/Windows/Fonts/simsun.ttc /usr/share/fonts</span><br><span class="line"><span class="comment"># è¿›å…¥/usr/share/fontsæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> /usr/share/fonts</span><br><span class="line"><span class="comment"># æˆæƒæ‰€æœ‰ç”¨æˆ·å¯è¯»å¯å†™å¯æ‰§è¡Œ</span></span><br><span class="line">sudo <span class="built_in">chmod</span> 777 *.ttc</span><br><span class="line"><span class="comment"># å»ºç«‹å­—ä½“ç´¢å¼•ä¿¡æ¯ï¼Œæ›´æ–°å­—ä½“ç¼“å­˜       </span></span><br><span class="line">sudo mkfontscale              </span><br><span class="line">sudo mkfontdir  </span><br><span class="line">sudo fc-cache -fv</span><br><span class="line"><span class="comment"># æœ€åè¾“å‡º</span></span><br><span class="line">......</span><br><span class="line">fc-cache: succeeded</span><br></pre></td></tr></table></figure><br>å®‰è£…å®Œæˆåé‡å¯ï¼Œå®Œæˆé…ç½®.<br>æŸ¥è¯¢æ‰€å®‰è£…ä¸­æ–‡å­—ä½“å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fc-list :lang=zh</span><br></pre></td></tr></table></figure><br>æœ¬ä¾‹æ˜¯æŠŠå¤šä¸ªå­—ä½“æ–‡ä»¶å·²ç»æ‹·è´åœ¨<code>~/fonts</code>æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åˆ°<code>/usr/share/fonts</code>æœ€åä¸€èµ·æ›´æ–°å­—ä½“ç¼“å­˜ã€‚</p>
<p>â‘¡æ›´æ”¹æ–‡ä»¶ç¼–ç <br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">iconv -f gb18030 -t utf8 å­—å¹•.chs.srt -o å­—å¹•.chs.utf8.srt</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br>1ã€<a href="https://www.jianshu.com/p/19f68c87c0ae?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">CentOSä¸‹ç¼–è¯‘å®‰è£…FFmpeg+libass</a><br>2ã€<a href="http://www.juzi89.com/?p=216">FFmpeg&amp;libx264ç¼–è¯‘å®‰è£…é‡åˆ°çš„å„ç§å‘</a><br>3ã€<a href="https://www.cnblogs.com/leisure_chn/p/10035365.html">FFmpegå¼€å‘ç¯å¢ƒæ„å»º</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>è¿ç»´</category>
        <category>Ffmpeg</category>
        <category>è½¯ä»¶å®‰è£…</category>
      </categories>
      <tags>
        <tag>Ffmpeg</tag>
        <tag>å­—ä½“ç¼ºå¤±</tag>
        <tag>Iconv</tag>
      </tags>
  </entry>
  <entry>
    <title>ffmpegåŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/11/13/Ffmpeg%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://ffmpeg.org/download.html">ffmpegä¸‹è½½åœ°å€</a><br>æˆ–è€…ç›´æ¥ï¼š<a href="https://www.gyan.dev/ffmpeg/builds/">é€‰æ‹©å…¶ä¸­essentialç‰ˆæœ¬ä¸‹è½½</a>  </p>
<p>å…¶ä¸­<code>xxx.mkv(mp4)</code>æŒ‡æºæ–‡ä»¶ï¼Œ<strong>è§†é¢‘ä¸­åæ ‡ä½ç½®ä»¥å·¦ä¸Šä¸ºåæ ‡åŸç‚¹</strong></p>
<h1 id="1ã€æ ¼å¼è½¬æ¢"><a href="#1ã€æ ¼å¼è½¬æ¢" class="headerlink" title="1ã€æ ¼å¼è½¬æ¢"></a>1ã€æ ¼å¼è½¬æ¢</h1><h2 id="â‘ gif2MP4"><a href="#â‘ gif2MP4" class="headerlink" title="â‘ gif2MP4"></a>â‘ gif2MP4</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># gif2MP4</span></span><br><span class="line">ffmpeg -f gif -i XX.gif XX.mp4</span><br></pre></td></tr></table></figure>
<h2 id="â‘¡flv2mp4"><a href="#â‘¡flv2mp4" class="headerlink" title="â‘¡flv2mp4"></a>â‘¡flv2mp4</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ è½¯å­—å¹•</span></span><br><span class="line">ffmpeg -i input.flv -c:v libx264 output.mp4</span><br></pre></td></tr></table></figure>
<h2 id="â‘¢å›¾ç‰‡è½¬MP4"><a href="#â‘¢å›¾ç‰‡è½¬MP4" class="headerlink" title="â‘¢å›¾ç‰‡è½¬MP4"></a>â‘¢å›¾ç‰‡è½¬MP4</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -f image2 -i %d.jpeg output.mp4</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>%d ==&gt; å›¾ç‰‡åç§°æ•°å­—å ä½ç¬¦</code></p>
<h1 id="2ã€å‹åˆ¶å­—å¹•"><a href="#2ã€å‹åˆ¶å­—å¹•" class="headerlink" title="2ã€å‹åˆ¶å­—å¹•"></a>2ã€å‹åˆ¶å­—å¹•</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‹åˆ¶ç¡¬å­—å¹•</span></span><br><span class="line">ffmpeg -i xxx.mkv -vf ass=XXX.ass out.mkv</span><br><span class="line"><span class="comment"># åˆå¦‚</span></span><br><span class="line"><span class="comment"># æ·»åŠ è½¯å­—å¹•</span></span><br><span class="line">ffmpeg -i input.mkv -i å­½æ€.chseng.utf8.srt -c copy output.mkv</span><br><span class="line"><span class="comment"># æˆ–è€…è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line"> ffmpeg -i input.mkv -sub_charenc <span class="string">&#x27;UTF-8&#x27;</span> -f srt -i å­½æ€.chs.srt  -map 0:0 -map 0:1 -map 1:0 -c:v copy -c:a copy -c:s mov_text output.mkv</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>-i ==&gt; inputï¼ˆè¾“å…¥)</code><br><code>-vf ==&gt; video filter (è§†é¢‘æ»¤é•œ)</code><br><code>ass ==&gt; asså­—å¹•æ»¤é•œ,å­—ä½“é¢œè‰²é¡ºåºï¼ˆB-G-Rï¼‰ã€HTMLæ˜¯R-G-Bã€‘</code></p>
<h2 id="å…¶ä»–è¿˜æœ‰å‘½ä»¤"><a href="#å…¶ä»–è¿˜æœ‰å‘½ä»¤" class="headerlink" title="å…¶ä»–è¿˜æœ‰å‘½ä»¤"></a>å…¶ä»–è¿˜æœ‰å‘½ä»¤</h2><h3 id="æ·»åŠ å­—å¹•æ ¼å¼"><a href="#æ·»åŠ å­—å¹•æ ¼å¼" class="headerlink" title="æ·»åŠ å­—å¹•æ ¼å¼"></a>æ·»åŠ å­—å¹•æ ¼å¼</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i xxx.mkv -vf <span class="string">&quot;subtitles=XXX.srt:force_style=&#x27;Source Han Sans CN bold, FontSize=20, PrimaryColor=&amp;H0000ffff, OutlineColor=&amp;H00fffffff, Outline=0, MarginV=50&#x27;&quot;</span> -crf 19  out.mkv</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>(subtitles ==&gt; srtå­—å¹•ï¼Œæ€æºé»‘ä½“ï¼Œå­—å·20ï¼Œå­—ä½“é¢œè‰²é»„è‰²ã€çº¢+ç»¿ã€‘,   è¾¹æ¡†é¢œè‰²ç™½è‰²ï¼Œè¾¹æ¡†0åƒç´ ,å­—å¹•ä¸åº•è¾¹è·ç¦»50åƒç´ )</code><br><code>backcolor=&amp;H00888888  ==&gt; é˜´å½±ä¸ºç°è‰²</code><br><code>Shadow=1  ==&gt;  é˜´å½±æ·±åº¦ä¸º1</code><br><code>crf ==&gt; crfå–å€¼åœ¨0åˆ°51é—´ã€‚å–å€¼è¶Šå°è´¨é‡è¶Šå¥½å‹ç¼©ç‡è¶Šä½ï¼ˆConstant Rate Factorï¼‰</code><br><code>x264 ==&gt; 18-28, é»˜è®¤23; x265é»˜è®¤28ï¼›libvpxï¼š0-63ï¼Œ1080pè§†é¢‘å»ºè®®31</code>   </p>
<p>ä¾‹å¦‚ï¼š<code>é»‘åº•ç™½å­—</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i xxx.mkv -vf <span class="string">&quot;subtitles=XXX.srt:force_style=&#x27;Source Han Sans CN bold, FontSize=20, PrimaryColor=&amp;H00ffffff, OutlineColor=&amp;H00000000, BorderStyle=3&#x27;&quot;</span> -crf 19  out.mkv</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼š<br><code>BorderStyle ==&gt; è¾¹æ¡†æ ·å¼</code></p>
<h3 id="æŸ¥çœ‹è§†é¢‘ä¿¡æ¯"><a href="#æŸ¥çœ‹è§†é¢‘ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è§†é¢‘ä¿¡æ¯"></a>æŸ¥çœ‹è§†é¢‘ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffprobe out.mkv</span><br></pre></td></tr></table></figure>
<h1 id="3ã€æ”¹åˆ†è¾¨ç‡"><a href="#3ã€æ”¹åˆ†è¾¨ç‡" class="headerlink" title="3ã€æ”¹åˆ†è¾¨ç‡"></a>3ã€æ”¹åˆ†è¾¨ç‡</h1><p>ä¾‹å­ï¼šï¼ˆ1920Ã—1080ï¼ˆä¸Šä¸‹140çš„é»‘è¾¹ï¼‰ ==&gt; 1920Ã—800ï¼Œè§†é¢‘åˆ†è¾¨ç‡è°ƒæ•´ä¸º480Pï¼‰<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i xxx.mkv -vf crop=1920:800:0:140, scale=-2:480 -c:v libx265 -c:a libmp3lame -y out.mkv</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼š<br><code>-crop ==&gt; è£å‰ªæ»¤é•œï¼ˆè£å‰ªåå®½ï¼šè£å‰ªåé«˜ï¼šè£å‰ªèµ·å§‹åæ ‡ï¼šè£å‰ªç»“æŸåæ ‡ã€åŸç‚¹åœ¨å·¦ä¸Šè§’ã€‘ï¼‰</code><br><code>-scale ==&gt; ç¼©æ”¾æ»¤é•œ ï¼ˆå®½ï¼šé«˜ï¼‰</code><br><code>c:v ==&gt; æŒ‡å®šè§†é¢‘ç¼–ç å™¨ ï¼ˆcodec videoï¼‰</code><br><code>c:a ==&gt; æŒ‡å®šéŸ³é¢‘ç¼–ç å™¨ ï¼ˆcodec audioï¼‰</code>  </p>
<h1 id="4ã€è§†é¢‘æˆªå–"><a href="#4ã€è§†é¢‘æˆªå–" class="headerlink" title="4ã€è§†é¢‘æˆªå–"></a>4ã€è§†é¢‘æˆªå–</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -ss 0:3.100 -to 0:5.0 -i XXX.mp4 -c:v copy -c:a copy out.mp4</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>-ss ==&gt; èµ·å§‹æ—¶é—´ï¼ˆåˆ†:ç§’.æ¯«ç§’ï¼‰</code><br><code>-to ==&gt; ç»“æŸæ—¶é—´ï¼ˆåˆ†:ç§’.æ¯«ç§’ï¼‰</code><br><code>copy ==&gt; ä¿æŒä¸æºæ–‡ä»¶ä¸€è‡´</code><br>ç®€å†™<code>-c copy</code></p>
<p>æˆªå–å¤šå¸§å›¾ç‰‡ï¼ˆå¯¼å‡ºä»19ç§’åˆ°20ç§’100æ¯«ç§’æ‰€æœ‰å¸§å›¾ç‰‡ï¼‰ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -ss 19 -to 20.100 -i <span class="string">&#x27;input.mkv&#x27;</span> \%03d.png</span><br></pre></td></tr></table></figure></p>
<h1 id="5ã€éŸ³è½¨ç¼–è¾‘"><a href="#5ã€éŸ³è½¨ç¼–è¾‘" class="headerlink" title="5ã€éŸ³è½¨ç¼–è¾‘"></a>5ã€éŸ³è½¨ç¼–è¾‘</h1><p>ä¾‹å­ï¼šï¼ˆè§†é¢‘ï¼šh264ï¼›éŸ³è½¨1ï¼šå›½è¯­ dtsï¼›ç²¤è¯­ dtsï¼›è‹±è¯­ ac3 ==&gt; è§†é¢‘ï¼šhevcï¼›éŸ³è½¨1ï¼šå›½è¯­ mp3ï¼›ç²¤è¯­ opusï¼‰<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i XXX.mkv -map v -map a:0 -map a:1 -c:v libx265 -c:a:0 libmp3lame -c:a:1 libopus out.mkv</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼š<br><code>-map ==&gt; é€‰æ‹©éŸ³è§†é¢‘è½¨é“</code><br><code>-map v ==&gt; åŸè§†é¢‘è§†é¢‘è½¨é“è¾“å‡º</code><br><code>-map a:0(1) ==&gt; åŸè§†é¢‘ç¬¬1ï¼ˆ2ï¼‰æ¡è½¨é“è¾“å‡º</code><br><code>-c:a:0  -c:a:1 ==&gt; ä¸¤ç§éŸ³é¢‘ç¼–ç è¾“å‡º</code>  </p>
<h1 id="6ã€å‹ç¼©è§†é¢‘"><a href="#6ã€å‹ç¼©è§†é¢‘" class="headerlink" title="6ã€å‹ç¼©è§†é¢‘"></a>6ã€å‹ç¼©è§†é¢‘</h1><h2 id="ï¼ˆ1ï¼‰æ”¹å˜å¸§ç‡"><a href="#ï¼ˆ1ï¼‰æ”¹å˜å¸§ç‡" class="headerlink" title="ï¼ˆ1ï¼‰æ”¹å˜å¸§ç‡"></a>ï¼ˆ1ï¼‰æ”¹å˜å¸§ç‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i XXX.mp4  -r 20  Desktop/out.mp4</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>-r 20 ==&gt; è¡¨ç¤ºå¸§ç‡è®¾ç½®ä¸º 20fps</code>  </p>
<h2 id="2-æ”¹å˜åˆ†è¾¨ç‡"><a href="#2-æ”¹å˜åˆ†è¾¨ç‡" class="headerlink" title="(2)æ”¹å˜åˆ†è¾¨ç‡"></a>(2)æ”¹å˜åˆ†è¾¨ç‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i XXX.mov -s vga out.mp4</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br><code>-s vga ==&gt; æŒ‡å®šåˆ†è¾¨ç‡</code><br><code>vga ä»£è¡¨ 640*480ï¼Œä¹Ÿå¯ä»¥æ¢æˆå…¶ä»–çš„å€¼,å¦‚ï¼š1080*720</code>  </p>
<h2 id="3-æ”¹å˜ç ç‡"><a href="#3-æ”¹å˜ç ç‡" class="headerlink" title="(3)æ”¹å˜ç ç‡"></a>(3)æ”¹å˜ç ç‡</h2><p>æ¯”å¦‚ï¼šè§†é¢‘çš„åŸç ç‡æ˜¯ 2.1Mb/s ï¼Œå‹ç¼©ä¸º 1.5Mb/s<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i XXX.mkv -b:v 1.5M  out.mp4</span><br></pre></td></tr></table></figure><br>è¯´æ˜ï¼š<br><code>-b:v 1.5M ==&gt; æŒ‡å®šè§†é¢‘ç ç‡ 1.5Mb/s</code><br>æ­¤å¤–ï¼š<br><code>-b:a : æŒ‡å®šéŸ³é¢‘çš„ç ç‡</code>  </p>
<h1 id="7ã€å»é™¤æ°´å°å’Œæ·»åŠ -å›¾ç‰‡-æ°´å°"><a href="#7ã€å»é™¤æ°´å°å’Œæ·»åŠ -å›¾ç‰‡-æ°´å°" class="headerlink" title="7ã€å»é™¤æ°´å°å’Œæ·»åŠ (å›¾ç‰‡)æ°´å°"></a>7ã€å»é™¤æ°´å°å’Œæ·»åŠ (å›¾ç‰‡)æ°´å°</h1><h2 id="å»é™¤æ°´å°"><a href="#å»é™¤æ°´å°" class="headerlink" title="å»é™¤æ°´å°"></a>å»é™¤æ°´å°</h2><h3 id="æˆªå–å›¾ç‰‡æŸ¥çœ‹æ°´å°ä½ç½®"><a href="#æˆªå–å›¾ç‰‡æŸ¥çœ‹æ°´å°ä½ç½®" class="headerlink" title="æˆªå–å›¾ç‰‡æŸ¥çœ‹æ°´å°ä½ç½®"></a>æˆªå–å›¾ç‰‡æŸ¥çœ‹æ°´å°ä½ç½®</h3><p>åœ¨ç¬¬5ç§’æˆªå–ä¸€å¼ å›¾ç‰‡ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i 646684429.mp4 -y -f image2 -ss 5 -vframes 1 image5.jpg</span><br></pre></td></tr></table></figure><br><code>-y</code>:è¡¨ç¤ºæ— éœ€è¯¢é—®,ç›´æ¥è¦†ç›–è¾“å‡ºæ–‡ä»¶;<br><code>-f image2</code>ï¼šè¡¨ç¤ºè¾“å‡ºæ ¼å¼ä¸º<code>image2</code>;<br>å¦‚å›¾ï¼š<br><img src="/pic/2021/11/image5.jpg" alt="image5"><br>æ‰“å¼€ç”»å›¾è½¯ä»¶ï¼Œç¡®è®¤æ°´å°ä½ç½®ï¼Œæœ¬ä¾‹æœ‰2å¤„æ°´å°<br>åˆ†åˆ«ä½äºï¼š<br>å·¦ä¸Šä¸€å¤„ï¼š<br>ä¸Šè¾¹ï¼š5-245<br>ä¸‹è¾¹ï¼š5-60<br>å³ä¸‹ä¸€å¤„ï¼š<br>ä¸Šè¾¹ï¼š712-952<br>ä¸‹è¾¹ï¼š482-537</p>
<h3 id="å»æ°´å°"><a href="#å»æ°´å°" class="headerlink" title="å»æ°´å°"></a>å»æ°´å°</h3><p>åŸºæœ¬å‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i åŸè§†é¢‘å -vf <span class="string">&quot;delogo=xè½´åæ ‡=å·¦ä¸Š:yè½´åæ ‡=å·¦ä¸‹åæ ‡:å®½=å³-å·¦:é«˜=ä¸‹-ä¸Š&quot;</span> -c:a copy å»æ°´å°åè§†é¢‘å</span><br></pre></td></tr></table></figure><br>è¿™é‡Œç”¨ä¸‹é¢å‘½ä»¤å»æ°´å°<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i 646684429.mp4 -vf <span class="string">&quot;delogo=x=5:y=5:w=240:h=55, delogo=x=712:y=482:w=240:h=55&quot;</span> -c:a copy nologo.mp4</span><br></pre></td></tr></table></figure><br>æˆªå–ä¸€å¸§<strong>å»æ°´å°åçš„è§†é¢‘ç”»é¢</strong>éªŒè¯ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i nologo.mp4 -y -f image2 -ss 5 -vframes 1 nologoImage5.jpg</span><br></pre></td></tr></table></figure><br>å¦‚å›¾ï¼š<br><img src="/pic/2021/11/nologoImage5.jpg" alt="nologoImage5.jpg"></p>
<h2 id="ç»™è§†é¢‘æ·»åŠ å›¾ç‰‡æ°´å°"><a href="#ç»™è§†é¢‘æ·»åŠ å›¾ç‰‡æ°´å°" class="headerlink" title="ç»™è§†é¢‘æ·»åŠ å›¾ç‰‡æ°´å°"></a>ç»™è§†é¢‘æ·»åŠ å›¾ç‰‡æ°´å°</h2><p>è¦æ·»åŠ çš„<code>logo</code>å¦‚å›¾ï¼š<br><img src="/pic/2021/11/logo.jpg" alt="logo.jpg"><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i nologo.mp4 -acodec copy -b:v 992k -vf <span class="string">&quot;movie=logo.jpg [logo];[in][logo] overlay=10:15 [out]&quot;</span> addLogo.mp4</span><br></pre></td></tr></table></figure><br>è¯´æ˜</p>
<pre><code>-i nologo.mp4:è¦å¤„ç†çš„åŸè§†é¢‘æ–‡ä»¶
-acodec copyï¼šä¿æŒéŸ³é¢‘ä¸å˜
-b:v 992kï¼šè®¾ç½®è§†é¢‘æ¯”ç‰¹ç‡ï¼Œé»˜è®¤200kï¼Œæœ€å¥½è®¾ç½®ä¸åŸè§†é¢‘ä¸€è‡´ï¼Œ
-vf â€œâ€¦â€ï¼šæ°´å°å¤„ç†å‚æ•°ã€‚å…¶ä¸­ï¼š
movieè¿‡æ»¤å™¨ç”¨æ¥æŠŠä¸¤ä¸ªæµç»„åˆæˆä¸€ä¸ªæµ
logo.jpgæ˜¯æ°´å°å›¾ç‰‡;
overlay=10:15æ˜¯å›¾ç‰‡å·¦ä¸Šè§’è·ç¦»è§†é¢‘å·¦ä¸Šè§’çš„è·ç¦»ã€‚
addLogo.mp4ä¸ºè¾“å‡ºæ–‡ä»¶å
</code></pre><p>ç»“æœå¦‚å›¾ï¼š<br><img src="/pic/2021/11/addlogoImage5.jpg" alt="addlogoImage5.jpg"><br>æˆ–è€…<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -i nologo.mp4 -vf  <span class="string">&quot;movie=logo.jpg,scale= 10: 15[watermask]; [in] [watermask] overlay=10:15 [out]&quot;</span> addLogo-1.mp4</span><br></pre></td></tr></table></figure><br>è¯´æ˜</p>
<pre><code>scale = 10: 15:æ°´å°logoå¤§å°ï¼Œé•¿*å®½
-acodec copyï¼šä¿æŒéŸ³é¢‘ä¸å˜
</code></pre><p>ç»“æœå¦‚å›¾ï¼š<br><img src="/pic/2021/11/addlogoImage5-1.jpg" alt="addlogoImage5-1.jpg"><br>æƒ³è¦é€æ˜æ•ˆæœæ—¶ï¼Œé¡»å…ˆåˆ¶åšä¸€å¼ é€æ˜çš„PNGå›¾ç‰‡ã€‚<br>å…¶ä»–å¯å‚è€ƒï¼š<br>(ä½¿ç”¨ffmpegå‘½ä»¤ç»™è§†é¢‘æ·»åŠ æ°´å°)[<a href="https://www.jianshu.com/p/e4ad7e1e7ed5">https://www.jianshu.com/p/e4ad7e1e7ed5</a>]</p>
<h1 id="8ã€è°ƒæ•´è§†é¢‘å€é€Ÿ"><a href="#8ã€è°ƒæ•´è§†é¢‘å€é€Ÿ" class="headerlink" title="8ã€è°ƒæ•´è§†é¢‘å€é€Ÿ"></a>8ã€è°ƒæ•´è§†é¢‘å€é€Ÿ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠ é€Ÿ4å€</span></span><br><span class="line">ffmpeg -i input.mp4 -an -r 25 -filter:v <span class="string">&quot;setpts=0.25*PTS&quot;</span> jiasu2.mp4</span><br><span class="line"><span class="comment"># å‡é€Ÿ2å€</span></span><br><span class="line">ffmpeg -i input.mp4 -an -r 25 -filter:v <span class="string">&quot;setpts=2*PTS&quot;</span> jiasu2.mp4</span><br></pre></td></tr></table></figure>
<p><img src="/pic/2022/11/scratch_18.gif" alt="scratch_18"></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Ffmpeg</category>
      </categories>
      <tags>
        <tag>Ffmpeg</tag>
        <tag>ä¸­æ–‡ä¹±ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ImageMagickä¸€äº›çš„ç®€å•ä½¿ç”¨</title>
    <url>/2022/06/27/ImageMagick%E4%B8%80%E4%BA%9B%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="åœ¨Windowsç³»ç»Ÿä¸‹çš„ä¸‹è½½å®‰è£…"><a href="#åœ¨Windowsç³»ç»Ÿä¸‹çš„ä¸‹è½½å®‰è£…" class="headerlink" title="åœ¨Windowsç³»ç»Ÿä¸‹çš„ä¸‹è½½å®‰è£…"></a>åœ¨Windowsç³»ç»Ÿä¸‹çš„ä¸‹è½½å®‰è£…</h1><p>å¯åœ¨å®˜ç½‘é€‰æ‹©ä¸‹è½½å¹¶å®‰è£…<br><a href="https://imagemagick.org/script/download.php#windows">ä¸‹è½½åœ°å€</a></p>
<h1 id="ä¸€äº›ç®€å•åº”ç”¨"><a href="#ä¸€äº›ç®€å•åº”ç”¨" class="headerlink" title="ä¸€äº›ç®€å•åº”ç”¨"></a>ä¸€äº›ç®€å•åº”ç”¨</h1><p><em>ä»¥ä¸‹å‡åœ¨Windowsç»ˆç«¯ä¸‹æ“ä½œï¼š</em></p>
<h2 id="å›¾ç‰‡çº¢è‰²éƒ¨åˆ†çš„éƒ½ä¼šå˜ç™½è‰²-ä¸€èˆ¬ç”¨äºæ¢åº•"><a href="#å›¾ç‰‡çº¢è‰²éƒ¨åˆ†çš„éƒ½ä¼šå˜ç™½è‰²-ä¸€èˆ¬ç”¨äºæ¢åº•" class="headerlink" title="å›¾ç‰‡çº¢è‰²éƒ¨åˆ†çš„éƒ½ä¼šå˜ç™½è‰²(ä¸€èˆ¬ç”¨äºæ¢åº•)"></a>å›¾ç‰‡çº¢è‰²éƒ¨åˆ†çš„éƒ½ä¼šå˜ç™½è‰²(ä¸€èˆ¬ç”¨äºæ¢åº•)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">magick convert 1.jpg -fuzz 30% -fill blue -opaque white -flatten 1-1.jpg</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">magick convert 1.JPG -fuzz 30% -fill none -draw <span class="string">&quot;matte 0,0 floodfill&quot;</span> -background white -flatten 1.jpg</span><br></pre></td></tr></table></figure>
<h2 id="å…¶ä»–å‡ ç§åº•è‰²å˜æ¢"><a href="#å…¶ä»–å‡ ç§åº•è‰²å˜æ¢" class="headerlink" title="å…¶ä»–å‡ ç§åº•è‰²å˜æ¢"></a>å…¶ä»–å‡ ç§åº•è‰²å˜æ¢</h2><h3 id="ç™½è‰²-ã€‹è“è‰²å’Œç™½è‰²-ã€‹çº¢è‰²"><a href="#ç™½è‰²-ã€‹è“è‰²å’Œç™½è‰²-ã€‹çº¢è‰²" class="headerlink" title="ç™½è‰²=ã€‹è“è‰²å’Œç™½è‰²=ã€‹çº¢è‰²"></a>ç™½è‰²=ã€‹è“è‰²å’Œç™½è‰²=ã€‹çº¢è‰²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç™½è‰²==ã€‹è“è‰²</span></span><br><span class="line"> magick convert 1.jpg -fuzz 0.8% -fill blue -opaque white -flatten white2blue.jpg</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\6\1.jpg" alt="ç™½è‰²"><br><img src="\pic\2022\6\1-white2blue.jpg" alt="è“è‰²"><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç™½è‰²==ã€‹çº¢è‰²</span></span><br><span class="line"> magick convert 1.jpg -fuzz 0.5% -fill red -opaque white -flatten 1-white2red.jpg</span><br></pre></td></tr></table></figure><br><img src="\pic\2022\6\1-white2red.jpg" alt="1-white2red"></p>
<h3 id="çº¢è‰²-ã€‹è“è‰²å’Œçº¢è‰²-ã€‹ç™½è‰²"><a href="#çº¢è‰²-ã€‹è“è‰²å’Œçº¢è‰²-ã€‹ç™½è‰²" class="headerlink" title="çº¢è‰²=ã€‹è“è‰²å’Œçº¢è‰²=ã€‹ç™½è‰²"></a>çº¢è‰²=ã€‹è“è‰²å’Œçº¢è‰²=ã€‹ç™½è‰²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çº¢è‰²==ã€‹è“è‰²</span></span><br><span class="line"> magick 1-white2red.jpg -fuzz 5% -fill blue -opaque red -flatten 1-red2blue.jpg</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\6\1-red2blue.jpg" alt="red2blue.jpg"><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çº¢è‰²==ã€‹ç™½è‰²</span></span><br><span class="line"> magick convert 1-white2red -fuzz 5% -fill white -opaque red -flatten 1-red2white.jpg</span><br></pre></td></tr></table></figure><br><img src="\pic\2022\6\1-red2white.jpg" alt="red2white.jpg"></p>
<h3 id="è“è‰²-ã€‹çº¢è‰²å’Œè“è‰²-ã€‹ç™½è‰²"><a href="#è“è‰²-ã€‹çº¢è‰²å’Œè“è‰²-ã€‹ç™½è‰²" class="headerlink" title="è“è‰²=ã€‹çº¢è‰²å’Œè“è‰²=ã€‹ç™½è‰²"></a>è“è‰²=ã€‹çº¢è‰²å’Œè“è‰²=ã€‹ç™½è‰²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è“è‰²==ã€‹çº¢è‰²</span></span><br><span class="line"> magick convert 2.jpg -fuzz 5% -fill red -opaque <span class="string">&#x27;rgb(83,97,132)&#x27;</span> -flatten blue2red.jpg</span><br></pre></td></tr></table></figure>
<p><img src="\pic\2022\6\2.jpg" alt="2.jpg"><br><img src="\pic\2022\6\blue2red.jpg" alt="blue2red"><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è“è‰²==ã€‹ç™½è‰²</span></span><br><span class="line"> magick convert 2.jpg -fuzz 5% -fill white -opaque <span class="string">&#x27;rgb(83,97,132)&#x27;</span> -flatten blue2white.jpg</span><br></pre></td></tr></table></figure><br><img src="\pic\2022\6\blue2white.jpg" alt="blue2white"></p>
<h2 id="å°†å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°"><a href="#å°†å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°" class="headerlink" title="å°†å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°"></a>å°†å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">magick convert 1.png -strip -define jpeg:extent=200k a1.jpg</span><br></pre></td></tr></table></figure>
<h2 id="ä¸æ”¹å˜åˆ†è¾¨ç‡æƒ…å†µä¸‹ï¼Œè°ƒæ•´å›¾ç‰‡å¤§å°"><a href="#ä¸æ”¹å˜åˆ†è¾¨ç‡æƒ…å†µä¸‹ï¼Œè°ƒæ•´å›¾ç‰‡å¤§å°" class="headerlink" title="ä¸æ”¹å˜åˆ†è¾¨ç‡æƒ…å†µä¸‹ï¼Œè°ƒæ•´å›¾ç‰‡å¤§å°"></a>ä¸æ”¹å˜åˆ†è¾¨ç‡æƒ…å†µä¸‹ï¼Œè°ƒæ•´å›¾ç‰‡å¤§å°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">magick convert 1.jpg -strip -define jpeg:extent=20k 1-a.jpg</span><br><span class="line">magick convert -resize 178x220 1.jpg 1-1.jpg</span><br><span class="line"><span class="comment"># du -sh 1-1.jpg</span></span><br><span class="line"><span class="comment"># 44K 1-1.jpg</span></span><br></pre></td></tr></table></figure>
<h2 id="æ‰£å–å…¬ç« -ç™½åº•å˜é€æ˜"><a href="#æ‰£å–å…¬ç« -ç™½åº•å˜é€æ˜" class="headerlink" title="æ‰£å–å…¬ç« (ç™½åº•å˜é€æ˜)"></a>æ‰£å–å…¬ç« (ç™½åº•å˜é€æ˜)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># magick convert 1.webp 1-w.png</span></span><br><span class="line"><span class="comment"># magick convert 1-w.png -fuzz 20% -transparent white 1-w-1.png</span></span><br><span class="line">magick convert 2.png -fuzz 20% -transparent white 2-1.png</span><br></pre></td></tr></table></figure>
<p>æœ‰ç™½åº•çš„åŸå›¾ç‰‡<br><img src="\pic\2022\6\æ‰£ç« \2.png" alt="2.png"><br>æ‰£å–å›¾ç« åçš„æ•ˆæœï¼š<br><em>è°ƒåˆ°æš—é»‘æ¨¡å¼æ‰çœ‹å¾—å‡º</em><br><img src="\pic\2022\6\æ‰£ç« \2-1.png" alt="2.png"></p>
<p><em>ä»¥ä¸Šå›¾ç‰‡æ¥æºäºç½‘ç»œ</em></p>
<p>åç»­ç¨‹åºä½¿ç”¨ä¼šç»§ç»­è¡¥å……å®Œå–„ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>ImageMagick</category>
      </categories>
      <tags>
        <tag>ImageMagick</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxæ£€æµ‹ç£ç›˜åé“</title>
    <url>/2021/11/26/Linux%E6%A3%80%E6%B5%8B%E7%A3%81%E7%9B%98%E5%9D%8F%E9%81%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€ä½¿ç”¨badblockså‘½ä»¤"><a href="#ä¸€ã€ä½¿ç”¨badblockså‘½ä»¤" class="headerlink" title="ä¸€ã€ä½¿ç”¨badblockså‘½ä»¤"></a>ä¸€ã€ä½¿ç”¨<code>badblocks</code>å‘½ä»¤</h1><p>è¯­æ³• </p>
<pre><code>badblocks [-svw][-b &lt;åŒºå—å¤§å°&gt;][-o &lt;è¾“å‡ºæ–‡ä»¶&gt;][ç£ç›˜è£…ç½®][ç£ç›˜åŒºå—æ•°][å¯å§‹åŒºå—]  
</code></pre><p>å‚æ•°è¯´æ˜ï¼š</p>
<pre><code>-b&lt;åŒºå—å¤§å°&gt; æŒ‡å®šç£ç›˜çš„åŒºå—å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚  
-o&lt;è¾“å‡ºæ–‡ä»¶&gt; å°†æ£€æŸ¥çš„ç»“æœå†™å…¥æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶ã€‚  
-s åœ¨æ£€æŸ¥æ—¶æ˜¾ç¤ºè¿›åº¦ã€‚  
-v æ‰§è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯ã€‚  
-w åœ¨æ£€æŸ¥æ—¶ï¼Œæ‰§è¡Œå†™å…¥æµ‹è¯•ã€‚  
[ç£ç›˜è£…ç½®] æŒ‡å®šè¦æ£€æŸ¥çš„ç£ç›˜è£…ç½®ã€‚  
[ç£ç›˜åŒºå—æ•°] æŒ‡å®šç£ç›˜è£…ç½®çš„åŒºå—æ€»æ•°ã€‚  
[å¯å§‹åŒºå—] æŒ‡å®šè¦ä»å“ªä¸ªåŒºå—å¼€å§‹æ£€æŸ¥ã€‚  
</code></pre><p>å‚è€ƒï¼š<a href="https://www.runoob.com/linux/linux-comm-badblocks.html">Linux badblockså‘½ä»¤</a>  </p>
<h2 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h2><h3 id="1ã€åˆ—å‡ºç£ç›˜ä¿¡æ¯"><a href="#1ã€åˆ—å‡ºç£ç›˜ä¿¡æ¯" class="headerlink" title="1ã€åˆ—å‡ºç£ç›˜ä¿¡æ¯"></a>1ã€åˆ—å‡ºç£ç›˜ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo fdisk -l</span><br><span class="line">Disk /dev/sda: 931.51 GiB, 1000204886016 bytes, 1953525168 sectors</span><br><span class="line">Disk model: nal USB 3.0     </span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 4096 bytes</span><br><span class="line">I/O size (minimum/optimal): 4096 bytes / 4096 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: dos</span><br><span class="line">Disk identifier: 0x627a0fc4</span><br><span class="line">Device     Boot      Start        End    Sectors   Size Id Type</span><br><span class="line">/dev/sda1  *          2048   41840639   41838592    20G 83 Linux</span><br><span class="line">/dev/sda2         41842686 1953523711 1911681026 911.6G  f W95 Ext<span class="string">&#x27;d (LBA)</span></span><br><span class="line"><span class="string">/dev/sda5        222707712  419434495  196726784  93.8G  7 HPFS/NTFS/exFAT</span></span><br><span class="line"><span class="string">/dev/sda6        419436544  838868991  419432448   200G  7 HPFS/NTFS/exFAT</span></span><br><span class="line"><span class="string">/dev/sda7        838871040 1187000319  348129280   166G  7 HPFS/NTFS/exFAT</span></span><br><span class="line"><span class="string">/dev/sda8       1187002368 1396715519  209713152   100G  7 HPFS/NTFS/exFAT</span></span><br><span class="line"><span class="string">/dev/sda9       1396717568 1953523711  556806144 265.5G  7 HPFS/NTFS/exFAT</span></span><br><span class="line"><span class="string">/dev/sda10        41842688   56438783   14596096     7G 83 Linux</span></span><br><span class="line"><span class="string">/dev/sda11        56440832   58439679    1998848   976M 82 Linux swap / Solaris                                                                               /dev/sda12        58441728   61046783    2605056   1.2G 83 Linux</span></span><br><span class="line"><span class="string">/dev/sda13        61048832  222693375  161644544  77.1G 83 Linux</span></span><br></pre></td></tr></table></figure>
<h3 id="2ã€å°†æ£€æµ‹åé“ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ï¼š"><a href="#2ã€å°†æ£€æµ‹åé“ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ï¼š" class="headerlink" title="2ã€å°†æ£€æµ‹åé“ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ï¼š"></a>2ã€å°†æ£€æµ‹åé“ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo badblocks -v /dev/sda8 &gt; /tmp/badsectors.txt <span class="comment"># sudo badblocks -s -v /dev/sda8 -o badsectors.txt </span></span><br><span class="line">Checking blocks 0 to 104856575</span><br><span class="line">Checking <span class="keyword">for</span> ba  blocks (read-only <span class="built_in">test</span>): <span class="keyword">done</span>                                Pass completed, 0 bad blocks found. (0/0/0 errors)</span><br></pre></td></tr></table></figure>
<h3 id="3ã€ä¿®å¤ï¼ˆå¾…éªŒè¯ï¼‰"><a href="#3ã€ä¿®å¤ï¼ˆå¾…éªŒè¯ï¼‰" class="headerlink" title="3ã€ä¿®å¤ï¼ˆå¾…éªŒè¯ï¼‰"></a>3ã€ä¿®å¤ï¼ˆå¾…éªŒè¯ï¼‰</h3><p>(1)å…ˆç”¨ddå°½é‡å¤‡ä»½åå—<br><code>dd if=/dev/sdb bs=4096 skip=æ‰«æå‡ºçš„ç£ç›˜åŒºå—åé“ of=/tmp/15435904.dat count=1</code><br>(2)å¯¹è¿™äº›åå—è¿›è¡Œé‡å†™(æ³¨æ„! -wå†™æµ‹è¯•ä¼šè¦†ç›–æ•°æ®)<br><code>badblocks -w -f /dev/sdb åé“ç»“æŸç¼–å· åé“èµ·å§‹ç¼–å·</code><br>(3)å¦‚æœå‰é¢çš„æ“ä½œæœ‰æˆåŠŸçš„å¤‡ä»½<code>/tmp/15435904.dat</code>, å°±æŠŠå®ƒå†™å›:<br><code>dd if=/tmp/15435904.dat of=/dev/sdb seek=15435904 bs=4096 count=1</code>  </p>
<p>å‚è€ƒï¼š<a href="https://blog.51cto.com/1153604556/1643695">linuxä¸‹åˆ©ç”¨badblocksç¨‹åºåœ¨çº¿ä¿®å¤åé“</a>  </p>
<p>ä¹Ÿå¯ä»¥æç¤ºæ“ä½œç³»ç»Ÿä¸è¦ä½¿ç”¨æŸååŒºå—å­˜å‚¨<br><code># e2fsck -l /tmp/badsectors.txt  /dev/sdb</code></p>
<p><strong>å¤‡æ³¨: æ‰§è¡Œe2fsckå‘½ä»¤å‰ï¼Œéœ€è¦å…ˆæŒ‚è½½è®¾å¤‡</strong>  </p>
<h1 id="äºŒã€ä½¿ç”¨smartmontoolså·¥å…·æ‰«æï¼š"><a href="#äºŒã€ä½¿ç”¨smartmontoolså·¥å…·æ‰«æï¼š" class="headerlink" title="äºŒã€ä½¿ç”¨smartmontoolså·¥å…·æ‰«æï¼š"></a>äºŒã€ä½¿ç”¨<code>smartmontools</code>å·¥å…·æ‰«æï¼š</h1><h2 id="1ã€å®‰è£…"><a href="#1ã€å®‰è£…" class="headerlink" title="1ã€å®‰è£…"></a>1ã€å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo apt update</span><br><span class="line">å‘½ä¸­:1 http://packages.microsoft.com/repos/code stable InRelease</span><br><span class="line">...</span><br><span class="line">å‘½ä¸­:12 https://mirror.serverion.com/mariadb/repo/10.6/debian bullseye InRelease</span><br><span class="line">å·²ä¸‹è½½ 39.4 kBï¼Œè€—æ—¶ 7ç§’ (5,607 B/s)                                           </span><br><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘... å®Œæˆ</span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ                 </span><br><span class="line">æ‰€æœ‰è½¯ä»¶åŒ…å‡ä¸ºæœ€æ–°ã€‚</span><br><span class="line">user@user-pc:~$ sudo apt install smartmontools</span><br><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘... å®Œæˆ</span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ                 </span><br><span class="line">å»ºè®®å®‰è£…ï¼š</span><br><span class="line">  gsmartcontrol smart-notifier mailx | mailutils</span><br><span class="line">ä¸‹åˆ—ã€æ–°ã€‘è½¯ä»¶åŒ…å°†è¢«å®‰è£…ï¼š</span><br><span class="line">  smartmontools</span><br><span class="line">å‡çº§äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæ–°å®‰è£…äº† 1 ä¸ªè½¯ä»¶åŒ…ï¼Œè¦å¸è½½ 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰ 0 ä¸ªè½¯ä»¶åŒ…æœªè¢«å‡çº§ã€‚</span><br><span class="line">éœ€è¦ä¸‹è½½ 565 kB çš„å½’æ¡£ã€‚</span><br><span class="line">è§£å‹ç¼©åä¼šæ¶ˆè€— 2,168 kB çš„é¢å¤–ç©ºé—´ã€‚</span><br><span class="line">è·å–:1 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye/main amd64 smartmontools amd64 7.2-1 [565 kB]</span><br><span class="line">å·²ä¸‹è½½ 565 kBï¼Œè€—æ—¶ 0ç§’ (1,212 kB/s)  </span><br><span class="line">æ­£åœ¨é€‰ä¸­æœªé€‰æ‹©çš„è½¯ä»¶åŒ… smartmontoolsã€‚</span><br><span class="line">(æ­£åœ¨è¯»å–æ•°æ®åº“ ... ç³»ç»Ÿå½“å‰å…±å®‰è£…æœ‰ 172754 ä¸ªæ–‡ä»¶å’Œç›®å½•ã€‚)</span><br><span class="line">å‡†å¤‡è§£å‹ .../smartmontools_7.2-1_amd64.deb  ...</span><br><span class="line">æ­£åœ¨è§£å‹ smartmontools (7.2-1) ...</span><br><span class="line">æ­£åœ¨è®¾ç½® smartmontools (7.2-1) ...</span><br><span class="line">Created symlink /etc/systemd/system/smartd.service â†’ /lib/systemd/system/smartmo</span><br><span class="line">ntools.service.</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/smartmontools.servic</span><br><span class="line">e â†’ /lib/systemd/system/smartmontools.service.</span><br><span class="line">æ­£åœ¨å¤„ç†ç”¨äº man-db (2.9.4-2) çš„è§¦å‘å™¨ ...</span><br></pre></td></tr></table></figure>
<h2 id="2ã€ä½¿ç”¨æ–¹æ³•"><a href="#2ã€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2ã€ä½¿ç”¨æ–¹æ³•"></a>2ã€ä½¿ç”¨æ–¹æ³•</h2><p>æ£€æµ‹è·¯å¾„æ ¹æ®<code>$ sudo fdisk -l</code>åˆ—å‡ºçš„å¯¹åº”ã€‚<br>ï¼ˆ1ï¼‰æ£€æµ‹ç£ç›˜æŸéƒ¨åˆ†<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo smartctl -H /dev/sda8 -x</span><br><span class="line">smartctl 7.2 2020-12-30 r5155 [x86_64-linux-5.10.0-9-amd64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=== START OF INFORMATION SECTION ===</span><br><span class="line">Vendor:               TO Exter</span><br><span class="line">Product:              nal USB 3.0</span><br><span class="line">Revision:             0104</span><br><span class="line">Compliance:           SPC-4</span><br><span class="line">User Capacity:        1,000,204,886,016 bytes [1.00 TB]</span><br><span class="line">Logical block size:   512 bytes</span><br><span class="line">Physical block size:  4096 bytes</span><br><span class="line">LU is fully provisioned</span><br><span class="line">Logical Unit <span class="built_in">id</span>:      0x3020150331000810</span><br><span class="line">Serial number:        2015033100081</span><br><span class="line">Device <span class="built_in">type</span>:          disk</span><br><span class="line">Local Time is:        Fri Nov 26 09:43:16 2021 CST</span><br><span class="line">SMART support is:     Available - device has SMART capability.</span><br><span class="line">SMART support is:     Enabled</span><br><span class="line">Temperature Warning:  Disabled or Not Supported</span><br><span class="line">Read Cache is:        Enabled</span><br><span class="line">Writeback Cache is:   Enabled</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART Health Status: OK</span><br><span class="line">Current Drive Temperature:     0 C</span><br><span class="line">Drive Trip Temperature:        0 C</span><br><span class="line"></span><br><span class="line">Error Counter logging not supported</span><br><span class="line"></span><br><span class="line">No Self-tests have been logged</span><br><span class="line"></span><br><span class="line">Device does not support Background scan results logging</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>ï¼ˆ2ï¼‰æ£€æµ‹æŒ‚è½½çš„æŸä¸ªç£ç›˜<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo smartctl -H /dev/sda -x</span><br><span class="line">smartctl 7.2 2020-12-30 r5155 [x86_64-linux-5.10.0-9-amd64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=== START OF INFORMATION SECTION ===</span><br><span class="line">Model Family:     Western Digital Blue</span><br><span class="line">Device Model:     WDC WD10EZEX-08M2NA0</span><br><span class="line">Serial Number:    WD-WCC3F5NUNC7S</span><br><span class="line">LU WWN Device Id: 5 0014ee 20bf6d4ff</span><br><span class="line">Firmware Version: 01.01A01</span><br><span class="line">User Capacity:    1,000,204,886,016 bytes [1.00 TB]</span><br><span class="line">Sector Sizes:     512 bytes logical, 4096 bytes physical</span><br><span class="line">Rotation Rate:    7200 rpm</span><br><span class="line">Device is:        In smartctl database [<span class="keyword">for</span> details use: -P show]</span><br><span class="line">ATA Version is:   ACS-2, ACS-3 T13/2161-D revision 3b</span><br><span class="line">SATA Version is:  SATA 3.1, 6.0 Gb/s (current: 6.0 Gb/s)</span><br><span class="line">Local Time is:    Fri Nov 26 09:44:39 2021 CST</span><br><span class="line">SMART support is: Available - device has SMART capability.</span><br><span class="line">SMART support is: Enabled</span><br><span class="line">AAM feature is:   Unavailable</span><br><span class="line">APM feature is:   Unavailable</span><br><span class="line">Rd look-ahead is: Enabled</span><br><span class="line">Write cache is:   Enabled</span><br><span class="line">DSN feature is:   Unavailable</span><br><span class="line">ATA Security is:  Disabled, NOT FROZEN [SEC1]</span><br><span class="line">Wt Cache Reorder: Unknown</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART Status not supported: Incomplete response, ATA output registers missing</span><br><span class="line">SMART overall-health self-assessment <span class="built_in">test</span> result: PASSED</span><br><span class="line">Warning: This result is based on an Attribute check.</span><br><span class="line">user@user-pc:~$ sudo smartctl -H /dev/sda -a</span><br><span class="line">smartctl 7.2 2020-12-30 r5155 [x86_64-linux-5.10.0-9-amd64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=== START OF INFORMATION SECTION ===</span><br><span class="line">Model Family:     Western Digital Blue</span><br><span class="line">Device Model:     WDC WD10EZEX-08M2NA0</span><br><span class="line">Serial Number:    WD-WCC3F5NUNC7S</span><br><span class="line">LU WWN Device Id: 5 0014ee 20bf6d4ff</span><br><span class="line">Firmware Version: 01.01A01</span><br><span class="line">User Capacity:    1,000,204,886,016 bytes [1.00 TB]</span><br><span class="line">Sector Sizes:     512 bytes logical, 4096 bytes physical</span><br><span class="line">Rotation Rate:    7200 rpm</span><br><span class="line">Device is:        In smartctl database [<span class="keyword">for</span> details use: -P show]</span><br><span class="line">ATA Version is:   ACS-2, ACS-3 T13/2161-D revision 3b</span><br><span class="line">SATA Version is:  SATA 3.1, 6.0 Gb/s (current: 6.0 Gb/s)</span><br><span class="line">Local Time is:    Fri Nov 26 12:25:59 2021 CST</span><br><span class="line">SMART support is: Available - device has SMART capability.</span><br><span class="line">SMART support is: Enabled</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART Status not supported: Incomplete response, ATA output registers missing</span><br><span class="line">SMART overall-health self-assessment <span class="built_in">test</span> result: PASSED</span><br><span class="line">Warning: This result is based on an Attribute check.</span><br><span class="line"></span><br><span class="line">General SMART Values:</span><br><span class="line">Offline data collection status:  (0x82)	Offline data collection activity</span><br><span class="line">					was completed without error.</span><br><span class="line">					Auto Offline Data Collection: Enabled.</span><br><span class="line">Self-<span class="built_in">test</span> execution status:      (   0)	The previous self-test routine completed</span><br><span class="line">					without error or no self-test has ever </span><br><span class="line">					been run.</span><br><span class="line">Total time to complete Offline </span><br><span class="line">data collection: 		(11580) seconds.</span><br><span class="line">Offline data collection</span><br><span class="line">capabilities: 			 (0x7b) SMART execute Offline immediate.</span><br><span class="line">					Auto Offline data collection on/off support.</span><br><span class="line">					Suspend Offline collection upon new</span><br><span class="line">					<span class="built_in">command</span>.</span><br><span class="line">					Offline surface scan supported.</span><br><span class="line">					Self-<span class="built_in">test</span> supported.</span><br><span class="line">					Conveyance Self-<span class="built_in">test</span> supported.</span><br><span class="line">					Selective Self-<span class="built_in">test</span> supported.</span><br><span class="line">SMART capabilities:            (0x0003)	Saves SMART data before entering</span><br><span class="line">					power-saving mode.</span><br><span class="line">					Supports SMART auto save timer.</span><br><span class="line">Error logging capability:        (0x01)	Error logging supported.</span><br><span class="line">					General Purpose Logging supported.</span><br><span class="line">Short self-test routine </span><br><span class="line">recommended polling time: 	 (   2) minutes.</span><br><span class="line">Extended self-test routine</span><br><span class="line">recommended polling time: 	 ( 120) minutes.</span><br><span class="line">Conveyance self-test routine</span><br><span class="line">recommended polling time: 	 (   5) minutes.</span><br><span class="line">SCT capabilities: 	       (0x3035)	SCT Status supported.</span><br><span class="line">					SCT Feature Control supported.</span><br><span class="line">					SCT Data Table supported.</span><br><span class="line"></span><br><span class="line">SMART Attributes Data Structure revision number: 16</span><br><span class="line">Vendor Specific SMART Attributes with Thresholds:</span><br><span class="line">ID<span class="comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span></span><br><span class="line">  1 Raw_Read_Error_Rate     0x002f   200   200   051    Pre-fail  Always       -       0</span><br><span class="line">  3 Spin_Up_Time            0x0027   173   165   021    Pre-fail  Always       -       2308</span><br><span class="line">  4 Start_Stop_Count        0x0032   094   094   000    Old_age   Always       -       6265</span><br><span class="line">  5 Reallocated_Sector_Ct   0x0033   200   200   140    Pre-fail  Always       -       0</span><br><span class="line">  7 Seek_Error_Rate         0x002e   200   200   000    Old_age   Always       -       0</span><br><span class="line">  9 Power_On_Hours          0x0032   095   095   000    Old_age   Always       -       4052</span><br><span class="line"> 10 Spin_Retry_Count        0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line"> 11 Calibration_Retry_Count 0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line"> 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       857</span><br><span class="line">192 Power-Off_Retract_Count 0x0032   200   200   000    Old_age   Always       -       106</span><br><span class="line">193 Load_Cycle_Count        0x0032   198   198   000    Old_age   Always       -       6159</span><br><span class="line">194 Temperature_Celsius     0x0022   106   085   000    Old_age   Always       -       37</span><br><span class="line">196 Reallocated_Event_Count 0x0032   200   200   000    Old_age   Always       -       0</span><br><span class="line">197 Current_Pending_Sector  0x0032   200   200   000    Old_age   Always       -       0</span><br><span class="line">198 Offline_Uncorrectable   0x0030   200   200   000    Old_age   Offline      -       0</span><br><span class="line">199 UDMA_CRC_Error_Count    0x0032   200   200   000    Old_age   Always       -       0</span><br><span class="line">200 Multi_Zone_Error_Rate   0x0008   200   200   000    Old_age   Offline      -       0</span><br><span class="line"></span><br><span class="line">SMART Error Log Version: 1</span><br><span class="line">No Errors Logged</span><br><span class="line"></span><br><span class="line">SMART Self-<span class="built_in">test</span> <span class="built_in">log</span> structure revision number 1</span><br><span class="line">No self-tests have been logged.  [To run self-tests, use: smartctl -t]</span><br><span class="line"></span><br><span class="line">SMART Selective self-test <span class="built_in">log</span> data structure revision number 1</span><br><span class="line"> SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS</span><br><span class="line">    1        0        0  Not_testing</span><br><span class="line">    2        0        0  Not_testing</span><br><span class="line">    3        0        0  Not_testing</span><br><span class="line">    4        0        0  Not_testing</span><br><span class="line">    5        0        0  Not_testing</span><br><span class="line">Selective self-test flags (0x0):</span><br><span class="line">  After scanning selected spans, <span class="keyword">do</span> NOT read-scan remainder of disk.</span><br><span class="line">If Selective self-test is pending on power-up, resume after 0 minute delay.</span><br></pre></td></tr></table></figure><br>ï¼ˆ3ï¼‰æ£€æµ‹æŒ‚è½½çš„å¦ä¸€ä¸ªç£ç›˜<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~$ sudo smartctl -H /dev/sdb -a</span><br><span class="line">smartctl 7.2 2020-12-30 r5155 [x86_64-linux-5.10.0-9-amd64] (<span class="built_in">local</span> build)</span><br><span class="line">Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org</span><br><span class="line"></span><br><span class="line">=== START OF INFORMATION SECTION ===</span><br><span class="line">Model Family:     Seagate Barracuda 7200.14 (AF)</span><br><span class="line">Device Model:     ST500DM002-1BD142</span><br><span class="line">Serial Number:    W2AYVPQG</span><br><span class="line">LU WWN Device Id: 5 000c50 06add6856</span><br><span class="line">Firmware Version: KC65</span><br><span class="line">User Capacity:    500,107,862,016 bytes [500 GB]</span><br><span class="line">Sector Sizes:     512 bytes logical, 4096 bytes physical</span><br><span class="line">Rotation Rate:    7200 rpm</span><br><span class="line">Device is:        In smartctl database [<span class="keyword">for</span> details use: -P show]</span><br><span class="line">ATA Version is:   ATA8-ACS T13/1699-D revision 4</span><br><span class="line">SATA Version is:  SATA 3.0, 6.0 Gb/s (current: 6.0 Gb/s)</span><br><span class="line">Local Time is:    Fri Nov 26 12:32:11 2021 CST</span><br><span class="line">SMART support is: Available - device has SMART capability.</span><br><span class="line">SMART support is: Enabled</span><br><span class="line"></span><br><span class="line">=== START OF READ SMART DATA SECTION ===</span><br><span class="line">SMART overall-health self-assessment <span class="built_in">test</span> result: PASSED</span><br><span class="line">See vendor-specific Attribute list <span class="keyword">for</span> marginal Attributes.</span><br><span class="line"></span><br><span class="line">General SMART Values:</span><br><span class="line">Offline data collection status:  (0x82)	Offline data collection activity</span><br><span class="line">					was completed without error.</span><br><span class="line">					Auto Offline Data Collection: Enabled.</span><br><span class="line">Self-<span class="built_in">test</span> execution status:      (   0)	The previous self-test routine completed</span><br><span class="line">					without error or no self-test has ever </span><br><span class="line">					been run.</span><br><span class="line">Total time to complete Offline </span><br><span class="line">data collection: 		(  592) seconds.</span><br><span class="line">Offline data collection</span><br><span class="line">capabilities: 			 (0x7b) SMART execute Offline immediate.</span><br><span class="line">					Auto Offline data collection on/off support.</span><br><span class="line">					Suspend Offline collection upon new</span><br><span class="line">					<span class="built_in">command</span>.</span><br><span class="line">					Offline surface scan supported.</span><br><span class="line">					Self-<span class="built_in">test</span> supported.</span><br><span class="line">					Conveyance Self-<span class="built_in">test</span> supported.</span><br><span class="line">					Selective Self-<span class="built_in">test</span> supported.</span><br><span class="line">SMART capabilities:            (0x0003)	Saves SMART data before entering</span><br><span class="line">					power-saving mode.</span><br><span class="line">					Supports SMART auto save timer.</span><br><span class="line">Error logging capability:        (0x01)	Error logging supported.</span><br><span class="line">					General Purpose Logging supported.</span><br><span class="line">Short self-test routine </span><br><span class="line">recommended polling time: 	 (   1) minutes.</span><br><span class="line">Extended self-test routine</span><br><span class="line">recommended polling time: 	 (  79) minutes.</span><br><span class="line">Conveyance self-test routine</span><br><span class="line">recommended polling time: 	 (   2) minutes.</span><br><span class="line">SCT capabilities: 	       (0x303f)	SCT Status supported.</span><br><span class="line">					SCT Error Recovery Control supported.</span><br><span class="line">					SCT Feature Control supported.</span><br><span class="line">					SCT Data Table supported.</span><br><span class="line"></span><br><span class="line">SMART Attributes Data Structure revision number: 10</span><br><span class="line">Vendor Specific SMART Attributes with Thresholds:</span><br><span class="line">ID<span class="comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span></span><br><span class="line">  1 Raw_Read_Error_Rate     0x000f   101   099   006    Pre-fail  Always       -       353256</span><br><span class="line">  3 Spin_Up_Time            0x0003   100   100   000    Pre-fail  Always       -       0</span><br><span class="line">  4 Start_Stop_Count        0x0032   098   098   020    Old_age   Always       -       2889</span><br><span class="line">  5 Reallocated_Sector_Ct   0x0033   100   100   036    Pre-fail  Always       -       0</span><br><span class="line">  7 Seek_Error_Rate         0x000f   087   060   030    Pre-fail  Always       -       611100360</span><br><span class="line">  9 Power_On_Hours          0x0032   091   091   000    Old_age   Always       -       7963</span><br><span class="line"> 10 Spin_Retry_Count        0x0013   100   100   097    Pre-fail  Always       -       0</span><br><span class="line"> 12 Power_Cycle_Count       0x0032   098   098   020    Old_age   Always       -       2870</span><br><span class="line">183 Runtime_Bad_Block       0x0032   100   100   000    Old_age   Always       -       0</span><br><span class="line">184 End-to-End_Error        0x0032   100   100   099    Old_age   Always       -       0</span><br><span class="line">187 Reported_Uncorrect      0x0032   098   098   000    Old_age   Always       -       2</span><br><span class="line">188 Command_Timeout         0x0032   100   100   000    Old_age   Always       -       0 0 0</span><br><span class="line">189 High_Fly_Writes         0x003a   100   100   000    Old_age   Always       -       0</span><br><span class="line">190 Airflow_Temperature_Cel 0x0022   062   044   045    Old_age   Always   In_the_past 38 (0 59 38 13 0)</span><br><span class="line">194 Temperature_Celsius     0x0022   038   056   000    Old_age   Always       -       38 (0 8 0 0 0)</span><br><span class="line">195 Hardware_ECC_Recovered  0x001a   034   026   000    Old_age   Always       -       353256</span><br><span class="line">197 Current_Pending_Sector  0x0012   100   100   000    Old_age   Always       -       0</span><br><span class="line">198 Offline_Uncorrectable   0x0010   100   100   000    Old_age   Offline      -       0</span><br><span class="line">199 UDMA_CRC_Error_Count    0x003e   200   200   000    Old_age   Always       -       0</span><br><span class="line">240 Head_Flying_Hours       0x0000   100   253   000    Old_age   Offline      -       7949h+37m+36.458s</span><br><span class="line">241 Total_LBAs_Written      0x0000   100   253   000    Old_age   Offline      -       1573025949</span><br><span class="line">242 Total_LBAs_Read         0x0000   100   253   000    Old_age   Offline      -       3066682191</span><br><span class="line"></span><br><span class="line">SMART Error Log Version: 1</span><br><span class="line">No Errors Logged</span><br><span class="line"></span><br><span class="line">SMART Self-<span class="built_in">test</span> <span class="built_in">log</span> structure revision number 1</span><br><span class="line">No self-tests have been logged.  [To run self-tests, use: smartctl -t]</span><br><span class="line"></span><br><span class="line">SMART Selective self-test <span class="built_in">log</span> data structure revision number 1</span><br><span class="line"> SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS</span><br><span class="line">    1        0        0  Not_testing</span><br><span class="line">    2        0        0  Not_testing</span><br><span class="line">    3        0        0  Not_testing</span><br><span class="line">    4        0        0  Not_testing</span><br><span class="line">    5        0        0  Not_testing</span><br><span class="line">Selective self-test flags (0x0):</span><br><span class="line">  After scanning selected spans, <span class="keyword">do</span> NOT read-scan remainder of disk.</span><br><span class="line">If Selective self-test is pending on power-up, resume after 0 minute delay.</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>è¿ç»´</category>
        <category>badblocks</category>
        <category>smartmontools</category>
      </categories>
      <tags>
        <tag>Badblocks</tag>
        <tag>Smartmontools</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»ŸserviceæœåŠ¡ç®¡ç†æ–¹å¼ä¸‹Nginxè®¾ç½®å¼€æœºå¯åŠ¨</title>
    <url>/2021/06/21/Linux%E7%B3%BB%E7%BB%9Fservice%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E4%B8%8BNginx%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> <code>service</code>å‘½ä»¤å…¶å®æ˜¯å»<code>/etc/init.d</code>ç›®å½•ä¸‹,å»æ‰§è¡Œç›¸å…³ç¨‹åº,ç›¸åº”è„šæœ¬éœ€è¦è‡ªå·±å¡«å†™ã€‚    </p>
<h1 id="1-è®¾ç½®nginxå¯åŠ¨è„šæœ¬"><a href="#1-è®¾ç½®nginxå¯åŠ¨è„šæœ¬" class="headerlink" title="1.è®¾ç½®nginxå¯åŠ¨è„šæœ¬"></a>1.è®¾ç½®nginxå¯åŠ¨è„šæœ¬</h1><p>åœ¨<code>/etc/init.d/</code>ç›®å½•ä¸‹åˆ›å»º<code>nginx</code>çš„å¯åŠ¨æ–‡ä»¶<br>å‘½ä»¤ <code>vim /etc/init.d/nginx</code>ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶è¿›å»ä¿å­˜å³å¯<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># nginx Startup script for the Nginx HTTP Server</span></span><br><span class="line"><span class="comment"># it is v.0.0.2 version.</span></span><br><span class="line"><span class="comment"># chkconfig: - 85 15</span></span><br><span class="line"><span class="comment"># description: Nginx is a high-performance web and proxy server.</span></span><br><span class="line"><span class="comment">#              It has a lot of features, but it&#x27;s not for everyone.</span></span><br><span class="line"><span class="comment"># processname: nginx</span></span><br><span class="line"><span class="comment"># pidfile: /var/run/nginx.pid</span></span><br><span class="line"><span class="comment"># config: /usr/local/nginx/conf/nginx.conf</span></span><br><span class="line">nginx=/usr/local/nginx/sbin/nginx</span><br><span class="line">conf=/usr/local/nginx/conf/nginx.conf</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">&quot;Starting Nginx&quot;</span></span><br><span class="line"><span class="variable">$nginx</span> -c <span class="variable">$conf</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot; done.&quot;</span></span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">&quot;Stopping Nginx&quot;</span></span><br><span class="line">killall -9 nginx</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot; done.&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="built_in">test</span>)</span><br><span class="line"><span class="variable">$nginx</span> -t -c <span class="variable">$conf</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Success.&quot;</span></span><br><span class="line">;;</span><br><span class="line">reload)</span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">&quot;Reloading Nginx&quot;</span></span><br><span class="line">ps auxww | grep nginx | grep master | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs <span class="built_in">kill</span> -HUP</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot; done.&quot;</span></span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line"><span class="variable">$nginx</span> -s reload</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;reload done.&quot;</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Usage: <span class="variable">$0</span> &#123;start|restart|reload|stop|test|show&#125;&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></p>
<h1 id="2-è®¾ç½®æ–‡ä»¶æƒé™å¹¶å¯åŠ¨Nginx"><a href="#2-è®¾ç½®æ–‡ä»¶æƒé™å¹¶å¯åŠ¨Nginx" class="headerlink" title="2. è®¾ç½®æ–‡ä»¶æƒé™å¹¶å¯åŠ¨Nginx"></a>2. è®¾ç½®æ–‡ä»¶æƒé™å¹¶å¯åŠ¨<code>Nginx</code></h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo chkconfig --add /etc/init.d/nginx</span><br><span class="line">sudo <span class="built_in">chmod</span> 755 /etc/init.d/nginx</span><br><span class="line">sudo chkconfig --add nginx</span><br><span class="line">sudo service nginx start </span><br></pre></td></tr></table></figure></p>
<h1 id="3-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#3-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="3.è®¾ç½®å¼€æœºå¯åŠ¨"></a>3.è®¾ç½®å¼€æœºå¯åŠ¨</h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/sbin/chkconfig --level 345 nginx on</span><br></pre></td></tr></table></figure></p>
<h1 id="4-å…¶ä»–å‘½ä»¤ä»‹ç»"><a href="#4-å…¶ä»–å‘½ä»¤ä»‹ç»" class="headerlink" title="4. å…¶ä»–å‘½ä»¤ä»‹ç»"></a>4. å…¶ä»–å‘½ä»¤ä»‹ç»</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chkconfig --list æŸ¥çœ‹å…¨éƒ¨æœåŠ¡çŠ¶æ€</span><br><span class="line">ä¾‹å¦‚:</span><br><span class="line">è¿è¡Œchkconfig --list httpd</span><br><span class="line">çœ‹è‡ªåŠ¨å¯åŠ¨çŠ¶æ€</span><br><span class="line">httpd 0:off 1:off 2:off 3:on 4:on 5:on 6:off</span><br><span class="line">0~6æ˜¯æŒ‡è¿è¡Œçº§åˆ«ï¼Œä¸€èˆ¬æœåŠ¡å™¨éƒ½è¿è¡Œåœ¨3è¿™ä¸ªçº§åˆ«ä¸Šã€‚</span><br><span class="line"></span><br><span class="line">æ·»åŠ ä¸ºè‡ªåŠ¨å¯åŠ¨</span><br><span class="line">chkconfig --add httpd</span><br><span class="line">æˆ–è€…æŒ‡å®šè¿è¡Œçº§åˆ«</span><br><span class="line">chkconfig --level 345 httpd on</span><br><span class="line"></span><br><span class="line">åœæ­¢è‡ªåŠ¨å¯åŠ¨</span><br><span class="line">chkconfig --del httpd</span><br><span class="line">æˆ–æŒ‡å®šè¿è¡Œçº§åˆ«</span><br><span class="line">chkconfig --level 345 httpd off</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒèµ„æ–™ï¼š<br>1.<a href="https://www.cnblogs.com/seasen/p/12603017.html">nginxæ·»åŠ serviceä»¥åŠéšå¼€æœºå¯åŠ¨:</a><br>2.<a href="https://blog.csdn.net/chuifuhuo6864/article/details/100876188">linux å‘½ä»¤ /sbin/chkconfig</a><br>3.<a href="https://www.cnblogs.com/donglovebobo/p/14052728.html">nginxåŠ å…¥åˆ°serviceæœåŠ¡ systemctlå®‰è£…nginx è‡ªå¯åŠ¨</a></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Linux</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>å¯åŠ¨æœåŠ¡</tag>
        <tag>Service</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxè¯¯åˆ libc-binå‡ºç°â€dpkg warningï¼š &#39;ldconfig&#39; not found in PATH or not executableâ€</title>
    <url>/2022/01/25/Linux%E8%AF%AF%E5%88%A0libc-bin%E5%87%BA%E7%8E%B0dpkg%20warning%20ldconfig%20not%20found/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨<code>debian11</code>ä¸‹ï¼Œè¯¯å¸è½½<code>libc6</code>åï¼Œç”¨<code>apt</code>å®‰è£…ä»»ä½•è½¯ä»¶éƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Preconfiguring packages â€¦</span><br><span class="line">dpkg: warning: â€˜ldconfigâ€™ not found <span class="keyword">in</span> PATH or not executable</span><br><span class="line">dpkg: error: 1 expected program not found <span class="keyword">in</span> PATH or not executable</span><br><span class="line">Note: rootâ€™s PATH should usually contain /usr/local/sbin, /usr/sbin and /sbin</span><br><span class="line"></span><br><span class="line">E: Sub-process /usr/bin/dpkg returned an error code (2)</span><br></pre></td></tr></table></figure><br>è¿™æ˜¯å› ä¸ºæ‰¾ä¸åˆ°<code>/sbin</code>ï¼Œç›®å½•ä¸‹çš„<code>ldconfig</code>äº†ã€‚</p>
<p>è§£å†³åŠæ³•ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get download libc-bin</span><br><span class="line">dpkg -x libc-bin*.deb unpackdir/</span><br><span class="line">sudo <span class="built_in">cp</span> unpackdir/sbin/ldconfig /sbin/</span><br><span class="line">sudo apt-get install --reinstall libc-bin</span><br><span class="line">sudo apt-get -f install </span><br></pre></td></tr></table></figure><br>å‚è€ƒ<br><a href="https://www.codeleading.com/article/32744131762/">linuxè¯¯åˆ libc-binå‡ºç°dpkg: warning: â€˜ldconfigâ€™ not found in PATH or not executable</a></p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Libc</tag>
        <tag>Ldconfig</tag>
      </tags>
  </entry>
  <entry>
    <title>MariaDB&amp;MySQLæ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥åŠå¤‡ä»½å’Œæ¢å¤</title>
    <url>/2021/08/17/MariaDB&amp;MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%94%B9%E3%80%81%E6%9F%A5%E3%80%81%E5%A4%87%E4%BB%BD%E5%8F%8A%E6%81%A2%E5%A4%8D/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€åˆ›å»ºæ•°æ®åº“"><a href="#1ã€åˆ›å»ºæ•°æ®åº“" class="headerlink" title="1ã€åˆ›å»ºæ•°æ®åº“"></a>1ã€åˆ›å»ºæ•°æ®åº“</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mysql -uroot  //è¿›å…¥æ•°æ®åº“</span><br><span class="line">$ MariaDB [(none)]&gt; CREATE DATABASE study_test;</span><br><span class="line"> Query OK, 1 row affected (0.000 sec)</span><br></pre></td></tr></table></figure>
<h1 id="2ã€åˆ›å»ºåŠåˆ é™¤è¡¨"><a href="#2ã€åˆ›å»ºåŠåˆ é™¤è¡¨" class="headerlink" title="2ã€åˆ›å»ºåŠåˆ é™¤è¡¨"></a>2ã€åˆ›å»ºåŠåˆ é™¤è¡¨</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use study_test;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; CREATE TABLE study_test(</span><br><span class="line">    -&gt; test_id INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; test_name VARCHAR(50) NOT NULL,</span><br><span class="line">    -&gt; test_discribe VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; submit_date DATE,</span><br><span class="line">    -&gt; PRIMARY KEY (test_id)); </span><br><span class="line">Query OK, 0 rows affected (0.089 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; show tables;</span><br><span class="line">+----------------------+</span><br><span class="line">| Tables_in_study_test |</span><br><span class="line">+----------------------+</span><br><span class="line">| study_test           |</span><br><span class="line">+----------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤è¡¨å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; DROP TABLE study_test;</span><br></pre></td></tr></table></figure></p>
<h1 id="3ã€ä¿®æ”¹è¡¨å"><a href="#3ã€ä¿®æ”¹è¡¨å" class="headerlink" title="3ã€ä¿®æ”¹è¡¨å"></a>3ã€ä¿®æ”¹è¡¨å</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ALTER TABLE study_test RENAME study_table;</span><br></pre></td></tr></table></figure>
<h1 id="4ã€ä¿®æ”¹å­—æ®µ"><a href="#4ã€ä¿®æ”¹å­—æ®µ" class="headerlink" title="4ã€ä¿®æ”¹å­—æ®µ"></a>4ã€ä¿®æ”¹å­—æ®µ</h1><h2 id="ï¼ˆ1ï¼‰åˆ é™¤å­—æ®µ"><a href="#ï¼ˆ1ï¼‰åˆ é™¤å­—æ®µ" class="headerlink" title="ï¼ˆ1ï¼‰åˆ é™¤å­—æ®µ"></a>ï¼ˆ1ï¼‰åˆ é™¤å­—æ®µ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; ALTER TABLE study_table DROP submit_date;</span><br><span class="line">Query OK, 0 rows affected (0.041 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM study_table;</span><br><span class="line">+---------+-----------+---------------+</span><br><span class="line">| test_id | test_name | test_discribe |</span><br><span class="line">+---------+-----------+---------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡       |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        |</span><br><span class="line">|       6 | SIX       | ç¬¬å…­æ¡        |</span><br><span class="line">+---------+-----------+---------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ2ï¼‰æ·»åŠ å­—æ®µ"><a href="#ï¼ˆ2ï¼‰æ·»åŠ å­—æ®µ" class="headerlink" title="ï¼ˆ2ï¼‰æ·»åŠ å­—æ®µ"></a>ï¼ˆ2ï¼‰æ·»åŠ å­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> study_table <span class="keyword">ADD</span> submit_time <span class="type">timestamp</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>; <span class="comment">-- è¯¥å­—æ®µè®°å½•åˆ›å»ºæ—¶é—´ï¼Œåœ¨è¯¥æ¡æ•°æ®æ›´æ–°æ—¶ä¸ä¼šæ›´æ–°æ—¶é—´</span></span><br><span class="line"><span class="comment">-- -- ALTER TABLE files ADD updateTime timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP; -- è¯¥å­—æ®µè®°å½•æ›´æ–°æ—¶é—´ï¼Œåœ¨è¯¥æ¡æ•°æ®æ›´æ–°æ—¶æ›´æ–°æ—¶é—´å€¼</span></span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.069</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">MariaDB [study_test]<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> study_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+---------------------+</span></span><br><span class="line"><span class="operator">|</span> test_id <span class="operator">|</span> test_name <span class="operator">|</span> test_discribe <span class="operator">|</span> submit_time         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+---------------------+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">1</span> <span class="operator">|</span> <span class="keyword">ONE</span>       <span class="operator">|</span> ç¬¬ä¸€æ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">2</span> <span class="operator">|</span> TWO       <span class="operator">|</span> ç¬¬äºŒæ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span> THREE     <span class="operator">|</span> ç¬¬ä¸‰æ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">4</span> <span class="operator">|</span> FOUR      <span class="operator">|</span> ç¬¬å››æ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">5</span> <span class="operator">|</span> FIVE      <span class="operator">|</span> ç¬¬äº”æ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">6</span> <span class="operator">|</span> SIX       <span class="operator">|</span> ç¬¬å…­æ¡        <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+---------------------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.001</span> sec)</span><br></pre></td></tr></table></figure>
<p>åˆæ¯”å¦‚ç»™è¡¨<code>files</code>æ–°å¢<code>åˆ›å»ºæ—¶é—´</code>å­—æ®µ:<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¡¨å†…æ•°æ®</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> filename     <span class="operator">|</span> path                   <span class="operator">|</span> mark <span class="operator">|</span> scale   <span class="operator">|</span> info  <span class="operator">|</span> updateTime          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span><span class="operator">-</span>a.jpg      <span class="operator">|</span> .<span class="operator">/</span>uploads<span class="operator">/</span><span class="number">1</span><span class="operator">-</span>a.jpg      <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">800</span><span class="operator">*</span><span class="number">600</span> <span class="operator">|</span> HGMM  <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-03</span> <span class="number">13</span>:<span class="number">35</span>:<span class="number">53</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> blue2red.jpg <span class="operator">|</span> .<span class="operator">/</span>uploads<span class="operator">/</span>blue2red.jpg <span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span> <span class="number">400</span><span class="operator">*</span><span class="number">300</span> <span class="operator">|</span> HGMM2 <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-03</span> <span class="number">15</span>:<span class="number">01</span>:<span class="number">58</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.495</span> sec)</span><br><span class="line"><span class="comment">-- æŸ¥è¯¢è¡¨ç»“æ„</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">DESC</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Field      <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>             <span class="operator">|</span> Extra                         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id         <span class="operator">|</span> <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span> auto_increment                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> filename   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> path       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mark       <span class="operator">|</span> tinyint(<span class="number">3</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> scale      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> info       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> updateTime <span class="operator">|</span> <span class="type">timestamp</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.186</span> sec)</span><br><span class="line"><span class="comment">-- æ–°å¢ createTime å­—æ®µ</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> files <span class="keyword">ADD</span> creatTime <span class="type">timestamp</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>;</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.510</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"><span class="comment">-- è¡¨å†…æ–°æ•°æ®</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+---------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> filename     <span class="operator">|</span> path                   <span class="operator">|</span> mark <span class="operator">|</span> scale   <span class="operator">|</span> info  <span class="operator">|</span> updateTime          <span class="operator">|</span> creatTime           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+---------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">1</span><span class="operator">-</span>a.jpg      <span class="operator">|</span> .<span class="operator">/</span>uploads<span class="operator">/</span><span class="number">1</span><span class="operator">-</span>a.jpg      <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">800</span><span class="operator">*</span><span class="number">600</span> <span class="operator">|</span> HGMM  <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-03</span> <span class="number">13</span>:<span class="number">35</span>:<span class="number">53</span> <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-05</span> <span class="number">13</span>:<span class="number">24</span>:<span class="number">58</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> blue2red.jpg <span class="operator">|</span> .<span class="operator">/</span>uploads<span class="operator">/</span>blue2red.jpg <span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span> <span class="number">400</span><span class="operator">*</span><span class="number">300</span> <span class="operator">|</span> HGMM2 <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-03</span> <span class="number">15</span>:<span class="number">01</span>:<span class="number">58</span> <span class="operator">|</span> <span class="number">2022</span><span class="number">-11</span><span class="number">-05</span> <span class="number">13</span>:<span class="number">24</span>:<span class="number">58</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------------+------------------------+------+---------+-------+---------------------+---------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.022</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>æ³¨æ„æ›´æ–°æ—¶é—´å­—æ®µå’Œåˆ›å»ºæ—¶é—´å­—æ®µåŒºåˆ«ï¼š<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">DESC</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Field      <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>             <span class="operator">|</span> Extra                         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id         <span class="operator">|</span> <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span> auto_increment                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> filename   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> path       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mark       <span class="operator">|</span> tinyint(<span class="number">3</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> scale      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> info       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> updateTime <span class="operator">|</span> <span class="type">timestamp</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> creatTime  <span class="operator">|</span> <span class="type">timestamp</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.152</span> sec)</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆ2ï¼‰ä¿®æ”¹å­—æ®µ"><a href="#ï¼ˆ2ï¼‰ä¿®æ”¹å­—æ®µ" class="headerlink" title="ï¼ˆ2ï¼‰ä¿®æ”¹å­—æ®µ"></a>ï¼ˆ2ï¼‰ä¿®æ”¹å­—æ®µ</h2><h3 id="â‘ ä¿®æ”¹å­—æ®µå"><a href="#â‘ ä¿®æ”¹å­—æ®µå" class="headerlink" title="â‘ ä¿®æ”¹å­—æ®µå"></a>â‘ ä¿®æ”¹å­—æ®µå</h3><p>è¯­æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ALTER TABLE &lt;è¡¨å&gt; CHANGE &lt;æ—§å­—æ®µå&gt; &lt;æ–°å­—æ®µå&gt; &lt;æ–°æ•°æ®ç±»å‹&gt;ï¼›</span><br></pre></td></tr></table></figure><br>æ¯”å¦‚æ”¹è¡¨<code>study_table</code>çš„ç»“æ„ï¼Œå°† <code>test_discribe</code> å­—æ®µåç§°æ”¹ä¸º <code>test_disc</code>ï¼ŒåŒæ—¶å°†æ•°æ®ç±»å‹å˜ä¸º<code>CHAR(30)</code>ï¼š<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> study_table CHANGE test_discribe test_disc <span class="type">CHAR</span>(<span class="number">30</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+-------------------+</span></span><br><span class="line"><span class="operator">|</span> test_id <span class="operator">|</span> test_name <span class="operator">|</span> test_disc  <span class="operator">|</span> submit_time         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+-------------------+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">1</span> <span class="operator">|</span> <span class="keyword">ONE</span>       <span class="operator">|</span> ç¬¬ä¸€æ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">2</span> <span class="operator">|</span> TWO       <span class="operator">|</span> ç¬¬äºŒæ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span> THREE     <span class="operator">|</span> ç¬¬ä¸‰æ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">4</span> <span class="operator">|</span> FOUR      <span class="operator">|</span> ç¬¬å››æ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">5</span> <span class="operator">|</span> FIVE      <span class="operator">|</span> ç¬¬äº”æ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">6</span> <span class="operator">|</span> SIX       <span class="operator">|</span> ç¬¬å…­æ¡      <span class="operator">|</span> <span class="number">2021</span><span class="number">-08</span><span class="number">-17</span> <span class="number">12</span>:<span class="number">21</span>:<span class="number">41</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----------+---------------+-------------------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.001</span> sec)</span><br></pre></td></tr></table></figure></p>
<h3 id="â‘¡ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹"><a href="#â‘¡ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹" class="headerlink" title="â‘¡ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹"></a>â‘¡ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹</h3><p>è¯­æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>è¡¨å<span class="operator">&gt;</span> MODIFY <span class="operator">&lt;</span>å­—æ®µå<span class="operator">&gt;</span> <span class="operator">&lt;</span>æ•°æ®ç±»å‹<span class="operator">&gt;</span>;</span><br><span class="line"><span class="comment">-- ALTER TABLE files MODIFY updateTime timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;  ä¿®æ”¹æ›´æ–°æ—¶é—´ç±»å‹</span></span><br></pre></td></tr></table></figure><br>æ¯”å¦‚ä¿®æ”¹è¡¨<code>files</code>çš„ç»“æ„ï¼Œå°† <code>filename</code> å­—æ®µæ•°æ®ç±»å‹ç§°æ”¹ä¸ºå˜ä¸º<code>VARCHAR(30)</code>ï¼š<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åŸæ¥æ•°æ®ç»“æ„</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">DESC</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Field      <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>             <span class="operator">|</span> Extra                         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id         <span class="operator">|</span> <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span> auto_increment                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> filename   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> path       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mark       <span class="operator">|</span> tinyint(<span class="number">3</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> scale      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> info       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> updateTime <span class="operator">|</span> <span class="type">timestamp</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.017</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å˜æ›´æ•°æ®ç±»å‹</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> files MODIFY filename <span class="type">VARCHAR</span>(<span class="number">30</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.235</span> sec)</span><br><span class="line">Records: <span class="number">1</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- å˜æ›´åï¼š</span></span><br><span class="line">MariaDB [development]<span class="operator">&gt;</span> <span class="keyword">DESC</span> files;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Field      <span class="operator">|</span> Type             <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>             <span class="operator">|</span> Extra                         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> id         <span class="operator">|</span> <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span> auto_increment                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> filename   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>)      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> path       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mark       <span class="operator">|</span> tinyint(<span class="number">3</span>)       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> scale      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> info       <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">255</span>)     <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>                <span class="operator">|</span>                               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> updateTime <span class="operator">|</span> <span class="type">timestamp</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>() <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------------+------+-----+---------------------+-------------------------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.013</span> sec)</span><br></pre></td></tr></table></figure></p>
<h1 id="5ã€æ’å…¥æ•°æ®"><a href="#5ã€æ’å…¥æ•°æ®" class="headerlink" title="5ã€æ’å…¥æ•°æ®"></a>5ã€æ’å…¥æ•°æ®</h1><h2 id="ï¼ˆ1ï¼‰æ’å…¥å•æ¡"><a href="#ï¼ˆ1ï¼‰æ’å…¥å•æ¡" class="headerlink" title="ï¼ˆ1ï¼‰æ’å…¥å•æ¡"></a>ï¼ˆ1ï¼‰æ’å…¥å•æ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; INSERT INTO study_table (test_name, test_discribe) VALUES (<span class="string">&quot;ONE&quot;</span>, <span class="string">&quot;ç¬¬ä¸€æ¡&quot;</span>);</span><br><span class="line">Query OK, 1 row affected (0.018 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; select * from study_table;</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_date |</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | NULL        |</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; INSERT INTO study_table values (6, <span class="string">&#x27;SIX&#x27;</span>,<span class="string">&#x27;ç¬¬å…­æ¡&#x27;</span>, now()); </span><br><span class="line">Query OK, 1 row affected (0.018 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM study_table;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       6 | SIX       | ç¬¬å…­æ¡        | 2021-08-17 12:34:07 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ2ï¼‰æ’å…¥å¤šæ¡"><a href="#ï¼ˆ2ï¼‰æ’å…¥å¤šæ¡" class="headerlink" title="ï¼ˆ2ï¼‰æ’å…¥å¤šæ¡"></a>ï¼ˆ2ï¼‰æ’å…¥å¤šæ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; INSERT INTO study_table (test_name, test_discribe) VALUES (<span class="string">&quot;TWO&quot;</span>, <span class="string">&quot;ç¬¬äºŒæ¡&quot;</span>), (<span class="string">&quot;THREE&quot;</span>, <span class="string">&quot;ç¬¬ä¸‰æ¡&quot;</span>);</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; INSERT INTO study_table values (4, <span class="string">&#x27;FOUR&#x27;</span>,<span class="string">&#x27;ç¬¬å››æ¡&#x27;</span>, null),(5, <span class="string">&#x27;FIVE&#x27;</span>,<span class="string">&#x27;ç¬¬äº”æ¡&#x27;</span>, null),(6, <span class="string">&#x27;SIX&#x27;</span>,<span class="string">&#x27;ç¬¬å…­æ¡&#x27;</span>, null);</span><br><span class="line">Query OK, 2 rows affected (0.012 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; select * from study_test;</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_date |</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | NULL        |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | NULL        |</span><br><span class="line">|       3 | THREE     |  ç¬¬ä¸‰æ¡       | NULL        |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | NULL        |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | NULL        |</span><br><span class="line">|       6 | SIX       | ç¬¬å…­æ¡        | NULL        |</span><br><span class="line">+---------+-----------+---------------+-------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h1 id="6ã€ä¿®æ”¹æ•°æ®"><a href="#6ã€ä¿®æ”¹æ•°æ®" class="headerlink" title="6ã€ä¿®æ”¹æ•°æ®"></a>6ã€ä¿®æ”¹æ•°æ®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; UPDATE study_table SET test_discribe=<span class="string">&quot;ç¬¬ä¸‰æ¡&quot;</span> WHERE test_id=3;  //åˆ é™¤â€œç¬¬ä¸‰æ¡â€å‰é¢çš„ ç©ºæ ¼</span><br><span class="line">Query OK, 1 row affected (0.019 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM study_table;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       6 | SIX       | ç¬¬å…­æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h1 id="7ã€åˆ é™¤æ•°æ®"><a href="#7ã€åˆ é™¤æ•°æ®" class="headerlink" title="7ã€åˆ é™¤æ•°æ®"></a>7ã€åˆ é™¤æ•°æ®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; DELETE FROM study_table WHERE test_id=6;  //åˆ é™¤ç¬¬6æ¡</span><br><span class="line">Query OK, 1 row affected (0.022 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM study_table;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure>
<h1 id="8ã€æŸ¥è¯¢æ•°æ®"><a href="#8ã€æŸ¥è¯¢æ•°æ®" class="headerlink" title="8ã€æŸ¥è¯¢æ•°æ®"></a>8ã€æŸ¥è¯¢æ•°æ®</h1><h2 id="ï¼ˆ1ï¼‰ä¸€èˆ¬æŸ¥è¯¢"><a href="#ï¼ˆ1ï¼‰ä¸€èˆ¬æŸ¥è¯¢" class="headerlink" title="ï¼ˆ1ï¼‰ä¸€èˆ¬æŸ¥è¯¢"></a>ï¼ˆ1ï¼‰ä¸€èˆ¬æŸ¥è¯¢</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt;  SELECT test_id, test_name FROM study_table WHERE test_discribe=<span class="string">&quot;ç¬¬å…­æ¡&quot;</span>;</span><br><span class="line">+---------+-----------+</span><br><span class="line">| test_id | test_name |</span><br><span class="line">+---------+-----------+</span><br><span class="line">|       6 | SIX       |</span><br><span class="line">+---------+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>LOCATE(æ£€ç´¢æ¡ä»¶,å­—æ®µ)</code>æŸ¥è¯¢ï¼ˆä»¥ä¸‹å®ä¾‹å¯¹åº”study_testæ•°æ®åº“ä¸‹<code>usr_score_table</code>è¡¨ï¼‰ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¡¨å†…æ•°æ®å¦‚ä¸‹ï¼š</span></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table ORDER BY usr_id;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      72 |      71 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      3 | 2021-11-17 12:03:22 |      77 |      80 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      5 | 2021-11-17 12:03:22 |      80 |      82 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      6 | 2021-11-17 12:03:22 |      88 |      82 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">12 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.372 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table WHERE LOCATE(<span class="string">&#x27;6&#x27;</span>,y_score) ORDER BY usr_id;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure><br>ä½¿ç”¨<code>INSTR(å­—æ®µ,æ£€ç´¢æ¡ä»¶)</code>æŸ¥è¯¢ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table WHERE INSTR(y_score,<span class="string">&#x27;6&#x27;</span>) ORDER BY usr_id;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.008 sec)</span><br></pre></td></tr></table></figure><br>æ­¤å¤–è¿˜å¯ä»¥ç”¨<code>POSITION(æ£€ç´¢æ¡ä»¶ IN å­—æ®µ)</code>åŠ<code>REGEXP æ£€ç´¢æ¡ä»¶</code>æŸ¥è¯¢ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table WHERE y_score REGEXP <span class="string">&#x27;6&#x27;</span> ORDER BY usr_id;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.136 sec)</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆ2ï¼‰é€šé…ç¬¦-æŸ¥è¯¢"><a href="#ï¼ˆ2ï¼‰é€šé…ç¬¦-æŸ¥è¯¢" class="headerlink" title="ï¼ˆ2ï¼‰é€šé…ç¬¦%æŸ¥è¯¢"></a>ï¼ˆ2ï¼‰é€šé…ç¬¦<code>%</code>æŸ¥è¯¢</h2><p><code>%</code>è¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°;<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_name LIKE <span class="string">&#x27;F%&#x27;</span>;  </span><br><span class="line"></span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_name LIKE <span class="string">&#x27;T%&#x27;</span>;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_discribe LIKE <span class="string">&#x27;%æ¡%&#x27;</span>;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       1 | ONE       | ç¬¬ä¸€æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       4 | FOUR      | ç¬¬å››æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       5 | FIVE      | ç¬¬äº”æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">|       6 | SIX       | ç¬¬å…­æ¡        | 2021-08-17 12:34:07 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure><br>å…¶ä¸­å¯¹<code>int</code>å­—æ®µçš„å¯ä»¥å…ˆè¿›è¡Œè½¬æ¢ä¸º<code>CHAR</code>å†æŸ¥è¯¢ï¼ˆä»¥ä¸‹å®ä¾‹å¯¹åº”study_testæ•°æ®åº“ä¸‹<code>usr_score_table</code>è¡¨ï¼‰ï¼Œå¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table WHERE CAST(y_score AS CHAR) LIKE <span class="string">&#x27;6%&#x27;</span>  ORDER BY usr_id;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">4 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆ3ï¼‰é€šé…ç¬¦-æŸ¥è¯¢"><a href="#ï¼ˆ3ï¼‰é€šé…ç¬¦-æŸ¥è¯¢" class="headerlink" title="ï¼ˆ3ï¼‰é€šé…ç¬¦_æŸ¥è¯¢"></a>ï¼ˆ3ï¼‰é€šé…ç¬¦<code>_</code>æŸ¥è¯¢</h2><p><code>_</code>åªåŒ¹é…å•ä¸ªå­—ç¬¦<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_name LIKE <span class="string">&#x27;T__&#x27;</span>;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       2 | TWO       | ç¬¬äºŒæ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_name LIKE <span class="string">&#x27;T___&#x27;</span>;</span><br><span class="line">Empty <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt;  SELECT * FROM study_table WHERE test_name LIKE <span class="string">&#x27;T____&#x27;</span>;</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">| test_id | test_name | test_discribe | submit_time         |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">|       3 | THREE     | ç¬¬ä¸‰æ¡        | 2021-08-17 12:21:41 |</span><br><span class="line">+---------+-----------+---------------+---------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure><br><a name="div9"></a></p>
<h1 id="9ã€å¤‡ä»½ä¸æ¢å¤æ•°æ®åº“"><a href="#9ã€å¤‡ä»½ä¸æ¢å¤æ•°æ®åº“" class="headerlink" title="9ã€å¤‡ä»½ä¸æ¢å¤æ•°æ®åº“;"></a>9ã€å¤‡ä»½ä¸æ¢å¤æ•°æ®åº“;</h1><h2 id="ï¼ˆ1ï¼‰åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š"><a href="#ï¼ˆ1ï¼‰åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š" class="headerlink" title="ï¼ˆ1ï¼‰åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š"></a>ï¼ˆ1ï¼‰åˆ©ç”¨<code>mysqldump</code>å¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š</h2><h3 id="â‘ åœ¨Linuxä¸‹å¤‡ä»½å’Œæ¢å¤"><a href="#â‘ åœ¨Linuxä¸‹å¤‡ä»½å’Œæ¢å¤" class="headerlink" title="â‘ åœ¨Linuxä¸‹å¤‡ä»½å’Œæ¢å¤"></a>â‘ åœ¨Linuxä¸‹å¤‡ä»½å’Œæ¢å¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mysqldump -uroot -p wpDB &gt; ~/mysql-wpDB.dump  //å¤‡ä»½æ•°æ®åº“ååŠä¿å­˜è·¯å¾„</span><br><span class="line"><span class="comment"># $ sudo mysqldump -uroot -p study_db --default-character-set=utf8mb4 &gt; ~/win10-study_db.dump  // ä»¥`utf8mb4`ç¼–ç å¯¼å‡º</span></span><br><span class="line">$ sudo mysql -uroot  //è¿›å…¥æ•°æ®åº“</span><br><span class="line">  MariaDB [(none)]&gt; create database wpDBtest; //åˆ›å»ºæµ‹è¯•æ¢å¤æ•°æ®åº“,å•åº“å¤‡ä»½éœ€å…ˆåˆ›å»ºè¯¥æ•°æ®åº“</span><br><span class="line">$ mysql -uroot -p yourpassword wpDBtest &lt; ~/mysql-wpDB.dump;  //æ¢å¤æ•°æ®åº“</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½æ•´ä¸ªæ•°æ®åº“[æ— éœ€è¿›å…¥æ•°æ®åº“]</span></span><br><span class="line">mysqldump -uç”¨æˆ·å -h localhost -p --all-databases &gt; backmariadb_debian11.sql</span><br><span class="line"><span class="comment"># æ¢å¤æ•´ä¸ªæ•°æ®åº“[éœ€è¦å…ˆè¿›å…¥æ•°æ®åº“]</span></span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">source</span> /ä½ çš„å¤‡ä»½è·¯å¾„/debian11_Backup/backmariadb_debian11.sql</span><br></pre></td></tr></table></figure>
<h3 id="â‘¡win10ä¸‹å¤‡ä»½"><a href="#â‘¡win10ä¸‹å¤‡ä»½" class="headerlink" title="â‘¡win10ä¸‹å¤‡ä»½"></a>â‘¡win10ä¸‹å¤‡ä»½</h3><p><strong>è¿è¡Œ<code>cmd</code>æ¨¡å¼</strong><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -u root -P3307 -p wpDBtest &gt; E:\æ•°æ®å¤‡ä»½\Linux\mysql-wpDB.dump</span><br><span class="line">yourpassword:******</span><br></pre></td></tr></table></figure><br>å…¶ä¸­<code>-P3307</code>å¦‚æœæ²¡æ”¹æ•°æ®åº“ç«¯å£å¯ä¸è¾“å…¥ã€‚   </p>
<p><strong>è¿è¡Œ<code>Powershell</code>æ¨¡å¼</strong><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -uroot -P3307 -p yourpassword --default-character-set=gbk wpDBtest &gt; E:\æ•°æ®å¤‡ä»½\Linux\mysql-wpDB.dump</span><br></pre></td></tr></table></figure><br>å…¶ä¸­<code>--default-character-set=gbk</code>è§£å†³å¤‡ä»½åä¸­æ–‡æ•°æ®å¯èƒ½ä¼šå‡ºç°çš„ä¹±ç ï¼Œé»˜è®¤<code>utf8</code>ã€‚ </p>
<h3 id="â‘¢win10ä¸‹æ¢å¤"><a href="#â‘¢win10ä¸‹æ¢å¤" class="headerlink" title="â‘¢win10ä¸‹æ¢å¤"></a>â‘¢win10ä¸‹æ¢å¤</h3><p><strong>è¿è¡Œ<code>cmd</code>ç®¡ç†å‘˜æ¨¡å¼</strong><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -u root -P3307 -p yourpassword --default-character-set=utf8  wpDBtest &lt; E:\æ•°æ®å¤‡ä»½\Linux\mysql-wpDB.dump</span><br></pre></td></tr></table></figure><br><strong>è¿è¡Œ<code>Powershell</code>ç®¡ç†å‘˜æ¨¡å¼</strong><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Get-Content E:\æ•°æ®å¤‡ä»½\Linux\mysql-wpDB.dump | .\mysql -uroot -P3307 -p yourpassword --default-character-set=utf8 wpDBtest</span><br></pre></td></tr></table></figure><br>é—®é¢˜ï¼š<br><code>Powershell</code>ä¸‹å‘½ä»¤å‡ºç°é”™è¯¯å¦‚ä¸‹ï¼š<br><code>ERROR at line 224: Unknown command &#39;\&#39;&#39;.</code><br>æç¤ºæ­¤é”™è¯¯<code>--default-character-set=utf8</code>ä¹Ÿæ— æ³•è§£å†³ </p>
<h3 id="â‘£åœ¨Windows-lt-gt-Linuxäº’ç›¸å¤‡ä»½æ¢å¤æ—¶å¯èƒ½é‡åˆ°çš„ç¼–ç é—®é¢˜è§£å†³ï¼š"><a href="#â‘£åœ¨Windows-lt-gt-Linuxäº’ç›¸å¤‡ä»½æ¢å¤æ—¶å¯èƒ½é‡åˆ°çš„ç¼–ç é—®é¢˜è§£å†³ï¼š" class="headerlink" title="â‘£åœ¨Windows&lt;==&gt;Linuxäº’ç›¸å¤‡ä»½æ¢å¤æ—¶å¯èƒ½é‡åˆ°çš„ç¼–ç é—®é¢˜è§£å†³ï¼š"></a>â‘£åœ¨<code>Windows</code>&lt;==&gt;<code>Linux</code>äº’ç›¸å¤‡ä»½æ¢å¤æ—¶å¯èƒ½é‡åˆ°çš„ç¼–ç é—®é¢˜è§£å†³ï¼š</h3><p>1&gt; <strong>å¯å°è¯•ç”¨<code>iconv -c -f UTF-8 -t UTF-16LE win10-study_db_UTF8.dump &gt; win10-study_db_UTF-16LE.dump</code>è¿›è¡Œè½¬ç ã€æ­¤å‘½ä»¤ä¸º<code>UTF-8</code>åˆ°<code>UTF-16LE</code>ã€‘</strong>   </p>
<p>2&gt; <strong>Debianç³»ç»Ÿå¯ç”¨<code>iconv -f UTF-16LE -t UTF-8 win10-study_db_UTF-16LE.dump &gt; win10-study_db_UTF8.dump</code>è¿›è¡Œè½¬ç </strong>  </p>
<p>3&gt; <strong><code>ERROR 1273 (HY000) at line 25: Unknown collation: &#39;utf8mb4_0900_ai_ci&#39;</code>é”™è¯¯è§£å†³ï¼š</strong><br>  â€¢ æŠŠæ–‡ä»¶ä¸­çš„æ‰€æœ‰çš„<code>utf8mb4_0900_ai_ci</code>æ›¿æ¢ä¸º<code>utf8_general_ci</code>ã€‚<br>  â€¢ ä»¥åŠ<code>utf8mb4</code>æ›¿æ¢ä¸º<code>utf8</code>ã€‚  </p>
<h3 id="â‘¤æ³¨æ„äº‹é¡¹"><a href="#â‘¤æ³¨æ„äº‹é¡¹" class="headerlink" title="â‘¤æ³¨æ„äº‹é¡¹"></a>â‘¤æ³¨æ„äº‹é¡¹</h3><p>ä¸Šè¯‰å¤‡ä»½æ–¹æ¡ˆå­˜åœ¨ä¸€å®šçš„å¼Šç«¯å¦‚ï¼šç”¨æˆ·æ­£åœ¨æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ï¼Œæ•°æ®åˆ™ä¼šä¸¢å¤±ç­‰æƒ…å†µã€‚<br>è§£å†³æ–¹æ¡ˆï¼šåœ¨å¤‡ä»½æ˜¯ç»™åº“è¡¨åŠ ä¸Šé”ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚<br><code>--lock-all-tables</code>:è¯·æ±‚é”å®šæ‰€æœ‰è¡¨<br>å®ä¾‹ï¼š<br><code>mysqldump --databases wpDBtest --lock-all-tables &gt;/tmp/testdb.sql</code><br><code>--single-transaction:å•äº‹åŠ¡ï¼Œèƒ½å¤Ÿå¯¹innodbå­˜å‚¨å¼•æ“åšçƒ­å¤‡</code><br><code>--events:å¤‡ä»½äº‹ä»¶è°ƒåº¦å™¨ä»£ç </code><br><code>--routines:å¤‡ä»½å­˜å‚¨è¿‡ç¨‹å’Œå­˜å‚¨å‡½æ•°</code><br><code>--triggers:å¤‡ä»½è§¦å‘å™¨</code><br>å¤‡ä»½æ—¶è¯·æ±‚é”ä¹‹åæ»šåŠ¨æ—¥å¿—ï¼š<code>--flush-logs</code><br>å¤åˆ¶æ—¶åŒæ­¥ä½ç½®æ ‡è®°ï¼š<code>--master-data=[0|1|2]</code><br>æ³¨æ„ï¼šæ¢å¤æ—¶éœ€å…³é—­äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¢å¤æˆåŠŸååˆ™å¼€å¯<br>å…³é—­äºŒè¿›åˆ¶æ—¥å¿—ï¼š<code>set session sql_log_bin=0</code><br>å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼š<code>set session sql_log_bin=1</code>  </p>
<h2 id="ï¼ˆ2ï¼‰é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š"><a href="#ï¼ˆ2ï¼‰é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š" class="headerlink" title="ï¼ˆ2ï¼‰é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š"></a>ï¼ˆ2ï¼‰é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š</h2><p>1)é”è¡¨å¹¶ä¸”ç»™åªè¯»æƒé™<br><code>flush tables with read lock;</code><br>2)æ»šåŠ¨æ—¥å¿—<br><code>flush logs;</code><br>3)æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ä¿¡æ¯<br><code>show master status;</code><br>4)ä½¿ç”¨<code>mysqldump</code>è¿›è¡Œæ•°æ®å¤‡ä»½<br><code>mysqldump --databases wpDBtest &gt;/tmp/wpDBtest.sql</code><br>5)å¤‡ä»½å®Œæˆä¹‹ååˆ™éœ€è§£é”<br><code>unlock tables;</code><br>å‘½ä»¤è¡Œå¤‡ä»½å®ä¾‹å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqldump -p --databases wpDBtest --lock-all-tables --flush-logs &gt;/tmp/testdb2.sql   </span><br><span class="line">mysqldump -p --databases wpDBtest --single-trasaction --flush-logs &gt;/tmp/testdb3.sql  </span><br><span class="line">mysqldump -p --databases wpDBtest --lock-all-tables --flush-logs --master-data=2 &gt;/tmp/testdb4.sql</span><br><span class="line">```  </span><br><span class="line"><span class="comment">## ï¼ˆ3ï¼‰æŸ¥çœ‹æ¢å¤çš„æ•°æ®</span></span><br><span class="line">```bash</span><br><span class="line">$ sudo mysql -uroot  //è¿›å…¥æ•°æ®åº“`   </span><br><span class="line">$ use wpDBtest;   //é€‰æ‹©æŸ¥çœ‹æ•°æ®åº“`  </span><br><span class="line">  MariaDB [wpDBtest]&gt; select * from wp_options <span class="built_in">where</span> option_name <span class="keyword">in</span>(<span class="string">&quot;siteurl&quot;</span>,<span class="string">&quot;home&quot;</span>); <span class="comment"># æŸ¥çœ‹æ¢å¤ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆ4ï¼‰ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š"><a href="#ï¼ˆ4ï¼‰ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š" class="headerlink" title="ï¼ˆ4ï¼‰ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š"></a>ï¼ˆ4ï¼‰ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š</h2><h3 id="1ã€‹ä¿®æ”¹my-cnfé…ç½®æ–‡ä»¶-å¼€å¯binlog"><a href="#1ã€‹ä¿®æ”¹my-cnfé…ç½®æ–‡ä»¶-å¼€å¯binlog" class="headerlink" title="1ã€‹ä¿®æ”¹my.cnfé…ç½®æ–‡ä»¶,å¼€å¯binlog"></a>1ã€‹ä¿®æ”¹<code>my.cnf</code>é…ç½®æ–‡ä»¶,å¼€å¯<code>binlog</code></h3><p><code>$ sudo vim /etc/alternatives/my.cnf</code> //æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œå¼€å¯<code>binlog</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">log_bin=mysql-bin</span><br><span class="line">binlog_format=ROW</span><br><span class="line">expire_logs_days=7 <span class="comment">#7å¤©æ»šåŠ¨</span></span><br><span class="line">max_binlog_size=100M <span class="comment">#æ¯ä¸ªæ—¥å¿—æœ€å¤§100M</span></span><br><span class="line">binlog_cache_size=4M</span><br><span class="line">max_binlog_cache_size=256M <span class="comment">#binlogæœ€å¤§ç¼“å­˜</span></span><br></pre></td></tr></table></figure><br>æ·»åŠ å®Œåé‡å¯ã€‚  </p>
<h3 id="2ã€‹æŸ¥çœ‹log-binæ˜¯å¦å¼€å¯"><a href="#2ã€‹æŸ¥çœ‹log-binæ˜¯å¦å¼€å¯" class="headerlink" title="2ã€‹æŸ¥çœ‹log_binæ˜¯å¦å¼€å¯"></a>2ã€‹æŸ¥çœ‹<code>log_bin</code>æ˜¯å¦å¼€å¯</h3><p><code>MariaDB [(none)]&gt;  show variables like &#39;log_bin&#39;;</code><br>æŸ¥çœ‹äºŒè¿›åˆ¶log<br><code>$ sudo mysqlbinlog --no-defaults /var/lib/mysql/mysql-bin.000001;</code><br><code>--no-defaults</code>é¿å…å‡ºç°å­—ç¬¦é—®é¢˜é”™è¯¯<br>é»˜è®¤äºŒè¿›åˆ¶æ–‡ä»¶å­˜äº<code>/var/lib/mysql/</code>ä¸‹ï¼Œæ–‡ä»¶åä¸ºä¸€ç³»åˆ—<code>mysql-bin.00000*</code>ã€‚  </p>
<h3 id="3ã€‹æµ‹è¯•è¿‡ç¨‹"><a href="#3ã€‹æµ‹è¯•è¿‡ç¨‹" class="headerlink" title="3ã€‹æµ‹è¯•è¿‡ç¨‹"></a>3ã€‹æµ‹è¯•è¿‡ç¨‹</h3><p>1ã€åˆ›å»ºæµ‹è¯•æ•°æ®åº“å¹¶æ–°å¢è¡¨å’Œè®°å½•<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [wpDBtest]&gt; create database testDB;</span><br><span class="line">MariaDB [testDB]&gt; create table testtable (<span class="built_in">id</span> int null, name varchar(255) null);</span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">source</span> ~/wpDBtest-re.sql</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(1,<span class="string">&quot;xiaoming&quot;</span>);</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(2,<span class="string">&quot;wang&quot;</span>);</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(3,<span class="string">&quot;ç‹&quot;</span>);</span><br></pre></td></tr></table></figure><br>2ã€åˆ é™¤ä¸€æ¡æµ‹è¯•æ•°æ®<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [testDB]&gt; delete from testtable <span class="built_in">where</span> <span class="built_in">id</span> =2;`</span><br><span class="line"><span class="comment">##MariaDB [testDB]&gt; delete from testtable;</span></span><br><span class="line">  <span class="comment">##Query OK, 5 rows affected (0.027 sec)</span></span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [testDB]&gt; select * from testtable;</span><br><span class="line">+------+----------+</span><br><span class="line">| <span class="built_in">id</span>   | name     |</span><br><span class="line">+------+----------+</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">+------+----------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure><br>3ã€å¯¼å‡ºäºŒè¿›åˆ¶<code>log</code>ä¸º<code>sql</code>,<code>--database=testDB</code> æŒ‡å®šå¯¼å‡ºæ•°æ®åº“<code>testDB</code>çš„æ•°æ®<br><code>$ sudo  mysqlbinlog --no-defaults --database=testDB /var/lib/mysql/mysql-bin.000001&gt;~/testDB.sql;</code><br>4ã€è¿›å…¥<code>~/</code>æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åŸæ•°æ®å¹¶å¦å­˜<code>testDB-re.sql</code><br><code>$ cp testDB.sql testDB-re.sql</code><br><code>$ sudo vim testDB-re.sql</code>  //æ‰“å¼€<code>sql</code>æ–‡ä»¶ï¼Œåˆ é™¤å…¶ä¸­â€œ<code>delete from testtable where id =2</code>â€è¯­å¥<br>5ã€è¿›å…¥<code>mariadb</code>ï¼Œæ¢å¤æ•°æ®<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [testDB]&gt; <span class="built_in">source</span> ~/testDB-re.sql</span><br><span class="line">MariaDB [testDB]&gt; select * from testtable;</span><br><span class="line">+------+----------+</span><br><span class="line">| <span class="built_in">id</span>   | name     |</span><br><span class="line">+------+----------+</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    2 | wang     |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">+------+----------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure></p>
<h2 id="mysqldumpå…¶ä»–å¸¸ç”¨å‘½ä»¤"><a href="#mysqldumpå…¶ä»–å¸¸ç”¨å‘½ä»¤" class="headerlink" title="mysqldumpå…¶ä»–å¸¸ç”¨å‘½ä»¤"></a><strong><em><code>mysqldump</code>å…¶ä»–å¸¸ç”¨å‘½ä»¤</em></strong></h2><h3 id="â‘ å¤‡ä»½å¤šä¸ªæ•°æ®åº“ç»“æ„å’Œæ•°æ®-databasesæˆ–è€…-B"><a href="#â‘ å¤‡ä»½å¤šä¸ªæ•°æ®åº“ç»“æ„å’Œæ•°æ®-databasesæˆ–è€…-B" class="headerlink" title="â‘ å¤‡ä»½å¤šä¸ªæ•°æ®åº“ç»“æ„å’Œæ•°æ®(--databasesæˆ–è€…-B)"></a>â‘ å¤‡ä»½å¤šä¸ªæ•°æ®åº“ç»“æ„å’Œæ•°æ®(<code>--databases</code>æˆ–è€…<code>-B</code>)</h3><p><code>$ mysqldump -uyk -p --databases study_test study_db &gt; /media/yk/æ–‡æ¡£1/Backup/Debian11_study_db_study_test_UTF8.dump</code>  </p>
<h3 id="â‘¡å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ç»“æ„-d"><a href="#â‘¡å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ç»“æ„-d" class="headerlink" title="â‘¡å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ç»“æ„(-d)"></a>â‘¡å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ç»“æ„(<code>-d</code>)</h3><p><code>$ mysqldump -uyk -p -A-d &gt; /media/yk/æ–‡æ¡£1/Backup/Debian11_db.dump</code>  </p>
<h3 id="â‘¢å¤‡ä»½æ‰€æœ‰æ•°æ®åº“æ•°æ®-t"><a href="#â‘¢å¤‡ä»½æ‰€æœ‰æ•°æ®åº“æ•°æ®-t" class="headerlink" title="â‘¢å¤‡ä»½æ‰€æœ‰æ•°æ®åº“æ•°æ®(-t)"></a>â‘¢å¤‡ä»½æ‰€æœ‰æ•°æ®åº“æ•°æ®(<code>-t</code>)</h3><p><code>$ mysqldump -uyk -p -A-t &gt; /media/yk/æ–‡æ¡£1/Backup/Debian11_db.dump</code><br>æ¢å¤<code>XXX.dump</code>è§<a href="#div9">9ã€å¤‡ä»½ä¸æ¢å¤æ•°æ®åº“</a>  </p>
<h3 id="â‘£å¤‡ä»½æŸåº“ä¸­æŸè¡¨-å¹¶å¯¼å‡ºä¸ºxmlæ ¼å¼-xml-æˆ–-X-åº“å-è¡¨å"><a href="#â‘£å¤‡ä»½æŸåº“ä¸­æŸè¡¨-å¹¶å¯¼å‡ºä¸ºxmlæ ¼å¼-xml-æˆ–-X-åº“å-è¡¨å" class="headerlink" title="â‘£å¤‡ä»½æŸåº“ä¸­æŸè¡¨,å¹¶å¯¼å‡ºä¸ºxmlæ ¼å¼( --xml(æˆ–-X) åº“å è¡¨å  )"></a>â‘£å¤‡ä»½æŸåº“ä¸­æŸè¡¨,å¹¶å¯¼å‡ºä¸º<code>xml</code>æ ¼å¼( <code>--xml(æˆ–-X)</code> <code>åº“å è¡¨å</code>  )</h3><p><code>$ mysqldump -uyk -p --xml study_test usr_table &gt; /media/yk/æ–‡æ¡£1/Backup/Debian11_study_test_usr_table.xml</code>  </p>
<h3 id="â‘¤è¿˜åŸå•ä¸ªæ•°æ®åº“-éœ€æŒ‡å®šæ•°æ®åº“"><a href="#â‘¤è¿˜åŸå•ä¸ªæ•°æ®åº“-éœ€æŒ‡å®šæ•°æ®åº“" class="headerlink" title="â‘¤è¿˜åŸå•ä¸ªæ•°æ®åº“(éœ€æŒ‡å®šæ•°æ®åº“)"></a>â‘¤è¿˜åŸå•ä¸ªæ•°æ®åº“(éœ€æŒ‡å®šæ•°æ®åº“)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt;use mydb  </span><br><span class="line">mysql&gt;<span class="built_in">source</span> f:\mydb.sql</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p123456 mydb &lt; f:\mydb.sql</span><br></pre></td></tr></table></figure></p>
<h3 id="â‘¥è¿˜åŸå•ä¸ªæ•°æ®åº“çš„å¤šä¸ªè¡¨-éœ€æŒ‡å®šæ•°æ®åº“"><a href="#â‘¥è¿˜åŸå•ä¸ªæ•°æ®åº“çš„å¤šä¸ªè¡¨-éœ€æŒ‡å®šæ•°æ®åº“" class="headerlink" title="â‘¥è¿˜åŸå•ä¸ªæ•°æ®åº“çš„å¤šä¸ªè¡¨(éœ€æŒ‡å®šæ•°æ®åº“)"></a>â‘¥è¿˜åŸå•ä¸ªæ•°æ®åº“çš„å¤šä¸ªè¡¨(éœ€æŒ‡å®šæ•°æ®åº“)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt;use mydb</span><br><span class="line">mysql&gt;<span class="built_in">source</span> f:\multables.sql</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p123456 mydb&lt;f:\multables.sql</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™ï¼š<a href="https://blog.51cto.com/purify/1860516">mariadbäºŒè¿›åˆ¶æ—¥å¿—å’Œå¤‡ä»½æ¢å¤</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è¿ç»´</category>
        <category>MySQL</category>
        <category>MariaDB</category>
        <category>å¤‡ä»½å’Œæ¢å¤</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
        <tag>MariaDB</tag>
        <tag>Iconv</tag>
      </tags>
  </entry>
  <entry>
    <title>Mariadb10.6ç‰ˆæœ¬åŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/11/15/Mariadb10.6%E7%89%88%E6%9C%AC%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a name="div0"></a></p>
<h1 id="å†™åœ¨å‰é¢çš„ï¼š"><a href="#å†™åœ¨å‰é¢çš„ï¼š" class="headerlink" title="å†™åœ¨å‰é¢çš„ï¼š"></a>å†™åœ¨å‰é¢çš„ï¼š</h1><h2 id="ä¸€ã€å®‰è£…åŠåˆå§‹åŒ–"><a href="#ä¸€ã€å®‰è£…åŠåˆå§‹åŒ–" class="headerlink" title="ä¸€ã€å®‰è£…åŠåˆå§‹åŒ–"></a>ä¸€ã€å®‰è£…åŠåˆå§‹åŒ–</h2><p>Debian11ä¸‹æ•°æ®æºå®‰è£…10.6ç‰ˆæœ¬<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install software-properties-common dirmngr apt-transport-https</span><br><span class="line">$ sudo apt-key adv --fetch-keys <span class="string">&#x27;https://mariadb.org/mariadb_release_signing_key.asc&#x27;</span></span><br><span class="line">$ sudo add-apt-repository <span class="string">&#x27;deb [arch=amd64,i386,arm64,ppc64el] https://mirrors.inet.vn/mariadb/repo/10.6/debian bullseye main&#x27;</span></span><br><span class="line">$ sudo apt update</span><br><span class="line">$ sudo apt install mariadb-server mariadb-common</span><br></pre></td></tr></table></figure><br>åˆå§‹åŒ–ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mysql_secure_installation</span><br><span class="line"></span><br><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB</span><br><span class="line">      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line"></span><br><span class="line">In order to <span class="built_in">log</span> into MariaDB to secure it, we<span class="string">&#x27;ll need the current</span></span><br><span class="line"><span class="string">password for the root user. If you&#x27;</span>ve just installed MariaDB, and</span><br><span class="line">haven<span class="string">&#x27;t set the root password yet, you should just press enter here.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Enter current password for root (enter for none):   //è®¾ç½®æ•°æ®åº“rootå¯†ç </span></span><br><span class="line"><span class="string">OK, successfully used password, moving on...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Setting the root password or using the unix_socket ensures that nobody</span></span><br><span class="line"><span class="string">can log into the MariaDB root user without the proper authorisation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">You already have your root account protected, so you can safely answer &#x27;</span>n<span class="string">&#x27;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Switch to unix_socket authentication [Y/n] n  //åˆ‡æ¢åˆ°unixå¥—æ¥å­—èº«ä»½éªŒè¯</span></span><br><span class="line"><span class="string"> ... skipping.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">You already have your root account protected, so you can safely answer &#x27;</span>n<span class="string">&#x27;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Change the root password? [Y/n] n</span></span><br><span class="line"><span class="string"> ... skipping.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">By default, a MariaDB installation has an anonymous user, allowing anyone</span></span><br><span class="line"><span class="string">to log into MariaDB without having to have a user account created for</span></span><br><span class="line"><span class="string">them.  This is intended only for testing, and to make the installation</span></span><br><span class="line"><span class="string">go a bit smoother.  You should remove them before moving into a</span></span><br><span class="line"><span class="string">production environment.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Remove anonymous users? [Y/n] y  //ç§»é™¤åŒ¿åè´¦æˆ·</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Normally, root should only be allowed to connect from &#x27;</span>localhost<span class="string">&#x27;.  This</span></span><br><span class="line"><span class="string">ensures that someone cannot guess at the root password from the network.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Disallow root login remotely? [Y/n] y  //ç¦æ­¢rootè´¦æˆ·è¿œç¨‹ç™»é™†</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">By default, MariaDB comes with a database named &#x27;</span><span class="built_in">test</span><span class="string">&#x27; that anyone can</span></span><br><span class="line"><span class="string">access.  This is also intended only for testing, and should be removed</span></span><br><span class="line"><span class="string">before moving into a production environment.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Remove test database and access to it? [Y/n] y  //åˆ é™¤testæ•°æ®åº“å’Œå¯¹æ­¤æ•°æ®åº“è®¿é—®æƒé™</span></span><br><span class="line"><span class="string"> - Dropping test database...</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"> - Removing privileges on test database...</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reloading the privilege tables will ensure that all changes made so far</span></span><br><span class="line"><span class="string">will take effect immediately.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Reload privilege tables now? [Y/n] y  // åˆ·æ–°æƒé™</span></span><br><span class="line"><span class="string"> ... Success!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Cleaning up...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">All done!  If you&#x27;</span>ve completed all of the above steps, your MariaDB</span><br><span class="line">installation should now be secure.</span><br><span class="line"></span><br><span class="line">Thanks <span class="keyword">for</span> using MariaDB!</span><br></pre></td></tr></table></figure></p>
<p>åˆ‡æ¢åˆ°<code>root</code>è´¦æˆ·ç™»é™†mariadb<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ su</span><br><span class="line">å¯†ç ï¼š</span><br><span class="line">root@yourUserName-pc:<span class="comment"># mariadb -uroot -p</span></span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection <span class="built_in">id</span> is 40</span><br><span class="line">Server version: 10.6.5-MariaDB-1:10.6.5+maria~bullseye mariadb.org binary distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; </span><br></pre></td></tr></table></figure></p>
<h2 id="äºŒã€è®¾ç½®æƒé™ç›¸å…³"><a href="#äºŒã€è®¾ç½®æƒé™ç›¸å…³" class="headerlink" title="äºŒã€è®¾ç½®æƒé™ç›¸å…³"></a>äºŒã€è®¾ç½®æƒé™ç›¸å…³</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mariadb -uroot -p</span><br><span class="line">Enter password: </span><br><span class="line">ERROR 1698 (28000): Access denied <span class="keyword">for</span> user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è§£å†³åŠæ³•å¦‚ä¸‹ï¼š<br>è·³è¿‡å®‰å…¨è§„åˆ™<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mysqld_safe --skip-grant-tables</span><br><span class="line">$ mysql -u root -p</span><br><span class="line">Enter password:   //æ— å¯†ç ï¼Œç›´æ¥å›è½¦</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection <span class="built_in">id</span> is 3</span><br><span class="line">Server version: 10.6.5-MariaDB-1:10.6.5+maria~bullseye mariadb.org binary distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br></pre></td></tr></table></figure><br>æ­¤æ—¶<code>root</code>æƒé™å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">+-----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> root@localhost                                                                                                               |</span><br><span class="line">+-----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT ALL PRIVILEGES ON *.* TO `root`@`localhost` IDENTIFIED VIA mysql_native_password USING <span class="string">&#x27;invalid&#x27;</span> OR unix_socket WITH GRANT OPTION |</span><br><span class="line">| GRANT PROXY ON <span class="string">&#x27;&#x27;</span>@<span class="string">&#x27;%&#x27;</span> TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> WITH GRANT OPTION                                                                           |</span><br><span class="line">+-----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.147 sec)</span><br><span class="line">MariaDB [(none)]&gt; ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;you password&#x27;</span>; // é‡æ–°è®¾ç½®å¯†ç </span><br><span class="line">Query OK, 0 rows affected (0.022 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; \q</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure><br>é‡æ–°ç™»é™†ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mariadb -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection <span class="built_in">id</span> is 4</span><br><span class="line">Server version: 10.6.5-MariaDB-1:10.6.5+maria~bullseye mariadb.org binary distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; </span><br></pre></td></tr></table></figure></p>
<h3 id="ï¼ˆ1ï¼‰æŸ¥çœ‹æƒé™"><a href="#ï¼ˆ1ï¼‰æŸ¥çœ‹æƒé™" class="headerlink" title="ï¼ˆ1ï¼‰æŸ¥çœ‹æƒé™"></a>ï¼ˆ1ï¼‰æŸ¥çœ‹æƒé™</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">+----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> root@localhost                                                                                                              |</span><br><span class="line">+----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT ALL PRIVILEGES ON *.* TO `root`@`localhost` IDENTIFIED BY PASSWORD <span class="string">&#x27;*0F57*******&#x27;</span> WITH GRANT OPTION |</span><br><span class="line">| GRANT PROXY ON <span class="string">&#x27;&#x27;</span>@<span class="string">&#x27;%&#x27;</span> TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> WITH GRANT OPTION                                                                          |</span><br><span class="line">+----------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> yourUserName@localhost                                                                                            |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT ALL PRIVILEGES ON *.* TO `yourUserName`@`localhost` IDENTIFIED BY PASSWORD <span class="string">&#x27;*0F571********&#x27;</span> |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h3 id="ï¼ˆ2ï¼‰æˆäºˆæƒé™"><a href="#ï¼ˆ2ï¼‰æˆäºˆæƒé™" class="headerlink" title="ï¼ˆ2ï¼‰æˆäºˆæƒé™"></a>ï¼ˆ2ï¼‰æˆäºˆæƒé™</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;  GRANT ALL PRIVILEGES ON *.* TO `yourUserName`@`localhost` IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line">/* å…¶ä¸­`*.*`è¡¨ç¤ºæ‰€æœ‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨ï¼› <span class="string">&#x27;password&#x27;</span> è¡¨ç¤ºå¯†ç ï¼›*/</span><br><span class="line">MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON `novel_plus`.* TO `yourUserName`@`localhost`;</span><br><span class="line">Query OK, 0 rows affected (0.011 sec)</span><br><span class="line">MariaDB [(none)]&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.147 sec) </span><br><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> yourUserName@localhost                                                                                            |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT ALL PRIVILEGES ON *.* TO `yourUserName`@`localhost` IDENTIFIED BY PASSWORD <span class="string">&#x27;*0F571A639A45A10D51B1F0F65FF29E5D3*******&#x27;</span> |</span><br><span class="line">| GRANT ALL PRIVILEGES ON `novel_plus`.* TO `yourUserName`@`localhost`                                                         |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h3 id="ï¼ˆ3ï¼‰å–æ¶ˆæƒé™"><a href="#ï¼ˆ3ï¼‰å–æ¶ˆæƒé™" class="headerlink" title="ï¼ˆ3ï¼‰å–æ¶ˆæƒé™"></a>ï¼ˆ3ï¼‰å–æ¶ˆæƒé™</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; REVOKE ALL PRIVILEGES ON `novel_plus`.* FROM `yourUserName`@`localhost`; </span><br><span class="line">Query OK, 0 rows affected (0.026 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Grants <span class="keyword">for</span> yourUserName@localhost                                                                                            |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| GRANT ALL PRIVILEGES ON *.* TO `yourUserName`@`localhost` IDENTIFIED BY PASSWORD <span class="string">&#x27;*0F571A639A45A10D51B1F0F65FF29E5D3736C4E0&#x27;</span> |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šåœ¨<strong><code>mysql8.0</code></strong>ä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œéœ€å…ˆæˆäºˆ<code>root</code>ç”¨æˆ·<code>system_user</code>å¸æˆ·æƒé™æ‰èƒ½è¿›è¡Œåç»­æ“ä½œï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt; GRANT system_user ON *.* to <span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.07 sec)</span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.62 sec)</span><br><span class="line">mysql&gt; REVOKE ALL PRIVILEGES ON *.* FROM <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.16 sec)]</span><br><span class="line">mysql&gt; SET PASSWORD FOR <span class="string">&#x27;yourUserName&#x27;</span>@<span class="string">&#x27;%&#x27;</span>=<span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.20 sec)</span><br></pre></td></tr></table></figure></p>
<h1 id="1ã€åˆ›å»ºæ–°åº“åŠæ–°è¡¨"><a href="#1ã€åˆ›å»ºæ–°åº“åŠæ–°è¡¨" class="headerlink" title="1ã€åˆ›å»ºæ–°åº“åŠæ–°è¡¨"></a>1ã€åˆ›å»ºæ–°åº“åŠæ–°è¡¨</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mariadb -uyourUserName -p</span><br><span class="line">Enter password: </span><br><span class="line"><span class="comment">## åˆ›å»ºæ–°æ•°æ®åº“`study_test`</span></span><br><span class="line">MariaDB [(none)]&gt; CREATE DATABASE study_test;</span><br><span class="line">Query OK, 1 row affected (0.021 sec)</span><br><span class="line"><span class="comment">## åˆ›å»ºæ–°æ•°æ®è¡¨`usr_table`</span></span><br><span class="line">MariaDB [study_test]&gt; CREATE TABLE usr_table(</span><br><span class="line">    -&gt; usr_id INT NOT NULL,</span><br><span class="line">    -&gt; usr_name VARCHAR(20) NOT NULL,</span><br><span class="line">    -&gt; submit_time DATE,</span><br><span class="line">    -&gt; PRIMARY KEY(usr_id)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.107 sec)</span><br></pre></td></tr></table></figure>
<p><a href="#div6">è‹¥æ ¹æ®å·²æœ‰è¡¨åˆ›å»ºæ–°è¡¨å‚è§ç¬¬6éƒ¨åˆ†</a></p>
<h1 id="2ã€ä¿®æ”¹è¡¨ä¸­å­—æ®µå±æ€§"><a href="#2ã€ä¿®æ”¹è¡¨ä¸­å­—æ®µå±æ€§" class="headerlink" title="2ã€ä¿®æ”¹è¡¨ä¸­å­—æ®µå±æ€§"></a>2ã€ä¿®æ”¹è¡¨ä¸­å­—æ®µå±æ€§</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; ALTER TABLE test_table MODIFY submit_time DATETIME;</span><br><span class="line">Query OK, 5 rows affected (0.287 sec)              </span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>
<h1 id="3ã€å¢åŠ -åˆ é™¤å­—æ®µ"><a href="#3ã€å¢åŠ -åˆ é™¤å­—æ®µ" class="headerlink" title="3ã€å¢åŠ /åˆ é™¤å­—æ®µ"></a>3ã€å¢åŠ /åˆ é™¤å­—æ®µ</h1><h2 id="ï¼ˆ1ï¼‰å¢åŠ "><a href="#ï¼ˆ1ï¼‰å¢åŠ " class="headerlink" title="ï¼ˆ1ï¼‰å¢åŠ "></a>ï¼ˆ1ï¼‰å¢åŠ </h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; ALTER TABLE usr_table ADD COLUMN IF NOT EXISTS (is_vip INT);</span><br><span class="line">Query OK, 0 rows affected (0.154 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ2ï¼‰åˆ é™¤"><a href="#ï¼ˆ2ï¼‰åˆ é™¤" class="headerlink" title="ï¼ˆ2ï¼‰åˆ é™¤"></a>ï¼ˆ2ï¼‰åˆ é™¤</h2><p>å…ˆå¢åŠ å¾…åˆ é™¤çš„å­—æ®µ<code>is_vip1</code>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; ALTER TABLE usr_table ADD COLUMN IF NOT EXISTS (is_vip1 INT);</span><br><span class="line">Query OK, 0 rows affected (0.044 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; SELECT * FROM test_table;</span><br><span class="line">+---------+-----------+---------------------+--------+--------+---------+</span><br><span class="line">| test_id | test_name | submit_time         | is_vip | usr_id | is_vip1 |</span><br><span class="line">+---------+-----------+---------------------+--------+--------+---------+</span><br><span class="line">|       1 | one       | 2021-11-14 10:39:28 |      0 |      1 |    NULL |</span><br><span class="line">|       2 | two       | 2021-11-14 10:39:31 |      0 |      2 |    NULL |</span><br><span class="line">|       3 | three     | 2021-11-14 10:43:13 |      1 |      3 |    NULL |</span><br><span class="line">|       4 | four      | 2021-11-14 10:43:13 |      0 |      4 |    NULL |</span><br><span class="line">|       5 | five      | 2021-11-14 10:43:13 |      1 |      5 |    NULL |</span><br><span class="line">+---------+-----------+---------------------+--------+--------+---------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure><br>åˆ é™¤<code>is_vip1</code>å­—æ®µ:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; ALTER TABLE test_table DROP COLUMN is_vip1;</span><br><span class="line">Query OK, 0 rows affected (0.036 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM test_table;</span><br><span class="line">+---------+-----------+---------------------+--------+--------+</span><br><span class="line">| test_id | test_name | submit_time         | is_vip | usr_id |</span><br><span class="line">+---------+-----------+---------------------+--------+--------+</span><br><span class="line">|       1 | one       | 2021-11-14 10:39:28 |      0 |      1 |</span><br><span class="line">|       2 | two       | 2021-11-14 10:39:31 |      0 |      2 |</span><br><span class="line">|       3 | three     | 2021-11-14 10:43:13 |      1 |      3 |</span><br><span class="line">|       4 | four      | 2021-11-14 10:43:13 |      0 |      4 |</span><br><span class="line">|       5 | five      | 2021-11-14 10:43:13 |      1 |      5 |</span><br><span class="line">+---------+-----------+---------------------+--------+--------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure></p>
<h1 id="4ã€æ’å…¥æ•°æ®"><a href="#4ã€æ’å…¥æ•°æ®" class="headerlink" title="4ã€æ’å…¥æ•°æ®"></a>4ã€æ’å…¥æ•°æ®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; INSERT INTO usr_table (usr_id,usr_name,submit_time) VALUES (1,<span class="string">&#x27;ONE&#x27;</span>,NOW()),(2,<span class="string">&#x27;TWO&#x27;</span>,NOW()),(3,<span class="string">&#x27;THREE&#x27;</span>,NOW()),(4,<span class="string">&#x27;FOUR&#x27;</span>,NOW()),(5,<span class="string">&#x27;FIVE&#x27;</span>,NOW()),(6,<span class="string">&#x27;SIX&#x27;</span>,NOW());</span><br><span class="line">Query OK, 6 rows affected (0.023 sec)</span><br><span class="line">Records: 6  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; select * from usr_table;</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">|      4 | FOUR     | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |   NULL |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<h1 id="5ã€æ›´æ–°è¡¨ä¸­æ•°æ®"><a href="#5ã€æ›´æ–°è¡¨ä¸­æ•°æ®" class="headerlink" title="5ã€æ›´æ–°è¡¨ä¸­æ•°æ®"></a>5ã€æ›´æ–°è¡¨ä¸­æ•°æ®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°æŸåŒºé—´ ï¼ˆBETWEENï¼‰ </span></span><br><span class="line">MariaDB [study_test]&gt; UPDATE usr_table SET is_vip = 1 WHERE usr_id BETWEEN 3 AND 5;</span><br><span class="line">Query OK, 3 rows affected (0.041 sec)</span><br><span class="line">Rows matched: 3  Changed: 3  Warnings: 0</span><br><span class="line"><span class="comment"># æ›´æ–°æŸç»™å®šèŒƒå›´ ï¼ˆINï¼‰</span></span><br><span class="line">MariaDB [study_test]&gt; UPDATE usr_table SET submit_time = NOW() WHERE usr_id IN (3,5);</span><br><span class="line">Query OK, 2 rows affected (0.015 sec)</span><br><span class="line">Rows matched: 2  Changed: 2  Warnings: 0</span><br><span class="line">MariaDB [study_test]&gt; select * from usr_table;</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |</span><br><span class="line">|      4 | FOUR     | 2021-11-17 11:06:43 |      1 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br></pre></td></tr></table></figure>
<p><a href="#div8">æ›´å¤æ‚æŸ¥è¯¢æ›´æ–°å‚è§ç¬¬8éƒ¨åˆ†</a>  </p>
<p><a name="div6"></a></p>
<h1 id="6ã€ä»è€è¡¨ä¸­é€‰æ‹©å­—æ®µåˆ›å»ºæ–°è¡¨"><a href="#6ã€ä»è€è¡¨ä¸­é€‰æ‹©å­—æ®µåˆ›å»ºæ–°è¡¨" class="headerlink" title="6ã€ä»è€è¡¨ä¸­é€‰æ‹©å­—æ®µåˆ›å»ºæ–°è¡¨"></a>6ã€ä»è€è¡¨ä¸­é€‰æ‹©å­—æ®µåˆ›å»ºæ–°è¡¨</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; CREATE TABLE usr_score_table SELECT usr_id,submit_time FROM usr_table;</span><br><span class="line">Query OK, 6 rows affected (0.116 sec)</span><br><span class="line">Records: 6  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table;</span><br><span class="line">+--------+---------------------+</span><br><span class="line">| usr_id | submit_time         |</span><br><span class="line">+--------+---------------------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |</span><br><span class="line">+--------+---------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure>
<h1 id="7ã€æŸ¥è¯¢æ•°æ®åŠåˆ†ç»„"><a href="#7ã€æŸ¥è¯¢æ•°æ®åŠåˆ†ç»„" class="headerlink" title="7ã€æŸ¥è¯¢æ•°æ®åŠåˆ†ç»„"></a>7ã€æŸ¥è¯¢æ•°æ®åŠåˆ†ç»„</h1><h2 id="ï¼ˆ1ï¼‰æŸ¥è¯¢æ•°æ®å‡ºç°æ¬¡æ•°"><a href="#ï¼ˆ1ï¼‰æŸ¥è¯¢æ•°æ®å‡ºç°æ¬¡æ•°" class="headerlink" title="ï¼ˆ1ï¼‰æŸ¥è¯¢æ•°æ®å‡ºç°æ¬¡æ•°"></a>ï¼ˆ1ï¼‰æŸ¥è¯¢æ•°æ®å‡ºç°æ¬¡æ•°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç»™è¡¨usr_score_tableæ–°å¢ä¿©å­—æ®µy_scoreå’Œs_score</span></span><br><span class="line">MariaDB [study_test]&gt; ALTER TABLE usr_score_table ADD COLUMN IF NOT EXISTS (y_score INT NOT NULL,s_score INT NOT NULL);</span><br><span class="line">Query OK, 0 rows affected (0.129 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"><span class="comment"># æ›´æ–°éƒ¨åˆ†æ•°æ®å¹¶æ’å…¥æ›´å¤šæ•°æ®</span></span><br><span class="line">MariaDB [study_test]&gt; UPDATE usr_score_table SET y_score = 68,s_score=66 WHERE usr_id IN(1,3,5);</span><br><span class="line">Query OK, 3 rows affected (0.039 sec)</span><br><span class="line">Rows matched: 3  Changed: 3  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; UPDATE usr_score_table SET y_score = 86,s_score=88 WHERE usr_id IN(2,4,6);</span><br><span class="line">Query OK, 3 rows affected (0.023 sec)</span><br><span class="line">Rows matched: 3  Changed: 3  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; INSERT INTO usr_score_table (usr_id,submit_time,y_score,s_score) VALUES (1,NOW(),72,71),(2,NOW(),68,73),(3,NOW(),77,80),(1,NOW(),76,78),(5,NOW(),80,82),(6,NOW(),88,82);</span><br><span class="line">Query OK, 6 rows affected (0.015 sec)</span><br><span class="line">Records: 6  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_score_table;</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      72 |      71 |</span><br><span class="line">|      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | 2021-11-17 12:03:22 |      77 |      80 |</span><br><span class="line">|      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      5 | 2021-11-17 12:03:22 |      80 |      82 |</span><br><span class="line">|      6 | 2021-11-17 12:03:22 |      88 |      82 |</span><br><span class="line">+--------+---------------------+---------+---------+</span><br><span class="line">12 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table WHERE usr_id IN (SELECT usr_id FROM usr_score_table GROUP BY usr_id</span><br><span class="line"> HAVING COUNT(usr_id) &gt;= 2);</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |</span><br><span class="line">+--------+----------+---------------------+--------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.033 sec)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ2ï¼‰æŸ¥è¯¢æ•°æ®å¹¶åˆ†ç»„-GROUP-BY"><a href="#ï¼ˆ2ï¼‰æŸ¥è¯¢æ•°æ®å¹¶åˆ†ç»„-GROUP-BY" class="headerlink" title="ï¼ˆ2ï¼‰æŸ¥è¯¢æ•°æ®å¹¶åˆ†ç»„(GROUP BY)"></a>ï¼ˆ2ï¼‰æŸ¥è¯¢æ•°æ®å¹¶åˆ†ç»„(GROUP BY)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; SELECT usr_id, count(*) AS counts from usr_score_table GROUP BY usr_id;</span><br><span class="line">+--------+--------+</span><br><span class="line">| usr_id | counts |</span><br><span class="line">+--------+--------+</span><br><span class="line">|      1 |      3 |</span><br><span class="line">|      2 |      2 |</span><br><span class="line">|      3 |      2 |</span><br><span class="line">|      4 |      1 |</span><br><span class="line">|      5 |      2 |</span><br><span class="line">|      6 |      2 |</span><br><span class="line">+--------+--------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.018 sec)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ3ï¼‰ä¸¤è¡¨è”åˆæŸ¥è¯¢-JOIN"><a href="#ï¼ˆ3ï¼‰ä¸¤è¡¨è”åˆæŸ¥è¯¢-JOIN" class="headerlink" title="ï¼ˆ3ï¼‰ä¸¤è¡¨è”åˆæŸ¥è¯¢(JOIN)"></a>ï¼ˆ3ï¼‰ä¸¤è¡¨è”åˆæŸ¥è¯¢(JOIN)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># INNER JOIN è¿”å›ä¸¤ä¸ªè¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è¡Œ</span></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table INNER JOIN usr_score_table ON usr_table.usr_id=usr_score_table.usr_i</span><br><span class="line">d;</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip | usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | FOUR     | 2021-11-17 11:06:43 |      1 |      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      72 |      71 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 12:03:22 |      77 |      80 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 12:03:22 |      80 |      82 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 12:03:22 |      88 |      82 |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">12 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.019 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#left join å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½•ï¼Œä»¥å·¦è¡¨ä¸ºå‡†</span></span><br><span class="line"><span class="comment"># ç»™usr_tableæ–°å¢ä¸€è¡Œæ•°æ®</span></span><br><span class="line">MariaDB [study_test]&gt; INSERT INTO usr_table (usr_id,usr_name,submit_time,is_vip) VALUES (7,<span class="string">&#x27;SEVEN&#x27;</span>,NOW(),1);</span><br><span class="line">Query OK, 1 row affected (0.016 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table LEFT JOIN usr_score_table ON usr_table.usr_id=usr_score_table.usr_id</span><br><span class="line">;</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip | usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | FOUR     | 2021-11-17 11:06:43 |      1 |      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      72 |      71 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 12:03:22 |      77 |      80 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 12:03:22 |      80 |      82 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 12:03:22 |      88 |      82 |</span><br><span class="line">|      7 | SEVEN    | 2021-11-17 12:37:48 |      1 |   NULL | NULL                |    NULL |    NULL |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">13 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.012 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># RIGHT JOIN å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå·¦è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½•ï¼Œä»¥å³è¡¨ä¸ºå‡†</span></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table RIGHT JOIN usr_score_table ON usr_table.usr_id=usr_score_table.usr_i</span><br><span class="line">d;</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">| usr_id | usr_name | submit_time         | is_vip | usr_id | submit_time         | y_score | s_score |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 11:06:43 |      68 |      66 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      4 | FOUR     | 2021-11-17 11:06:43 |      1 |      4 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 11:17:46 |      68 |      66 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 11:06:43 |      86 |      88 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      72 |      71 |</span><br><span class="line">|      2 | TWO      | 2021-11-17 11:06:43 |      0 |      2 | 2021-11-17 12:03:22 |      68 |      73 |</span><br><span class="line">|      3 | THREE    | 2021-11-17 11:17:46 |      1 |      3 | 2021-11-17 12:03:22 |      77 |      80 |</span><br><span class="line">|      1 | ONE      | 2021-11-17 11:06:43 |      0 |      1 | 2021-11-17 12:03:22 |      76 |      78 |</span><br><span class="line">|      5 | FIVE     | 2021-11-17 11:17:46 |      1 |      5 | 2021-11-17 12:03:22 |      80 |      82 |</span><br><span class="line">|      6 | SIX      | 2021-11-17 11:06:43 |      0 |      6 | 2021-11-17 12:03:22 |      88 |      82 |</span><br><span class="line">+--------+----------+---------------------+--------+--------+---------------------+---------+---------+</span><br><span class="line">12 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># NATURAL JOIN ä»å³è¡¨æ·»åŠ å·¦è¡¨æ²¡æœ‰çš„å­—æ®µå¹¶æ ¹æ®å·¦è¡¨å†…å®¹è¾“å‡º</span></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table NATURAL JOIN usr_score_table;</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | usr_name | is_vip | y_score | s_score |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 | ONE      |      0 |      68 |      66 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 | TWO      |      0 |      86 |      88 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 | THREE    |      1 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 | FOUR     |      1 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 | FIVE     |      1 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 | SIX      |      0 |      86 |      88 |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.012 sec)</span><br></pre></td></tr></table></figure>
<p><a name="div8"></a></p>
<h1 id="8ã€æ ¹æ®æŸ¥è¯¢ç»“æœæ›´æ–°æŸå­—æ®µå€¼"><a href="#8ã€æ ¹æ®æŸ¥è¯¢ç»“æœæ›´æ–°æŸå­—æ®µå€¼" class="headerlink" title="8ã€æ ¹æ®æŸ¥è¯¢ç»“æœæ›´æ–°æŸå­—æ®µå€¼"></a>8ã€æ ¹æ®æŸ¥è¯¢ç»“æœæ›´æ–°æŸå­—æ®µå€¼</h1><h2 id="ï¼ˆ1ï¼‰åœ¨æŸæ¡ä»¶ä¸‹å•ä¸ªæ›´æ–°"><a href="#ï¼ˆ1ï¼‰åœ¨æŸæ¡ä»¶ä¸‹å•ä¸ªæ›´æ–°" class="headerlink" title="ï¼ˆ1ï¼‰åœ¨æŸæ¡ä»¶ä¸‹å•ä¸ªæ›´æ–°"></a>ï¼ˆ1ï¼‰åœ¨æŸæ¡ä»¶ä¸‹å•ä¸ªæ›´æ–°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; UPDATE usr_table SET is_vip = 1 WHERE usr_id=(SELECT usr_id FROM usr_table WHERE usr_id IN (SELECT usr_id FROM usr_score_table GROUP BY usr_id  HAVING COUNT(usr_id) &gt;= 3));</span><br><span class="line">Query OK, 1 rows affected (0.014 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table NATURAL JOIN usr_score_table;</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | usr_name | is_vip | y_score | s_score |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 | ONE      |      1 |      68 |      66 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 | TWO      |      0 |      86 |      88 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 | THREE    |      1 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 | FOUR     |      1 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 | FIVE     |      1 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 | SIX      |      0 |      86 |      88 |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆ2ï¼‰æ›´æ–°èŒƒå›´å†…çš„å€¼"><a href="#ï¼ˆ2ï¼‰æ›´æ–°èŒƒå›´å†…çš„å€¼" class="headerlink" title="ï¼ˆ2ï¼‰æ›´æ–°èŒƒå›´å†…çš„å€¼"></a>ï¼ˆ2ï¼‰æ›´æ–°èŒƒå›´å†…çš„å€¼</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [study_test]&gt; UPDATE usr_table SET is_vip = 1 WHERE usr_id IN (SELECT usr_id FROM usr_table WHERE usr_id I</span><br><span class="line">N (SELECT usr_id FROM usr_score_table GROUP BY usr_id  HAVING COUNT(usr_id) &gt;= 2));</span><br><span class="line">Query OK, 2 rows affected (0.014 sec)</span><br><span class="line">Rows matched: 5  Changed: 2  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [study_test]&gt; SELECT * FROM usr_table NATURAL JOIN usr_score_table;</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">| usr_id | submit_time         | usr_name | is_vip | y_score | s_score |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">|      1 | 2021-11-17 11:06:43 | ONE      |      1 |      68 |      66 |</span><br><span class="line">|      2 | 2021-11-17 11:06:43 | TWO      |      1 |      86 |      88 |</span><br><span class="line">|      3 | 2021-11-17 11:17:46 | THREE    |      1 |      68 |      66 |</span><br><span class="line">|      4 | 2021-11-17 11:06:43 | FOUR     |      1 |      86 |      88 |</span><br><span class="line">|      5 | 2021-11-17 11:17:46 | FIVE     |      1 |      68 |      66 |</span><br><span class="line">|      6 | 2021-11-17 11:06:43 | SIX      |      1 |      86 |      88 |</span><br><span class="line">+--------+---------------------+----------+--------+---------+---------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.001 sec)</span><br></pre></td></tr></table></figure>
<h1 id="9ã€Debian11ä¸‹mariadbå‡çº§10-5-ã€‹10-6"><a href="#9ã€Debian11ä¸‹mariadbå‡çº§10-5-ã€‹10-6" class="headerlink" title="9ã€Debian11ä¸‹mariadbå‡çº§10.5 ==ã€‹10.6"></a>9ã€Debian11ä¸‹mariadbå‡çº§10.5 ==ã€‹10.6</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mariadb --<span class="built_in">help</span></span><br><span class="line">mariadb  Ver 15.1 Distrib 10.5.12-MariaDB, <span class="keyword">for</span> debian-linux-gnu (x86_64) using  EditLine wrapper</span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line">Usage: mariadb [OPTIONS] [database]</span><br><span class="line"></span><br><span class="line">Default options are <span class="built_in">read</span> from the following files <span class="keyword">in</span> the given order:</span><br><span class="line">/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf </span><br><span class="line"></span><br><span class="line">root@yourUserName-pc:/etc<span class="comment"># sudo apt install software-properties-common dirmngr apt-transport-https</span></span><br><span class="line">root@yourUserName-pc:/etc<span class="comment"># sudo apt-key adv --fetch-keys &#x27;https://mariadb.org/mariadb_release_signing_key.asc&#x27;</span></span><br><span class="line">root@yourUserName-pc:/etc<span class="comment"># sudo add-apt-repository &#x27;deb [arch=amd64,i386,arm64,ppc64el] https://mirror.serverion.com/mariadb/repo/10.6/debian bullseye main&#x27;</span></span><br><span class="line"></span><br><span class="line">$ sudo apt dist-upgrade</span><br><span class="line"></span><br><span class="line">$ mariadb --<span class="built_in">help</span></span><br><span class="line">mariadb  Ver 15.1 Distrib 10.6.5-MariaDB, <span class="keyword">for</span> debian-linux-gnu (x86_64) using readline EditLine wrapper</span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Usage: mariadb [OPTIONS] [database]</span><br><span class="line"></span><br><span class="line">Default options are <span class="built_in">read</span> from the following files <span class="keyword">in</span> the given order:</span><br><span class="line">/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf </span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡çº§åå‡ºç°ç™»é™†ä¸äº†é—®é¢˜ï¼Œå‚è€ƒæœ¬æ–‡<a href="#div0">å†™åœ¨å‰é¢çš„éƒ¨åˆ†</a></p>
<h1 id="10ã€å¸è½½å‘½ä»¤"><a href="#10ã€å¸è½½å‘½ä»¤" class="headerlink" title="10ã€å¸è½½å‘½ä»¤"></a>10ã€å¸è½½å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt remove mysql-server</span><br><span class="line">sudo apt autoremove mysql-server</span><br><span class="line">sudo apt remove mysql-common</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/mysql/ -R</span><br><span class="line">sudo <span class="built_in">rm</span> /etc/mysql/ -R</span><br><span class="line">sudo apt autoremove mysql* --purge</span><br><span class="line">sudo apt remove apparmor</span><br></pre></td></tr></table></figure>
<p>å…³äº<strong>å¤‡ä»½è¯·å‚è€ƒ</strong><br><a href="../../../../2019/12/29/Debian10å¤‡ä»½ä¸æ¢å¤mariaDBæ•°æ®åº“/">Debian10å¤‡ä»½ä¸æ¢å¤mariaDBæ•°æ®åº“</a>  </p>
<p>å…³äº<strong>å‰æœŸåŸºç¡€ä»‹ç»è¯·å‚è€ƒ</strong><br><a href="../../../../2021/08/17/Mariadbæ•°æ®åº“å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€å¤‡ä»½åŠæ¢å¤/">Debian10ä¸‹MariaDB/MySQLæ•°æ®åº“å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€å¤‡ä»½åŠæ¢å¤</a></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://mariadb.org/download/?t=repo-config&amp;d=Debian+11+%22Bullseye%22&amp;v=10.6&amp;r_m=serverion">Download MariaDB Server</a><br><a href="https://mariadb.org/download/?t=mariadb&amp;p=mariadb&amp;r=10.6.5&amp;os=Linux&amp;cpu=x86_64&amp;pkg=tar_gz&amp;i=systemd&amp;m=rackspace">10.6.5taråŒ…</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è¿ç»´</category>
        <category>MariaDB</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Debian11</tag>
        <tag>MariaDB</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdownå†™ä¸€äº›latexç¬¦å·å’Œç¬¦å·ç”¨æ³•</title>
    <url>/2020/12/26/Markdown%E5%86%99%E4%B8%80%E4%BA%9Blatex%E7%AC%A6%E5%8F%B7%E5%92%8C%E7%AC%A6%E5%8F%B7%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1ã€ä¸Šä¸‹æ ‡"><a href="#1ã€ä¸Šä¸‹æ ‡" class="headerlink" title="1ã€ä¸Šä¸‹æ ‡"></a>1ã€ä¸Šä¸‹æ ‡</h2><p>1ã€ä¸Šæ ‡ç¬¦å·ï¼Œç¬¦å·ï¼š^ï¼Œå¦‚ï¼š$x^4$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x^4$</span><br></pre></td></tr></table></figure>
<p>2ã€ä¸‹æ ‡ç¬¦å·ï¼Œç¬¦å·ï¼š_ï¼Œå¦‚ï¼š$x_1$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x<span class="emphasis">_1$</span></span><br></pre></td></tr></table></figure>
<p>3ã€ç»„åˆç¬¦å·ï¼Œç¬¦å·ï¼š{}ï¼Œå¦‚ï¼š${16}_{8}O{2+}_{2}$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$&#123;16&#125;<span class="emphasis">_&#123;8&#125;O&#123;2+&#125;_</span>&#123;2&#125;$</span><br></pre></td></tr></table></figure>
<h2 id="2ã€å…¶ä»–ä¸Šé¢å¸¦ç¬¦å·ç±»å‹"><a href="#2ã€å…¶ä»–ä¸Šé¢å¸¦ç¬¦å·ç±»å‹" class="headerlink" title="2ã€å…¶ä»–ä¸Šé¢å¸¦ç¬¦å·ç±»å‹"></a>2ã€å…¶ä»–ä¸Šé¢å¸¦ç¬¦å·ç±»å‹</h2><p>1ã€$\mathring{a}$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathring&#123;a&#125;$</span><br></pre></td></tr></table></figure>
<p>2ã€$\bar{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\bar&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>3ã€$\acute{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\acute&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>$\check{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\check&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>4ã€$\grave{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\grave&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>5ã€$\breve{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\breve&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>6ã€$\dot{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\dot&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>7ã€$\tilde{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\tilde&#123;a&#125;$</span><br></pre></td></tr></table></figure><br>8ã€å‘é‡<br>$\vec{a}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\vec&#123;a&#125;$</span><br></pre></td></tr></table></figure></p>
<p>9ã€ä¸Šç®­å¤´<br>$\uparrow$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\uparrow$</span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€çœç•¥å·ï¼š"><a href="#3ã€çœç•¥å·ï¼š" class="headerlink" title="3ã€çœç•¥å·ï¼š"></a>3ã€çœç•¥å·ï¼š</h2><p>1ã€æ¨ªå‘<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\cdots$</span><br></pre></td></tr></table></figure><br>$\cdots$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\dots$ </span><br></pre></td></tr></table></figure>
<p>$\dots$<br>ï¼ˆçºµå‘ä½ç½®ç¨ä½ï¼Œä¸€èˆ¬ç”¨äºæœ‰ä¸‹æ ‡çš„åºåˆ—ï¼‰<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$ \dots \cdots$</span><br></pre></td></tr></table></figure><br>${x_1,\dots,x_n}$å’Œ${x_1,\cdots,x_n}$ (å¯¹æ¯”)</p>
<p>2ã€ç«–å‘<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\vdots$</span><br></pre></td></tr></table></figure><br>$\vdots$</p>
<p>3ã€æ–œå‘ï¼š<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\ddots$</span><br></pre></td></tr></table></figure><br>$\ddots$</p>
<p>4ã€åˆ†æ•°ï¼š<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\frac&#123;x+y&#125;&#123;y+z&#125;$</span><br></pre></td></tr></table></figure><br>$\frac{x+y}{y+z}$</p>
<p>æˆ–è€…<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$&#123;x+y&#125;\over&#123;y+z&#125;$</span><br></pre></td></tr></table></figure><br>${x+y}\over{y+z}$</p>
<h2 id="4ã€æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼"><a href="#4ã€æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼" class="headerlink" title="4ã€æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼"></a><strong>4ã€æ±‰å­—ã€å­—ä½“ä¸æ ¼å¼</strong></h2><p>1ã€å­—ä½“æ§åˆ¶ï¼Œç¬¦å·ï¼š\\displaystyleï¼Œ<br>å¦‚ï¼š$\displaystyle \frac{x+y}{y+z}$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\displaystyle \frac&#123;x+y&#125;&#123;y+z&#125;$</span><br></pre></td></tr></table></figure>
<p>ã€æ³¨æ„å’Œä¸Šé¢åˆ†æ•°åŒºåˆ«ã€‘</p>
<p>2ã€ä¸‹åˆ’çº¿ç¬¦å·ï¼Œç¬¦å·ï¼š\\underlineï¼Œå¦‚ï¼š$\underline{x+y}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\underline&#123;x+y&#125;$</span><br></pre></td></tr></table></figure></p>
<p>3ã€ä¸Šå¤§æ‹¬å·ï¼Œç¬¦å·ï¼š\\overbrace{ç®—å¼}ï¼Œ<br>å¦‚ï¼š$\overbrace {a+b+c+d}^{2.0}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\overbrace &#123;a+b+c+d&#125;^&#123;2.0&#125;$</span><br></pre></td></tr></table></figure></p>
<p>4ã€ä¸‹å¤§æ‹¬å·ï¼Œç¬¦å·ï¼š\\underbrace {ç®—å¼}ï¼Œå¦‚ï¼š</p>
<p>$a+\underbrace{b+c}_{1.0}+d$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$a+\underbrace&#123;b+c&#125;<span class="emphasis">_&#123;1.0&#125;+d$</span></span><br></pre></td></tr></table></figure>
<p>5ã€ä¸Šä½ç¬¦å·ï¼Œç¬¦å·ï¼š\stacrel{ä¸Šä½ç¬¦å·}{åŸºä½ç¬¦å·},å¦‚ï¼š<br>$\vec {x}\stackrel {\mathrm {def}}{=}{x_1,\dots,x_n}$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\vec &#123;x&#125;\stackrel &#123;\mathrm &#123;def&#125;&#125;&#123;=&#125;&#123;x<span class="emphasis">_1,\dots,x_</span>n&#125;$</span><br></pre></td></tr></table></figure>
<p>6ã€æ ‡ç­¾ï¼Œç¬¦å·\tag{æ•°å­—}ï¼Œå¦‚ï¼š</p>
<p>$x + y = 1 \tag {1.2}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x + y = 1 \tag &#123;1.2&#125;$</span><br></pre></td></tr></table></figure></p>
<h2 id="5ã€æ•°å­¦è¿ç®—"><a href="#5ã€æ•°å­¦è¿ç®—" class="headerlink" title="5ã€æ•°å­¦è¿ç®—"></a>5ã€æ•°å­¦è¿ç®—</h2><h3 id="1-å››åˆ™è¿ç®—"><a href="#1-å››åˆ™è¿ç®—" class="headerlink" title="(1)å››åˆ™è¿ç®—"></a>(1)å››åˆ™è¿ç®—</h3><p>1.åŠ æ³•è¿ç®—ï¼Œç¬¦å·ï¼š+ï¼Œ$x+y=z$ </p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y=z$</span><br></pre></td></tr></table></figure>
<p>2.åŠ å‡è¿ç®—ï¼Œç¬¦å·ï¼š\pmï¼Œ$x \pm y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \pm y=z$</span><br></pre></td></tr></table></figure><br>3.å‡åŠ è¿ç®—ï¼Œç¬¦å·ï¼š\mpï¼Œ$x \mp y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \mp y=z$</span><br></pre></td></tr></table></figure></p>
<p>4.ä¹˜æ³•è¿ç®—ï¼Œç¬¦å·ï¼š\timesï¼Œ$x \times y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \times y=z$</span><br></pre></td></tr></table></figure></p>
<p>5.ç‚¹ä¹˜è¿ç®—ï¼Œç¬¦å·ï¼š\cdotï¼Œ$x \cdot y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \cdot y=z$</span><br></pre></td></tr></table></figure></p>
<p>6.æ˜Ÿä¹˜è¿ç®—ï¼Œç¬¦å·ï¼š\astï¼Œ$x \ast y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \ast y=z$</span><br></pre></td></tr></table></figure></p>
<p>7.é™¤æ³•è¿ç®—ï¼Œç¬¦å·ï¼š\divï¼Œ$x \div y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \div y=z$</span><br></pre></td></tr></table></figure></p>
<p>8.æ–œé™¤è¿ç®—ï¼Œç¬¦å·ï¼š/ï¼Œ$x / y=z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x / y=z$</span><br></pre></td></tr></table></figure></p>
<p>9.åˆ†å¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š\frac{åˆ†å­}{åˆ†æ¯}ï¼Œå¦‚ï¼š$\frac{x+y}{y+z}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\frac&#123;x+y&#125;&#123;y+z&#125;$</span><br></pre></td></tr></table></figure></p>
<p>åˆ†å¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š{åˆ†å­} \voer {åˆ†æ¯}ï¼Œå¦‚ï¼š${x+y} \over {y+z}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$&#123;x+y&#125; \over &#123;y+z&#125;$</span><br></pre></td></tr></table></figure></p>
<p>10.ç»å¯¹å€¼è¡¨ç¤ºï¼Œç¬¦å·ï¼š||ï¼Œå¦‚ï¼š$|x+y|$</p>
<p>(2)é«˜çº§è¿ç®—</p>
<p>1ã€å¹³å‡æ•°è¿ç®—ï¼Œç¬¦å·ï¼š\overline{ç®—å¼}ï¼Œå¦‚ï¼š$\overline{xyz}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\overline&#123;xyz&#125;$</span><br></pre></td></tr></table></figure><br>2ã€å¼€äºŒæ¬¡æ–¹è¿ç®—ï¼Œç¬¦å·ï¼š\sqrtï¼Œå¦‚ï¼š$\sqrt x$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\sqrt x$</span><br></pre></td></tr></table></figure><br>å¼€å¤šæ¬¡æ–¹è¿ç®—ï¼Œç¬¦å·ï¼š\sqrt[å¼€æ–¹æ•°]{è¢«å¼€æ–¹æ•°}ï¼Œå¦‚ï¼š$\sqrt[3]{x+y}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\sqrt[3]&#123;x+y&#125;$</span><br></pre></td></tr></table></figure><br>3ã€å¯¹æ•°è¿ç®—ï¼Œç¬¦å·ï¼š\logï¼Œå¦‚ï¼š$\log_2 x$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\log<span class="emphasis">_2\ x$</span></span><br></pre></td></tr></table></figure><br>4ã€æ±‚å’Œè¿ç®—ï¼Œç¬¦å·ï¼š\sumï¼Œå¦‚ï¼š<br>$\sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)$</p>
<p>æˆ–è€…ï¼Œç¬¦å·ï¼š\displaystyle \sumï¼Œå¦‚ï¼š<br>$\displaystyle \sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\sum^n<span class="emphasis">_&#123;i=1&#125;(x_</span>i-\bar x)(y<span class="emphasis">_i-\bar y)$</span></span><br><span class="line"><span class="emphasis">$\displaystyle \sum^n_</span>&#123;i=1&#125;(x<span class="emphasis">_i-\bar x)(y_</span>i-\bar y)$</span><br></pre></td></tr></table></figure>
<p>5ã€å¾®åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š\partialï¼Œå¦‚ï¼š$\frac{\partial x}{\partial y}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\frac&#123;\partial x&#125;&#123;\partial y&#125;$</span><br></pre></td></tr></table></figure></p>
<p>6ã€ç§¯åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š\intï¼Œå¦‚ï¼š$\int^\infty_{0}{xdx}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\int^&#123;\infty&#125;<span class="emphasis">_&#123;0&#125;&#123;xdx&#125;$</span></span><br></pre></td></tr></table></figure></p>
<p>7ã€çŸ©é˜µè¡¨ç¤ºï¼Œç¬¦å·ï¼š\begin{matrix} \end{matrix}ï¼Œå¦‚ï¼š</p>
<script type="math/tex; mode=display">
\left [
\begin{matrix}
a & b & c & d  \\
e & f & g & h  \\
i & j & k & l  \\
m & n & o & p
\end{matrix}
\right ]
\tag{1}</script><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$</span><br><span class="line">\left [</span><br><span class="line">\begin&#123;matrix&#125;</span><br><span class="line">a &amp; b &amp; c &amp; d  \\</span><br><span class="line">e &amp; f &amp; g &amp; h  \\</span><br><span class="line">i &amp; j &amp; k &amp; l  \\</span><br><span class="line">m &amp; n &amp; o &amp; p</span><br><span class="line">\end&#123;matrix&#125;</span><br><span class="line">\right ]</span><br><span class="line">\tag&#123;2&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<h2 id="6ã€é€»è¾‘è¿ç®—ä¸é›†åˆè¿ç®—"><a href="#6ã€é€»è¾‘è¿ç®—ä¸é›†åˆè¿ç®—" class="headerlink" title="6ã€é€»è¾‘è¿ç®—ä¸é›†åˆè¿ç®—"></a>6ã€é€»è¾‘è¿ç®—ä¸é›†åˆè¿ç®—</h2><p>(1)é€»è¾‘è¿ç®—<br>1ã€å¤§äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\geqï¼Œå¦‚ï¼š$x+y \geq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \geq z$</span><br></pre></td></tr></table></figure><br>2ã€å°äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\leqï¼Œå¦‚ï¼š$x+y \leq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \leq z$</span><br></pre></td></tr></table></figure><br>3ã€ä¸ç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\neqï¼Œå¦‚ï¼š$x+y \neq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \neq z$</span><br></pre></td></tr></table></figure><br>4ã€ä¸å¤§äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\ngeqï¼Œå¦‚ï¼š$x+y \ngeq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \ngeq z$</span><br></pre></td></tr></table></figure><br>æˆ–è€…ï¼Œç¬¦å·ï¼š\not\geqï¼Œå¦‚ï¼š$x+y \not\geq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \not\geq z$</span><br></pre></td></tr></table></figure><br>6ã€ä¸å°äºç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\nleqï¼Œå¦‚ï¼š$x+y \nleq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \nleq z$</span><br></pre></td></tr></table></figure><br>æˆ–è€…ï¼Œç¬¦å·ï¼š\not\leqï¼Œå¦‚ï¼š$x+y \not\leq z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \not\leq z$</span><br></pre></td></tr></table></figure><br>7ã€çº¦ç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\approxï¼Œå¦‚ï¼š$x+y \approx z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \approx z$</span><br></pre></td></tr></table></figure><br>8ã€æ’å®šç­‰äºè¿ç®—ï¼Œç¬¦å·ï¼š\equivï¼Œå¦‚ï¼š$x+y \equiv z$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x+y \equiv z$</span><br></pre></td></tr></table></figure><br>(2)é›†åˆè¿ç®—<br>1ã€å±äºè¿ç®—ï¼Œç¬¦å·ï¼š\inï¼Œå¦‚ï¼š$x \in y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \in y$</span><br></pre></td></tr></table></figure><br>2ã€ä¸å±äºè¿ç®—ï¼Œç¬¦å·ï¼š\notinï¼Œå¦‚ï¼š$x \notin y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \notin y$</span><br></pre></td></tr></table></figure><br>3ã€ä¸å±äºè¿ç®—ï¼Œç¬¦å·ï¼š\not\inï¼Œå¦‚ï¼š$x \not\in y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \not\in y$</span><br></pre></td></tr></table></figure><br>4ã€å­é›†è¿ç®—ï¼Œç¬¦å·ï¼š\subsetï¼Œå¦‚ï¼š$x \subset y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \subset y$</span><br></pre></td></tr></table></figure><br>5ã€éå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š\not\subsetï¼Œå¦‚ï¼š$x \not\subset y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \not\subset y$</span><br></pre></td></tr></table></figure><br>6ã€çœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š\subseteqï¼Œå¦‚ï¼š$x \subseteq y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \subseteq y$</span><br></pre></td></tr></table></figure><br>7ã€éçœŸå­é›†è¿ç®—ï¼Œç¬¦å·ï¼š\subsetneqï¼Œå¦‚ï¼š$x \subsetneq y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \subsetneq y$</span><br></pre></td></tr></table></figure><br>8ã€å¹¶é›†è¿ç®—ï¼Œç¬¦å·ï¼š\cupï¼Œå¦‚ï¼š$x \cup y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \cup y$</span><br></pre></td></tr></table></figure><br>9ã€äº¤é›†è¿ç®—ï¼Œç¬¦å·ï¼š\capï¼Œå¦‚ï¼š$x \cap y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \cap y$</span><br></pre></td></tr></table></figure><br>10ã€å·®é›†è¿ç®—ï¼Œç¬¦å·ï¼š\setminusï¼Œå¦‚ï¼š$x \setminus y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \setminus y$</span><br></pre></td></tr></table></figure><br>11ã€åŒæˆ–è¿ç®—ï¼Œç¬¦å·ï¼š\bigodotï¼Œå¦‚ï¼š$x \bigodot y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \bigodot y$</span><br></pre></td></tr></table></figure><br>12ã€åŒä¸è¿ç®—ï¼Œç¬¦å·ï¼š\bigotimesï¼Œå¦‚ï¼š$x \bigotimes y$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$x \bigotimes y$</span><br></pre></td></tr></table></figure><br>13ã€å®æ•°é›†åˆï¼Œç¬¦å·ï¼š\mathbb{R}ï¼Œå¦‚ï¼š$\mathbb{R}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathbb&#123;R&#125;$</span><br></pre></td></tr></table></figure><br>14ã€è‡ªç„¶æ•°é›†åˆï¼Œç¬¦å·ï¼š\mathbb{Z}ï¼Œå¦‚ï¼š$\mathbb{Z}$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\mathbb&#123;Z&#125;$</span><br></pre></td></tr></table></figure><br>15ã€ç©ºé›†ï¼Œç¬¦å·ï¼š\emptysetï¼Œå¦‚ï¼š$\emptyset$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\emptyset$</span><br></pre></td></tr></table></figure></p>
<h2 id="7ã€æ–¹ç¨‹ç»„"><a href="#7ã€æ–¹ç¨‹ç»„" class="headerlink" title="7ã€æ–¹ç¨‹ç»„"></a>7ã€æ–¹ç¨‹ç»„</h2><p>1ã€ä¸€èˆ¬æ–¹ç¨‹ç»„<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\begin&#123;cases&#125;</span><br><span class="line">a<span class="emphasis">_1x+b_</span>1y+c<span class="emphasis">_1z=d_</span>1\\\</span><br><span class="line">a<span class="emphasis">_2x+b_</span>2y+c<span class="emphasis">_2z=d_</span>2\\\</span><br><span class="line">a<span class="emphasis">_3x+b_</span>3y+c<span class="emphasis">_3z=d_</span>3</span><br><span class="line">\end&#123;cases&#125;$</span><br></pre></td></tr></table></figure></p>
<p>$<br>\begin{cases}<br>a_1x+b_1y+c_1z=d_1\\\<br>a_2x+b_2y+c_2z=d_2\\\<br>a_3x+b_3y+c_3z=d_3<br>\end{cases}<br>$</p>
<p>2ã€å¸¦è¡¨è¾¾å¼å½¢å¼<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$</span><br><span class="line">f(n) =</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">n/2,  &amp;\text&#123;å¦‚æœ:&#125; n\neq 0 \\\\</span><br><span class="line">3n+1, &amp;\text&#123;å¦‚æœ:&#125; n \geq 2 \\\\</span><br><span class="line">2n\over5(n-1), &amp;\text&#123;å¦‚æœ:&#125; \text&#123;-&#125;\infty &lt; n &lt; 2</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure></p>
<p>$<br>f(n) =<br>\begin{cases}<br>n/2,  &amp;\text{å¦‚æœ:} n\neq 0 \\\\<br>3n+1, &amp;\text{å¦‚æœ:} n \geq 2 \\\\<br>2n\over5(n-1), &amp;\text{å¦‚æœ:} \text{-}\infty &lt; n &lt; 2<br>\end{cases}<br>$</p>
<h2 id="8ã€è¡¨æ ¼"><a href="#8ã€è¡¨æ ¼" class="headerlink" title="8ã€è¡¨æ ¼"></a>8ã€è¡¨æ ¼</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;array&#125;</span><br><span class="line">&#123;|c|l|r|&#125;</span><br><span class="line">\hline 782&amp;789&amp;123 \\\\</span><br><span class="line">\hline 67&amp;56&amp;37 \\\\</span><br><span class="line">\hline 6&amp;1&amp;8 \\\\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>$<br>\begin{array}<br>{|c|l|r|}<br>\hline 782&amp;789&amp;123 \\\\<br>\hline 67&amp;56&amp;37 \\\\<br>\hline 6&amp;1&amp;8 \\\\<br>\hline<br>\end{array}<br>$</p>
<h2 id="9ã€æµç¨‹å›¾"><a href="#9ã€æµç¨‹å›¾" class="headerlink" title="9ã€æµç¨‹å›¾"></a>9ã€æµç¨‹å›¾</h2><p><strong>éœ€å®‰è£…æ’ä»¶ï¼š<code>flowchart</code></strong><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-filter-flowchart --save </span><br></pre></td></tr></table></figure><br>åœ¨æ ¹ç›®å½•ï¼š_config.ymlåŠ å…¥<code>flowchart</code>æ”¯æŒ:<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">flowchart:</span><br><span class="line">  # raphael:   # optional, the source url of raphael.js</span><br><span class="line">  # flowchart: # optional, the source url of flowchart.js</span><br><span class="line">  options: # options used for <span class="code">`drawSVG`</span></span><br></pre></td></tr></table></figure></p>
<p>1ã€å®˜æ–¹ä¾‹å­ï¼š<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">st=&gt;start: Start|past:&gt;http://www.google.com[blank]</span><br><span class="line">e=&gt;end: End:&gt;http://www.google.com</span><br><span class="line">op1=&gt;operation: My Operation|past</span><br><span class="line">op2=&gt;operation: Stuff|current</span><br><span class="line">sub1=&gt;subroutine: My Subroutine|invalid</span><br><span class="line">cond=&gt;condition: Yes</span><br><span class="line">or No?|approved:&gt;http://www.google.com</span><br><span class="line">c2=&gt;condition: Good idea|rejected</span><br><span class="line">io=&gt;inputoutput: catch something...|request</span><br><span class="line"></span><br><span class="line">st-&gt;op1(right)-&gt;cond</span><br><span class="line">cond(yes, right)-&gt;c2</span><br><span class="line">cond(no)-&gt;sub1(left)-&gt;op1</span><br><span class="line">c2(yes)-&gt;io-&gt;e</span><br><span class="line">c2(no)-&gt;op2-&gt;e</span><br></pre></td></tr></table></figure></p>
<div id="flowchart-0" class="flow-chart"></div>


<p>2ã€æ¼”ç¤º<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">st=&gt;start: å¼€å§‹èŠ‚ç‚¹</span><br><span class="line">in=&gt;inputoutput: è¾“å…¥i</span><br><span class="line">e=&gt;end: ç»“æŸèŠ‚ç‚¹</span><br><span class="line">cond=&gt;condition: iè¢«2æ•´é™¤</span><br><span class="line">out1=&gt;inputoutput: è¾“å‡ºiæ˜¯å¥‡æ•°</span><br><span class="line">out2=&gt;inputoutput: è¾“å‡ºiæ˜¯å¶æ•°</span><br><span class="line">st(right)-&gt;in-&gt;cond</span><br><span class="line">cond(yes,right)-&gt;out2-&gt;e</span><br><span class="line">cond(no)-&gt;out1-&gt;e</span><br></pre></td></tr></table></figure></p>
<div id="flowchart-1" class="flow-chart"></div>



<h2 id="10ã€å…¶ä»–ä¸€äº›ç¬¦å·"><a href="#10ã€å…¶ä»–ä¸€äº›ç¬¦å·" class="headerlink" title="10ã€å…¶ä»–ä¸€äº›ç¬¦å·"></a>10ã€å…¶ä»–ä¸€äº›ç¬¦å·</h2><p>1ã€è™šæ•°<br>$\imath$,$\jmath$<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$\imath$</span><br><span class="line">$\jmath$</span><br></pre></td></tr></table></figure></p>
<p>2ã€å…¶ä»–ç»„åˆ<br>$2H_2O\stackrel {\mathrm {ç‚¹ç‡ƒ}}{==}2H_2 + O_2$</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$2H<span class="emphasis">_2O\stackrel &#123;\mathrm &#123;ç‚¹ç‡ƒ&#125;&#125;&#123;=&#125;H_</span>2 + O<span class="emphasis">_2$</span></span><br></pre></td></tr></table></figure>
<p>å¸Œè…Šå­—æ¯</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>å®ç°</th>
<th>å­—æ¯</th>
<th>å®ç°</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>A</td>
<td>Î±</td>
<td>\alhpa</td>
</tr>
<tr>
<td>B</td>
<td>B</td>
<td>Î²</td>
<td>\beta</td>
</tr>
<tr>
<td>Î“</td>
<td>\Gamma</td>
<td>Î³</td>
<td>\gamma</td>
</tr>
<tr>
<td>Î”</td>
<td>\Delta</td>
<td>Î´</td>
<td>\delta</td>
</tr>
<tr>
<td>E</td>
<td>E</td>
<td>Ïµ</td>
<td>\epsilon</td>
</tr>
<tr>
<td>Z</td>
<td>Z</td>
<td>Î¶</td>
<td>\zeta</td>
</tr>
<tr>
<td>H</td>
<td>H</td>
<td>Î·</td>
<td>\eta</td>
</tr>
<tr>
<td>Î˜</td>
<td>\Theta</td>
<td>Î¸</td>
<td>\theta</td>
</tr>
<tr>
<td>I</td>
<td>I</td>
<td>Î¹</td>
<td>\iota</td>
</tr>
<tr>
<td>K</td>
<td>K</td>
<td>Îº</td>
<td>\kappa</td>
</tr>
<tr>
<td>Î›</td>
<td>\Lambda</td>
<td>Î»</td>
<td>\lambda</td>
</tr>
<tr>
<td>M</td>
<td>M</td>
<td>Î¼</td>
<td>\mu</td>
</tr>
<tr>
<td>N</td>
<td>N</td>
<td>Î½</td>
<td>\nu</td>
</tr>
<tr>
<td>Î</td>
<td>\Xi</td>
<td>Î¾</td>
<td>\xi</td>
</tr>
<tr>
<td>O</td>
<td>O</td>
<td>Î¿</td>
<td>\omicron</td>
</tr>
<tr>
<td>Î </td>
<td>\Pi</td>
<td>Ï€</td>
<td>\pi</td>
</tr>
<tr>
<td>P</td>
<td>P</td>
<td>Ï</td>
<td>\rho</td>
</tr>
<tr>
<td>Î£</td>
<td>\Sigma</td>
<td>Ïƒ</td>
<td>\sigma</td>
</tr>
<tr>
<td>T</td>
<td>T</td>
<td>Ï„</td>
<td>\tau</td>
</tr>
<tr>
<td>Î¥</td>
<td>\Upsilon</td>
<td>Ï…</td>
<td>\upsilon</td>
</tr>
<tr>
<td>Î¦</td>
<td>\Phi</td>
<td>Ï•</td>
<td>\phi</td>
</tr>
<tr>
<td>X</td>
<td>X</td>
<td>Ï‡</td>
<td>\chi</td>
</tr>
<tr>
<td>Î¨</td>
<td>\Psi</td>
<td>Ïˆ</td>
<td>\psi</td>
</tr>
<tr>
<td>Î©</td>
<td>\v</td>
<td>Ï‰</td>
<td>\omega</td>
</tr>
</tbody>
</table>
</div>
<p>å‚è€ƒï¼š<br>â‘ <a href="https://www.cnblogs.com/Lo3prs/p/14021997.html">MarkDownæ•°å­¦å…¬å¼</a><br>â‘¡<a href="https://www.jianshu.com/p/e74eb43960a1">Markdownæ•°å­¦å…¬å¼è¯­æ³•</a><br>â‘¢<a href="https://github.com/bubkoo/hexo-filter-flowchart">flowcharté¡¹ç›®</a><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Start|past:>http://www.google.com[blank]
e=>end: End:>http://www.google.com
op1=>operation: My Operation|past
op2=>operation: Stuff|current
sub1=>subroutine: My Subroutine|invalid
cond=>condition: Yes
or No?|approved:>http://www.google.com
c2=>condition: Good idea|rejected
io=>inputoutput: catch something...|request

st->op1(right)->cond
cond(yes, right)->c2
cond(no)->sub1(left)->op1
c2(yes)->io->e
c2(no)->op2->e</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><textarea id="flowchart-1-code" style="display: none">st=>start: å¼€å§‹èŠ‚ç‚¹
in=>inputoutput: è¾“å…¥i
e=>end: ç»“æŸèŠ‚ç‚¹
op1=>operation: xx
op2=>operation: xx
cond=>condition: iè¢«2æ•´é™¤
sub=>subroutine: xx
out1=>inputoutput: è¾“å‡ºiæ˜¯å¥‡æ•°
out2=>inputoutput: è¾“å‡ºiæ˜¯å¶æ•°
st->in->cond
cond(yes,right)->out2->e
cond(no)->out1->e</textarea><textarea id="flowchart-1-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-1-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-1-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-1", options);</script></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Markdown</category>
        <category>Latex</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Mathjax</tag>
        <tag>Latex</tag>
        <tag>Flowchart</tag>
      </tags>
  </entry>
  <entry>
    <title>MsSQLç®€å•ä½¿ç”¨</title>
    <url>/2022/03/22/MsSQL%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“"><a href="#æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“"></a>æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">sqlcmd</span><br><span class="line"><span class="number">1</span><span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sysdatabases</span><br><span class="line"><span class="number">2</span><span class="operator">&gt;</span> go</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨æ•°æ®åº“"><a href="#ä½¿ç”¨æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨æ•°æ®åº“"></a>ä½¿ç”¨æ•°æ®åº“</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> use master</span><br><span class="line"> go</span><br><span class="line">å·²å°†æ•°æ®åº“ä¸Šä¸‹æ–‡æ›´æ”¹ä¸º &quot;master&quot;ã€‚</span><br></pre></td></tr></table></figure>
<h1 id="åˆ›å»ºæ•°æ®åº“-sqlTestï¼Œå¹¶ä½¿ç”¨"><a href="#åˆ›å»ºæ•°æ®åº“-sqlTestï¼Œå¹¶ä½¿ç”¨" class="headerlink" title="åˆ›å»ºæ•°æ®åº“ sqlTestï¼Œå¹¶ä½¿ç”¨"></a>åˆ›å»ºæ•°æ®åº“ sqlTestï¼Œå¹¶ä½¿ç”¨</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE sqlTest</span><br><span class="line">go</span><br><span class="line">use sqlTest</span><br><span class="line">go</span><br><span class="line">å·²å°†æ•°æ®åº“ä¸Šä¸‹æ–‡æ›´æ”¹ä¸º &quot;sqlTest&quot;ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">## åˆ¤æ–­å½“å‰æ•°æ®åº“æ˜¯å¦å­˜åœ¨`user_table`è¡¨</span><br><span class="line">if object_id(N<span class="string">&#x27;user_table&#x27;</span>,N<span class="string">&#x27;U&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">print <span class="string">&#x27;å­˜åœ¨&#x27;</span></span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">print <span class="string">&#x27;ä¸å­˜åœ¨&#x27;</span></span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> user_table (</span><br><span class="line">ç”¨æˆ·ID <span class="type">char</span>(<span class="number">8</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">å§“å <span class="type">varchar</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">æ€§åˆ« <span class="type">char</span>(<span class="number">2</span>)  <span class="keyword">CHECK</span>(æ€§åˆ« <span class="operator">=</span> <span class="string">&#x27;ç”·&#x27;</span> <span class="keyword">OR</span> æ€§åˆ« <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span>),</span><br><span class="line">æˆç»© <span class="type">numeric</span>(<span class="number">4</span>,<span class="number">1</span>) <span class="keyword">CHECK</span>(æˆç»© <span class="operator">&gt;=</span> <span class="number">0</span> <span class="keyword">AND</span> æˆç»© <span class="operator">&lt;=</span> <span class="number">100</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="å¤åˆ¶ä¸€ä¸ªæ•°æ®åº“ä¸­è¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“"><a href="#å¤åˆ¶ä¸€ä¸ªæ•°æ®åº“ä¸­è¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“" class="headerlink" title="å¤åˆ¶ä¸€ä¸ªæ•°æ®åº“ä¸­è¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“"></a>å¤åˆ¶ä¸€ä¸ªæ•°æ®åº“ä¸­è¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> ( <span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line">                <span class="keyword">FROM</span>    sysobjects</span><br><span class="line">                <span class="keyword">WHERE</span>   id <span class="operator">=</span> OBJECT_ID(N<span class="string">&#x27;user_table&#x27;</span>)</span><br><span class="line">                        <span class="keyword">AND</span> OBJECTPROPERTY(id, N<span class="string">&#x27;IsUserTable&#x27;</span>) <span class="operator">=</span> <span class="number">1</span> ) </span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">INTO</span> sqlTest.dbo.user_table <span class="keyword">From</span> master.dbo.user_table</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å¢åŠ æ•°æ®</span><br><span class="line">## è¿½åŠ å­—æ®µ</span><br><span class="line">```<span class="keyword">sql</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> user_table <span class="keyword">ADD</span></span><br><span class="line">cID <span class="type">INT</span> <span class="keyword">IDENTITY</span> (<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">telNumber <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line"># æŸ¥è¯¢ç»“æœ</span><br><span class="line"><span class="keyword">SELECT</span> TOP (<span class="number">10</span>) <span class="operator">*</span></span><br><span class="line">  <span class="keyword">FROM</span> [sqlTest].[dbo].[user_table]</span><br></pre></td></tr></table></figure>
<h1 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># å•è¡Œ</span><br><span class="line"> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> user_table <span class="keyword">VALUES</span> (<span class="number">100001</span>,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">98</span>)</span><br><span class="line"># å¤šè¡Œ</span><br><span class="line"> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> user_table <span class="keyword">VALUES</span> (<span class="number">100002</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">89</span>),(<span class="number">100003</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">58</span>),(<span class="number">100004</span>,<span class="string">&#x27;ä¾¯å…­&#x27;</span>,<span class="string">&#x27;ç”·&#x27;</span>,<span class="number">77</span>),(<span class="number">100005</span>,<span class="string">&#x27;å°ä¸ƒ&#x27;</span>,<span class="string">&#x27;å¥³&#x27;</span>,<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<h1 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h1><h2 id="åˆ é™¤æ•°æ®åº“ä¸­æŸä¸€è¡¨"><a href="#åˆ é™¤æ•°æ®åº“ä¸­æŸä¸€è¡¨" class="headerlink" title="åˆ é™¤æ•°æ®åº“ä¸­æŸä¸€è¡¨"></a>åˆ é™¤æ•°æ®åº“ä¸­æŸä¸€è¡¨</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> user_table</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤æŸä¸ªå­—æ®µ"><a href="#åˆ é™¤æŸä¸ªå­—æ®µ" class="headerlink" title="åˆ é™¤æŸä¸ªå­—æ®µ"></a>åˆ é™¤æŸä¸ªå­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> user_table</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> å­—æ®µå</span><br></pre></td></tr></table></figure>
<h1 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h1><h2 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> user_table <span class="keyword">SET</span> telNumber <span class="operator">=</span> <span class="string">&#x27;13987654321&#x27;</span> <span class="keyword">WHERE</span> cID <span class="operator">=</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°å­—æ®µ"><a href="#æ›´æ–°å­—æ®µ" class="headerlink" title="æ›´æ–°å­—æ®µ"></a>æ›´æ–°å­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> SP_RENAME <span class="string">&#x27;user_table.ç”µè¯å·ç &#x27;</span>,<span class="string">&#x27;è”ç³»æ–¹å¼&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP (<span class="number">1000</span>) [ç”¨æˆ·ID]</span><br><span class="line">      ,[å§“å]</span><br><span class="line">      ,[æ€§åˆ«]</span><br><span class="line">      ,[æˆç»©]</span><br><span class="line">  <span class="keyword">FROM</span> [master].[dbo].[user_table]</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®åº“å"><a href="#æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®åº“å" class="headerlink" title="æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®åº“å"></a>æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®åº“å</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name <span class="keyword">FROM</span> Master..SysDatabases <span class="keyword">ORDER</span> <span class="keyword">BY</span> Name</span><br></pre></td></tr></table></figure>
<h1 id="æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å"><a href="#æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å" class="headerlink" title="æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å"></a>æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨å</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name <span class="keyword">FROM</span> SysObjects <span class="keyword">Where</span> XType<span class="operator">=</span><span class="string">&#x27;U&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> Name</span><br><span class="line"># æˆ–è€…</span><br><span class="line"><span class="keyword">SELECT</span> Name <span class="keyword">FROM</span> Sys.Objects <span class="keyword">Where</span> XType<span class="operator">=</span><span class="string">&#x27;U&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> Name</span><br><span class="line"># æˆ–è€…</span><br><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> Sys.tables</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xtype char(2) å¯¹è±¡ç±»å‹ã€‚å¯ä»¥æ˜¯ä¸‹åˆ—å¯¹è±¡ç±»å‹ä¸­çš„ä¸€ç§ï¼š </span><br><span class="line">C = CHECK çº¦æŸ </span><br><span class="line">D = é»˜è®¤å€¼æˆ– DEFAULT çº¦æŸ </span><br><span class="line">F = FOREIGN KEY çº¦æŸ </span><br><span class="line">L = æ—¥å¿— </span><br><span class="line">FN = æ ‡é‡å‡½æ•° </span><br><span class="line">IF = å†…åµŒè¡¨å‡½æ•° </span><br><span class="line">P = å­˜å‚¨è¿‡ç¨‹ </span><br><span class="line">PK = PRIMARY KEY çº¦æŸï¼ˆç±»å‹æ˜¯ Kï¼‰ </span><br><span class="line">RF = å¤åˆ¶ç­›é€‰å­˜å‚¨è¿‡ç¨‹ </span><br><span class="line">S = ç³»ç»Ÿè¡¨ </span><br><span class="line">TF = è¡¨å‡½æ•° </span><br><span class="line">TR = è§¦å‘å™¨ </span><br><span class="line">U = ç”¨æˆ·è¡¨ </span><br><span class="line">UQ = UNIQUE çº¦æŸï¼ˆç±»å‹æ˜¯ Kï¼‰ </span><br><span class="line">V = è§†å›¾ </span><br><span class="line">X = æ‰©å±•å­˜å‚¨è¿‡ç¨‹ </span><br></pre></td></tr></table></figure>
<h1 id="æŸ¥è¯¢æŸè¡¨ä¸­çš„å­—æ®µå"><a href="#æŸ¥è¯¢æŸè¡¨ä¸­çš„å­—æ®µå" class="headerlink" title="æŸ¥è¯¢æŸè¡¨ä¸­çš„å­—æ®µå"></a>æŸ¥è¯¢æŸè¡¨ä¸­çš„å­—æ®µå</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">select</span> name <span class="keyword">from</span> syscolumns <span class="keyword">where</span> id<span class="operator">=</span>object_id(N<span class="string">&#x27;è¡¨å&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># å…¶ä»–</span></span><br><span class="line"><span class="string">`MySql`</span></span><br><span class="line"><span class="string">æŸ¥è¯¢è¡¨çš„æ‰€æœ‰å­—æ®µåï¼š</span></span><br><span class="line"><span class="string">```mysql</span></span><br><span class="line"><span class="string">select *</span></span><br><span class="line"><span class="string">from information_schema.columns </span></span><br><span class="line"><span class="string">where table_name=&#x27;</span>table_name<span class="string">&#x27; </span></span><br><span class="line"><span class="string">and table_schema=&#x27;</span>table_schema<span class="string">&#x27;</span></span><br><span class="line"><span class="string">ORDER BY ORDINAL_POSITION</span></span><br></pre></td></tr></table></figure>
<p><code>ACCESS</code><br>æŸ¥çœ‹æ‰€æœ‰è¡¨åï¼š<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> MSysObjects <span class="keyword">where</span> type<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> flags<span class="operator">=</span><span class="number">0</span></span><br></pre></td></tr></table></figure><br><code>MSysObjects</code>æ˜¯ç³»ç»Ÿå¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µæ˜¯éšè—çš„ã€‚é€šè¿‡å·¥å…·ã€é€‰é¡¹ã€è§†å›¾ã€æ˜¾ç¤ºã€ç³»ç»Ÿå¯¹è±¡å¯ä»¥ä½¿ä¹‹æ˜¾ç¤ºå‡ºæ¥ã€‚<br><code>Oracle</code><br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cname <span class="keyword">from</span> col <span class="keyword">where</span> tname<span class="operator">=</span><span class="string">&#x27;ZW_YINGYEZ&#x27;</span></span><br><span class="line"><span class="keyword">select</span> column_name <span class="keyword">from</span> user_tab_columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;ZW_YINGYEZ&#x27;</span></span><br></pre></td></tr></table></figure><br>æŸ¥è¯¢è¡¨å­—æ®µæ•°<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(column_name) <span class="keyword">from</span> user_tab_columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;è¡¨å&#x27;</span>;</span><br></pre></td></tr></table></figure></p>
<p>Sqlä¸­è·å–è¡¨ç»“æ„<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.COLUMN_NAME,a.DATA_TYPE,a.CHARACTER_MAXIMUM_LENGTH,b.value <span class="keyword">from</span> information_schema.COLUMNS <span class="keyword">as</span> a  <span class="keyword">left</span> <span class="keyword">join</span> sys.extended_properties <span class="keyword">as</span> b <span class="keyword">on</span> a.TABLE_NAME<span class="operator">=</span>OBJECT_NAME(b.major_id) <span class="keyword">and</span> a.ORDINAL_POSITION<span class="operator">=</span>b.minor_id <span class="keyword">where</span> a.TABLE_NAME<span class="operator">=</span><span class="string">&#x27;user_table&#x27;</span></span><br></pre></td></tr></table></figure><br>SQLè¯­å¥æŸ¥è¯¢æŸè¡¨ä¸­æ‰€æœ‰å­—æ®µçš„åç§°ã€ç±»å‹ã€é•¿åº¦ç­‰å±æ€§ä¿¡æ¯<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  </span><br><span class="line">å­—æ®µå<span class="operator">=</span>a.name,</span><br><span class="line">æ ‡è¯†<span class="operator">=</span><span class="keyword">case</span> <span class="keyword">when</span> COLUMNPROPERTY(a.id,a.name,<span class="string">&#x27;IsIdentity&#x27;</span>)<span class="operator">=</span><span class="number">1</span> <span class="keyword">then</span> <span class="string">&#x27;âˆš&#x27;</span><span class="keyword">else</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">end</span>,</span><br><span class="line">ä¸»é”®<span class="operator">=</span><span class="keyword">case</span> <span class="keyword">when</span> <span class="keyword">exists</span>(<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">FROM</span> sysobjects <span class="keyword">where</span> xtype<span class="operator">=</span><span class="string">&#x27;PK&#x27;</span> <span class="keyword">and</span> name <span class="keyword">in</span> (<span class="keyword">SELECT</span> name <span class="keyword">FROM</span> sysindexes <span class="keyword">WHERE</span> indid <span class="keyword">in</span>(<span class="keyword">SELECT</span> indid <span class="keyword">FROM</span> sysindexkeys <span class="keyword">WHERE</span> id <span class="operator">=</span> a.id <span class="keyword">AND</span> colid<span class="operator">=</span>a.colid))) <span class="keyword">then</span> <span class="string">&#x27;âˆš&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">end</span>,</span><br><span class="line">ç±»å‹<span class="operator">=</span>b.name,</span><br><span class="line">å ç”¨å­—èŠ‚æ•°<span class="operator">=</span>a.length,</span><br><span class="line">é•¿åº¦<span class="operator">=</span>COLUMNPROPERTY(a.id,a.name,<span class="string">&#x27;PRECISION&#x27;</span>),</span><br><span class="line">å°æ•°ä½æ•°<span class="operator">=</span>isnull(COLUMNPROPERTY(a.id,a.name,<span class="string">&#x27;Scale&#x27;</span>),<span class="number">0</span>),</span><br><span class="line">å…è®¸ç©º<span class="operator">=</span><span class="keyword">case</span> <span class="keyword">when</span> a.isnullable<span class="operator">=</span><span class="number">1</span> <span class="keyword">then</span> <span class="string">&#x27;âˆš&#x27;</span><span class="keyword">else</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">end</span>,</span><br><span class="line">é»˜è®¤å€¼<span class="operator">=</span>isnull(e.text,<span class="string">&#x27;&#x27;</span>),</span><br><span class="line">å­—æ®µè¯´æ˜<span class="operator">=</span>isnull(g.[<span class="keyword">value</span>],<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> syscolumns a</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> systypes b <span class="keyword">on</span> a.xtype<span class="operator">=</span>b.xusertype </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> sysobjects d <span class="keyword">on</span> a.id<span class="operator">=</span>d.id <span class="keyword">and</span> d.xtype<span class="operator">=</span><span class="string">&#x27;U&#x27;</span> <span class="keyword">and</span> d.name<span class="operator">&lt;&gt;</span><span class="string">&#x27;dtproperties&#x27;</span> </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> syscomments e <span class="keyword">on</span> a.cdefault<span class="operator">=</span>e.id </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> sys.extended_properties g <span class="keyword">on</span> a.id<span class="operator">=</span>g.major_id <span class="keyword">and</span> a.colid<span class="operator">=</span>g.minor_id </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> sys.extended_properties f <span class="keyword">on</span> d.id<span class="operator">=</span>f.major_id <span class="keyword">and</span> f.minor_id <span class="operator">=</span><span class="number">0</span> </span><br><span class="line"><span class="keyword">Where</span> d.name<span class="operator">=</span><span class="string">&#x27;user_table&#x27;</span></span><br><span class="line"><span class="keyword">Order</span> <span class="keyword">by</span> a.name</span><br></pre></td></tr></table></figure><br>å‚è€ƒèµ„æ–™<br><a href="https://www.cnblogs.com/beeone/p/5131479.html">SQL]å¤åˆ¶æ•°æ®åº“æŸä¸€ä¸ªè¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ä¸­</a><br><a href="http://www.pythontip.com/bigdata/post/8904">SqlServeråˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</a><br><a href="https://www.cnblogs.com/cnwhm/p/4314107.html#final">Sqlä¸­è·å–è¡¨ç»“æ„ï¼ˆå­—æ®µåç§°ï¼Œç±»å‹ï¼Œé•¿åº¦ï¼Œè¯´æ˜ï¼‰</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Mssql</category>
        <category>MsSQL</category>
      </categories>
      <tags>
        <tag>MsSQL</tag>
        <tag>Sql Server</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ç³»ç»ŸMySQL Connector/ODBCä¸‹è½½åŠå®‰è£…</title>
    <url>/2021/12/21/MySQL%20ConnectorODBC%E4%B8%8B%E8%BD%BD%E5%8F%8A%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸‹è½½Connector-ODBC"><a href="#ä¸‹è½½Connector-ODBC" class="headerlink" title="ä¸‹è½½Connector/ODBC"></a>ä¸‹è½½<code>Connector/ODBC</code></h1><p><a href="https://dev.mysql.com/downloads/connector/odbc/">Connector/ODBC 8.0.27 </a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf mysql-connector-odbc-8.0.27-linux-glibc2.12-x86-64bit.tar.gz</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/local/MySQL_OBDC_Connect &amp;&amp; <span class="built_in">mv</span> ~/ä¸‹è½½/è½¯ä»¶/debåŒ…/DatabaseTools/Mysql/mysql-connector-odbc-8.0.27-linux-glibc2.12-x86-64bit  ~/local/MySQL_OBDC_Connect</span><br></pre></td></tr></table></figure>
<h1 id="æ·»åŠ ç¯å¢ƒå˜é‡"><a href="#æ·»åŠ ç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ ç¯å¢ƒå˜é‡"></a>æ·»åŠ ç¯å¢ƒå˜é‡</h1><p>ç”¨æˆ·ç”¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><br>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/&lt;your username&gt;/local/MySQL_OBDC_Connect/lib</span><br></pre></td></tr></table></figure></p>
<h1 id="å…¶ä»–è¯´æ˜"><a href="#å…¶ä»–è¯´æ˜" class="headerlink" title="å…¶ä»–è¯´æ˜"></a>å…¶ä»–è¯´æ˜</h1><p><code>lib</code>ä¸­ä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸‰ç§æ ¼å¼ï¼ŒåŒºåˆ«ä¸ºï¼š<br><code>Libmyodbc8a.so</code>æ˜¯<code>ASCII</code>ç¼–ç æ ¼å¼<br><code>Libmyodbc8w.so</code>æ˜¯<code>UNICODE</code>ç¼–ç æ ¼å¼<br><code>Libmyodbc8s.so</code>æ˜¯ç¨‹åºå¼€å‘ä¸­é…ç½®æ•°æ®æºæä¾›ç•Œé¢çš„åŠ¨æ€é“¾æ¥åº“</p>
<p>å‚è€ƒèµ„æ–™ï¼š<br>(MySQL Connector/ODBCä¸‹è½½åŠå®‰è£…çš„å…·ä½“æ–¹æ³•)[<a href="https://baijiahao.baidu.com/s?id=1714100791494795213&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1714100791494795213&amp;wfr=spider&amp;for=pc</a>]</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>MySQL</category>
        <category>ODBC</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Debian11</tag>
        <tag>ODBC</tag>
        <tag>Connector</tag>
      </tags>
  </entry>
  <entry>
    <title>Php8.1è¿æ¥Mariadbæ•°æ®åº“åŠç®€å•æŸ¥ã€æ’ã€æ›´ã€åˆ </title>
    <url>/2022/10/29/PHP8.1%E8%BF%9E%E6%8E%A5Mariadb10%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8A%E7%AE%80%E5%8D%95%E6%9F%A5%E3%80%81%E6%8F%92%E3%80%81%E6%9B%B4%E3%80%81%E5%88%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="è¿æ¥Mariadbæ•°æ®åº“"><a href="#è¿æ¥Mariadbæ•°æ®åº“" class="headerlink" title="è¿æ¥Mariadbæ•°æ®åº“"></a>è¿æ¥Mariadbæ•°æ®åº“</h1><p>åˆ›å»ºæ•°æ®åº“<code>filesStation</code>å¹¶æ–°å»º<code>pic</code>è¡¨<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> database  development;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `pic`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `files` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `filename` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `path` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `mark` tinyint(<span class="number">3</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `scale` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `info` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>MyISAM AUTO_INCREMENT<span class="operator">=</span><span class="number">3</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><br>è¿æ¥æ–‡ä»¶<code>conn.php</code><br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$dsn</span> = <span class="string">&quot;mysql:host=localhost;dbname=filesStation;charset=utf8mb4&quot;</span>;</span><br><span class="line"><span class="comment">//$dsn = &quot;mysql:host=localhost;dbname=filesStation&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$options</span> = [</span><br><span class="line">  PDO::<span class="variable constant_">ATTR_EMULATE_PREPARES</span>   =&gt; <span class="literal">false</span>, <span class="comment">// Disable emulation mode for &quot;real&quot; prepared statements</span></span><br><span class="line">  PDO::<span class="variable constant_">ATTR_ERRMODE</span>            =&gt; PDO::<span class="variable constant_">ERRMODE_EXCEPTION</span>, <span class="comment">// Disable errors in the form of exceptions</span></span><br><span class="line">  PDO::<span class="variable constant_">ATTR_DEFAULT_FETCH_MODE</span> =&gt; PDO::<span class="variable constant_">FETCH_ASSOC</span>, <span class="comment">// Make the default fetch be an associative array</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="variable">$pdo</span> = <span class="keyword">new</span> <span class="title function_ invoke__">PDO</span>(<span class="variable">$dsn</span>, <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å&quot;</span>, <span class="string">&quot;æ•°æ®åº“å¯†ç &quot;</span>, <span class="variable">$options</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">  <span class="title function_ invoke__">error_log</span>(<span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>());</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$e</span>;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">exit</span>(<span class="string">&#x27;æ•°æ®åº“è¿æ¥å¤±è´¥&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h1 id="æ“ä½œæ•°æ®åº“"><a href="#æ“ä½œæ•°æ®åº“" class="headerlink" title="æ“ä½œæ•°æ®åº“"></a>æ“ä½œæ•°æ®åº“</h1><p>æ“ä½œæ–‡ä»¶<code>op.php</code><br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// Include the database connection file</span></span><br><span class="line"><span class="keyword">include_once</span>(<span class="string">&quot;conn.php&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// PHP class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Contact</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$id</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$filename</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$path</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$mark</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$scale</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$info</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fetch contacts (in descending order)</span></span><br><span class="line"><span class="variable">$contacts</span> = <span class="variable">$pdo</span>-&gt;<span class="title function_ invoke__">query</span>( <span class="string">&quot;SELECT * FROM pic ORDER BY id DESC&quot;</span>)-&gt;<span class="title function_ invoke__">fetchAll</span>(PDO::<span class="variable constant_">FETCH_CLASS</span>, <span class="string">&#x27;Contact&#x27;</span>);</span><br><span class="line"><span class="variable">$query</span> = <span class="title function_ invoke__">http_build_query</span>(<span class="variable">$contacts</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$query</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨ PDO::prepare æ’å…¥ pic</span></span><br><span class="line"><span class="comment">//$stmt = $pdo-&gt;prepare(&quot;INSERT INTO pic (path, mark, info) VALUES(?, ?, ?)&quot;);</span></span><br><span class="line"><span class="comment">//$stmt-&gt;execute([$path, $mark, $info]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ›´æ–°æ•°æ®</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨ PDO::prepare æ›´æ–° contacts</span></span><br><span class="line"><span class="comment">//$stmt = $pdo-&gt;prepare(&quot;UPDATE pic SET path = ?, mark = ?, info = ? WHERE id = ?&quot;);</span></span><br><span class="line"><span class="comment">//$stmt-&gt;execute([$path, $mark, $info, $id]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨ PDO::prepare åˆ é™¤ contacts</span></span><br><span class="line"><span class="comment">//$stmt = $pdo-&gt;prepare(&quot;DELETE FROM pic WHERE id = ?&quot;);</span></span><br><span class="line"><span class="comment">//$stmt-&gt;execute([$id]);</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>Linux</category>
        <category>è¿ç»´</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>Python3ä¸­import pandasåæç¤ºé”™è¯¯</title>
    <url>/2021/12/21/Python3%E4%B8%ADimport%20pandas%E5%90%8E%E6%8F%90%E7%A4%BA%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p><code>import pandas</code>åæç¤ºï¼š<br><code>Warning: Could not import the lzma module. Your installed Python is incomplete. Attempting to use lzma compression will result in a RuntimeError.
  warnings.warn(msg)</code></p>
<h1 id="è§£å†³ï¼š"><a href="#è§£å†³ï¼š" class="headerlink" title="è§£å†³ï¼š"></a>è§£å†³ï¼š</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install liblzma-dev</span><br><span class="line">pip install backports-lzma</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>/usr/local/lib/python3.10/lzma.py</code>ç¬¬27è¡Œï¼Œæ”¹æˆå¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">try:</span><br><span class="line">    from _lzma import *</span><br><span class="line">    from _lzma import _encode_filter_properties, _decode_filter_properties</span><br><span class="line">except ImportError:</span><br><span class="line">    from backports.lzma import *</span><br><span class="line">    from backports.lzma import _encode_filter_properties, _decode_filter_properties</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>è¿ç»´</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>é—®é¢˜è§£å†³</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonåˆå¹¶PDF</title>
    <url>/2019/03/25/Python%E5%90%88%E5%B9%B6PDF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2019-03-25 15:23:25</span></span><br><span class="line"><span class="comment"># @Author  : KK</span></span><br><span class="line"><span class="comment"># @Link    : http://default.com</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###For Debian10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> PyPDF2</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># find all the pdf files in current directory.</span></span><br><span class="line">    mypath = os.getcwd()</span><br><span class="line">    <span class="built_in">print</span>(mypath)</span><br><span class="line">    pattern = <span class="string">r&quot;\.pdf$&quot;</span></span><br><span class="line">    <span class="comment">#ä»¥ä¸‹æ–‡ä»¶è·¯å¾„åœ¨debian10ä¸­é€‚ç”¨</span></span><br><span class="line">    file_names_lst = [mypath + <span class="string">&#x27;/&#x27;</span>+f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(mypath) <span class="keyword">if</span> re.search(pattern, f, re.IGNORECASE) </span><br><span class="line">    <span class="keyword">and</span> <span class="keyword">not</span> re.search(<span class="string">r&#x27;Merged.pdf&#x27;</span>,f)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># merge the file.</span></span><br><span class="line">    opened_file = [<span class="built_in">open</span>(file_name,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">for</span> file_name <span class="keyword">in</span> file_names_lst]</span><br><span class="line">    pdfFM = PyPDF2.PdfFileMerger()</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> opened_file:</span><br><span class="line">        pdfFM.append(file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># output the file.</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(mypath + <span class="string">&#x27;/&#x27;</span> +<span class="string">&quot;Merged.pdf&quot;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> write_out_file:</span><br><span class="line">        pdfFM.write(write_out_file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># close all the input files.</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> opened_file:</span><br><span class="line">        file.close()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonå°†PDFæ–‡ä»¶è½¬æˆå›¾ç‰‡</title>
    <url>/2021/07/04/Python%E5%B0%86PDF%E6%96%87%E4%BB%B6%E8%BD%AC%E6%88%90%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2021-01-08 12:49:52</span></span><br><span class="line"><span class="comment"># @Author  : KY (owenyk@q.com)</span></span><br><span class="line"><span class="comment"># @Link    : http://example.org</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…fitz</span></span><br><span class="line"><span class="comment">#pip install fitz</span></span><br><span class="line"><span class="comment">#å®‰è£…ä¾èµ–PyMuPDF</span></span><br><span class="line"><span class="comment">#pip install PyMuPDF</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fitz</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pdf2png</span>(<span class="params">file_path, pic_path</span>):</span><br><span class="line">	doc = fitz.<span class="built_in">open</span>(file_path)  <span class="comment">#  æ‰“å¼€PDFæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">	<span class="keyword">for</span> pg <span class="keyword">in</span> <span class="built_in">range</span>(doc.pageCount):  <span class="comment">#éå†pdfæ¯ä¸€ä¸ªé¡µé¢</span></span><br><span class="line">	    page = doc[pg]</span><br><span class="line">	    rotate = <span class="built_in">int</span>(<span class="number">0</span>)   <span class="comment">#å›¾ç‰‡è®¡æ•°</span></span><br><span class="line"></span><br><span class="line">	   <span class="comment"># æ¯ä¸ªå°ºå¯¸çš„ç¼©æ”¾ç³»æ•°ä¸º2ï¼Œè¿™å°†ä¸ºæˆ‘ä»¬ç”Ÿæˆåˆ†è¾¨ç‡æé«˜å››å€çš„å›¾åƒã€‚</span></span><br><span class="line">	    zoom_x = <span class="number">2.0</span>    <span class="comment">#xè½´æ–¹å‘</span></span><br><span class="line">	    zoom_y = <span class="number">2.0</span>	<span class="comment">#yè½´æ–¹å‘</span></span><br><span class="line">	    trans = fitz.Matrix(zoom_x, zoom_y).preRotate(rotate)</span><br><span class="line">	    pm = page.getPixmap(matrix=trans, alpha=<span class="literal">False</span>)  <span class="comment">#è·å–ç¼©æ”¾åçš„å›¾ç‰‡</span></span><br><span class="line">	    <span class="comment">#pm.writePNG(&#x27;%s.png&#x27; % pg)</span></span><br><span class="line">	    img_name = <span class="string">&quot;img&#123;&#125;.png&quot;</span>.<span class="built_in">format</span>(rotate)         <span class="comment">#ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line">	    pm.writePNG(os.path.join(pic_path,img_name))  <span class="comment">#å†™å…¥å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&#x27;%s.png å®Œæˆ&#x27;</span> % pg)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:	</span><br><span class="line">	file_path = <span class="string">r&#x27;###.pdf&#x27;</span>  <span class="comment">#pdfæ–‡æ¡£è·¯å¾„</span></span><br><span class="line">	pic_path = <span class="string">&#x27;M:\\pic&#x27;</span>   <span class="comment">#å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">	pdf2png(file_path, pic_path)</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœä¸ä½¿ç”¨å‡½æ•°ç®€åŒ–å†™æ³•:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> fitz</span><br><span class="line"></span><br><span class="line">file_path = <span class="string">r&#x27;###.pdf&#x27;</span>  <span class="comment">#pdfæ–‡æ¡£è·¯å¾„</span></span><br><span class="line">doc = fitz.<span class="built_in">open</span>(file_path)  <span class="comment">#  æ‰“å¼€PDFæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span> pg <span class="keyword">in</span> <span class="built_in">range</span>(doc.pageCount):  <span class="comment">#éå†pdfæ¯ä¸€ä¸ªé¡µé¢</span></span><br><span class="line">    page = doc[pg]</span><br><span class="line">    rotate = <span class="built_in">int</span>(<span class="number">0</span>)   <span class="comment">#å›¾ç‰‡è®¡æ•°</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># æ¯ä¸ªå°ºå¯¸çš„ç¼©æ”¾ç³»æ•°ä¸º2ï¼Œè¿™å°†ä¸ºæˆ‘ä»¬ç”Ÿæˆåˆ†è¾¨ç‡æé«˜å››å€çš„å›¾åƒã€‚</span></span><br><span class="line">    zoom_x = <span class="number">2.0</span>    <span class="comment">#xè½´æ–¹å‘</span></span><br><span class="line">    zoom_y = <span class="number">2.0</span>	<span class="comment">#yè½´æ–¹å‘</span></span><br><span class="line">    trans = fitz.Matrix(zoom_x, zoom_y).preRotate(rotate)</span><br><span class="line">    pm = page.getPixmap(matrix=trans, alpha=<span class="literal">False</span>)  <span class="comment">#è·å–ç¼©æ”¾åçš„å›¾ç‰‡</span></span><br><span class="line">    pm.writePNG(<span class="string">&#x27;%s.png&#x27;</span> % pg)</span><br><span class="line">    <span class="comment">#img_name = &quot;img&#123;&#125;.png&quot;.format(rotate)         #ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line">    <span class="comment">#pm.writePNG(os.path.join(pic_path,img_name))  #å†™å…¥å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s.png å®Œæˆ&#x27;</span> % pg)</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·è½¬æ¢æ˜¯ä¼šå°†æ•´ä¸ªpdfé¡µé¢è½¬æˆPNGå›¾ç‰‡ï¼Œå¦‚éœ€å°†é¡µé¢ä¸­çš„éƒ¨åˆ†è½¬æ¢å›¾ç‰‡å¯å‚ç…§ä¸‹é¢ä»£ç :  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> fitz</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pdf2pic</span>(<span class="params">path, pic_path</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    # ä»pdfä¸­æå–å›¾ç‰‡</span></span><br><span class="line"><span class="string">    :param path: pdfçš„è·¯å¾„</span></span><br><span class="line"><span class="string">    :param pic_path: å›¾ç‰‡ä¿å­˜çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># æ‰“å¼€pdf</span></span><br><span class="line">    doc = fitz.<span class="built_in">open</span>(path)</span><br><span class="line">    nums = doc._getXrefLength()</span><br><span class="line">    imgcount = <span class="number">0</span> <span class="comment"># å›¾åƒè®¡æ•°</span></span><br><span class="line">   </span><br><span class="line">    <span class="comment"># éå†æ¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, nums):</span><br><span class="line">        text = doc._getXrefString(i)</span><br><span class="line">        <span class="comment"># print(i, text)</span></span><br><span class="line">        <span class="comment"># è¿‡æ»¤æ— ç”¨å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;Width 2550&#x27;</span> <span class="keyword">in</span> text) <span class="keyword">and</span> (<span class="string">&#x27;Height 3300&#x27;</span> <span class="keyword">in</span> text) <span class="keyword">or</span> (<span class="string">&#x27;thumbnail&#x27;</span> <span class="keyword">in</span> text):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">	    <span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æŸ¥æ‰¾å›¾ç‰‡</span></span><br><span class="line">	    checkXO = <span class="string">r&quot;/Type(?= */XObject)&quot;</span></span><br><span class="line">	    checkIM = <span class="string">r&quot;/Subtype(?= */Image)&quot;</span></span><br><span class="line">	    </span><br><span class="line">        isXObject = re.search(checkXO, text)</span><br><span class="line">        isImage = re.search(checkIM, text)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ä¸ç¬¦åˆæ¡ä»¶, continue</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isXObject <span class="keyword">or</span> <span class="keyword">not</span> isImage:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">		imgcount += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”Ÿæˆå›¾åƒ</span></span><br><span class="line">        pix = fitz.Pixmap(doc, i)</span><br><span class="line">		</span><br><span class="line">		<span class="comment"># ä¿å­˜å›¾åƒå</span></span><br><span class="line">        img_name = <span class="string">&quot;img&#123;&#125;.png&quot;</span>.<span class="built_in">format</span>(imgcount)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¦‚æœpix.n&lt;5,å¯ä»¥ç›´æ¥å­˜ä¸ºPNG</span></span><br><span class="line">        <span class="keyword">if</span> pix.n &lt; <span class="number">5</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                pix.writePNG(os.path.join(pic_path, img_name))</span><br><span class="line">                pix = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                pix0 = fitz.Pixmap(fitz.csRGB, pix)</span><br><span class="line">                pix0.writePNG(os.path.join(pic_path, img_name))</span><br><span class="line">                pix0 = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># pdfè·¯å¾„</span></span><br><span class="line">    path = <span class="string">r&#x27;test.pdf&#x27;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment"># ä¿å­˜çš„å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">    pic_path = <span class="string">&#x27;img&#x27;</span></span><br><span class="line">    </span><br><span class="line">    pdf2pic(path, pic_path)</span><br></pre></td></tr></table></figure>
<p>è½¬è½½äº<a href="https://www.pythonf.cn/read/149123?ivk_sa=1024320u">Pythonä½¿ç”¨Fitzåº“æå–PDFæ ¼å¼çš„å›¾åƒï¼ˆé€‚ç”¨äºå„ç§ç±»å‹çš„PDFï¼‰,åˆ©ç”¨,fitz,pdf,ä¸­,å›¾ç‰‡,é’ˆå¯¹,å¤šç§ç±»å‹
</a>   </p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pdf</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian11ä¸‹SublimeText3é…ç½®Cè¯­è¨€ç¯å¢ƒ</title>
    <url>/2021/11/09/Debian11%E4%B8%8BSublime%20Text%203%E9%85%8D%E7%BD%AEC%E8%AF%AD%E8%A8%80%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€æ–°å»ºCè¯­è¨€ç¼–è¯‘ç³»ç»Ÿ"><a href="#1ã€æ–°å»ºCè¯­è¨€ç¼–è¯‘ç³»ç»Ÿ" class="headerlink" title="1ã€æ–°å»ºCè¯­è¨€ç¼–è¯‘ç³»ç»Ÿ"></a>1ã€æ–°å»º<code>Cè¯­è¨€ç¼–è¯‘ç³»ç»Ÿ</code></h1><p>ä¾æ¬¡æ‰“å¼€ï¼š<code>å·¥å…·</code>==&gt;<code>ç¼–è¯‘ç³»ç»Ÿ</code>==&gt;<code>æ–°ç¼–è¯‘ç³»ç»Ÿ</code>(<code>Tools</code>-&gt;<code>Build System</code>-&gt;<code>New build System</code>)ï¼Œè¾“å…¥ä¸€ä¸‹å†…å®¹<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> </span><br><span class="line">    <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gcc &#x27;$&#123;file&#125;&#x27; -o &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27;&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;file_regex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;working_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;file_path&#125;&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;selector&quot;</span><span class="punctuation">:</span> <span class="string">&quot;source.c, source.c++&quot;</span><span class="punctuation">,</span> </span><br><span class="line">   </span><br><span class="line">    <span class="attr">&quot;variants&quot;</span><span class="punctuation">:</span> </span><br><span class="line">    <span class="punctuation">[</span> </span><br><span class="line">        <span class="punctuation">&#123;</span> </span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Build &amp; Run&quot;</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;x-terminal-emulator  -e bash -c \&quot;gcc &#x27;$&#123;file&#125;&#x27; -o &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27; -lm; &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27; ; read -p &#x27;\nPress ENTER or type command to continue...&#x27;\&quot;&quot;</span> </span><br><span class="line">            <span class="comment">// &quot;shell_cmd&quot;: &quot;g++ &#x27;$&#123;file&#125;&#x27; -o &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27;; &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27;&quot;   // ä¸æ‰“å¼€ç»ˆç«¯ç›´æ¥è¾“å‡ºç»“æœ</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span> </span><br><span class="line">   </span><br><span class="line">        <span class="punctuation">&#123;</span> </span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Build Only&quot;</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gcc &#x27;$&#123;file&#125;&#x27; -o &#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27;&quot;</span> </span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span> </span><br><span class="line">   </span><br><span class="line">        <span class="punctuation">&#123;</span> </span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Run Only&quot;</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;x-terminal-emulator  -e bash -c \&quot;&#x27;$&#123;file_path&#125;/$&#123;file_base_name&#125;&#x27; ; read -p &#x27;\nPress ENTER or type command to continue...&#x27;\&quot;&quot;</span> </span><br><span class="line">        <span class="punctuation">&#125;</span> </span><br><span class="line">    <span class="punctuation">]</span> </span><br><span class="line"><span class="punctuation">&#125;</span> </span><br></pre></td></tr></table></figure></p>
<h1 id="2ã€è®¾ç½®å¿«æ·é”®"><a href="#2ã€è®¾ç½®å¿«æ·é”®" class="headerlink" title="2ã€è®¾ç½®å¿«æ·é”®"></a>2ã€è®¾ç½®å¿«æ·é”®</h1><p>ä¾æ¬¡ç‚¹å‡»ï¼š<code>é¦–é€‰é¡¹</code>==&gt;<code>å¿«æ·é”®è®¾ç½®</code> ==&gt; <code>ç”¨æˆ·</code>ï¼ˆ<code>Preferences</code>-&gt;<code>Key Buildings</code> -&gt; <code>User</code>ï¼‰<br>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š(ä¸€é”®ç¼–è¯‘å¹¶è¿è¡Œ)<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> </span><br><span class="line">    <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f9&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span> </span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> </span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;variant&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Build &amp; Run&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><br> ä¸è®¾ç½®å¿«æ·é”®ï¼Œç›´æ¥<code>ctrl+b</code>ä¹Ÿå¯ä»¥è¾“å‡ºã€‚</p>
<h1 id="3ã€æ ¼å¼åŒ–æ’ä»¶coolformat"><a href="#3ã€æ ¼å¼åŒ–æ’ä»¶coolformat" class="headerlink" title="3ã€æ ¼å¼åŒ–æ’ä»¶coolformat"></a>3ã€æ ¼å¼åŒ–æ’ä»¶<code>coolformat</code></h1><p><code>CoolFormat</code>ï¼šç®€å•å¥½ç”¨çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œç›¸å½“äºç®€åŒ–ç‰ˆçš„Astyleï¼Œ<br>å¿«æ·é”®<code>ctrl+shift+p</code>==&gt;<code>install package</code>å®‰è£…<br>é»˜è®¤æ“ä½œå¿«æ·é”®ï¼š<br><code>ctrl+alt+shift+q</code>æ ¼å¼åŒ–å½“å‰æ–‡ä»¶<br><code>ctrl+alt+shift+s</code>æ ¼å¼åŒ–å½“å‰é€‰ä¸­ã€‚  </p>
<p>å‚è€ƒï¼š<br>1ã€<a href="https://www.cnblogs.com/kearon/p/7354888.html">Ubuntu / Debian / Deepinç­‰ Sublime Text 3 é…ç½®C++ç¯å¢ƒ(ä¸€é”®ç¼–è¯‘&amp;è¿è¡Œï¼Œæ ¼å¼åŒ–ä»£ç </a><br>2ã€<a href="https://www.jianshu.com/p/b16800c4772f">ä½¿ç”¨SublimeTempè‡ªå®šä¹‰Cæ–‡ä»¶æ¨¡æ¿</a></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>SublimeText3</category>
        <category>Cè¯­è¨€</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>SublimeText3</tag>
        <tag>Cè¯­è¨€ç¯å¢ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonæ‰¹é‡é‡å‘½å</title>
    <url>/2020/12/20/Python%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2020-12-19 15:02:56</span></span><br><span class="line"><span class="comment"># @Author  : KY (xxxxxx@g.com)</span></span><br><span class="line"><span class="comment"># @Link    : http://example.org</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rename</span>():</span><br><span class="line">    name = <span class="string">&quot;p&quot;</span>;</span><br><span class="line">    count = <span class="number">0</span>;</span><br><span class="line">    path = <span class="string">&quot;F:\Pictures\Assets&quot;</span> <span class="comment">#æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    filelist = os.listdir(path) <span class="comment">#è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬æ–‡ä»¶å¤¹ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> files <span class="keyword">in</span> filelist: <span class="comment">#éå†æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">        Olddir = os.path.join(path,files) <span class="comment">#åŸæ¥çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(Olddir): <span class="comment">#å¦‚æœæ˜¯æ–‡ä»¶å¤¹å°±è·³è¿‡</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        filename = os.path.splitext(files)[<span class="number">0</span>] <span class="comment">#æ–‡ä»¶å</span></span><br><span class="line">        filetype = os.path.splitext(files)[<span class="number">1</span>] <span class="comment">#æ‰©å±•å</span></span><br><span class="line">        Newdir = os.path.join(path,<span class="built_in">str</span>(name)+<span class="built_in">str</span>(count)+filetype) <span class="comment">#æ–°æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        os.rename(Olddir,Newdir) <span class="comment">#é‡æ–°å‘½å</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">rename()</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæ•ˆæœå¦‚å›¾ï¼š <img src="/pic/2020/12/Pythonæ‰¹é‡é‡å‘½å.jpg" alt="é‡å‘½å"></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>é‡å‘½å</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonç”¨requestä¸‹è½½é‡‘åº¸å°è¯´</title>
    <url>/2019/12/12/Python%E7%94%A8request%E4%B8%8B%E8%BD%BD%E9%87%91%E5%BA%B8%E5%B0%8F%E8%AF%B4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2019-03-18 13:02:32</span></span><br><span class="line"><span class="comment"># @Author  : KK (xxxxx@xxxxx.com)</span></span><br><span class="line"><span class="comment"># @Link    : http://default.com</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> urllib.request  </span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment">#get book&#x27;s chapter</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_chapter</span>(<span class="params">url</span>):</span><br><span class="line">    html = urllib.request.urlopen(url)  </span><br><span class="line">    content = html.read().decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    html.close()</span><br><span class="line">    soup = BeautifulSoup(content, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">    title = soup.find(<span class="string">&#x27;h1&#x27;</span>).text    <span class="comment">#chapter title</span></span><br><span class="line">    text = soup.find(<span class="string">&#x27;div&#x27;</span>, <span class="built_in">id</span>=<span class="string">&#x27;htmlContent&#x27;</span>)    <span class="comment">#chapter content</span></span><br><span class="line">    <span class="comment">#processing the content to get nice style</span></span><br><span class="line">    content = text.get_text(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;br/&#x27;</span>).replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;\n    &#x27;</span>)</span><br><span class="line">    content = content.replace(<span class="string">&#x27;ã€€ã€€&#x27;</span>, <span class="string">&#x27;\nã€€ã€€&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> title, <span class="string">&#x27;    &#x27;</span>+content</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    books = [<span class="string">&#x27;å°„é›•è‹±é›„ä¼ &#x27;</span>,<span class="string">&#x27;å¤©é¾™å…«éƒ¨&#x27;</span>,<span class="string">&#x27;é¹¿é¼è®°&#x27;</span>,<span class="string">&#x27;ç¥é›•ä¾ ä¾£&#x27;</span>,<span class="string">&#x27;ç¬‘å‚²æ±Ÿæ¹–&#x27;</span>,<span class="string">&#x27;ç¢§è¡€å‰‘&#x27;</span>,<span class="string">&#x27;å€šå¤©å± é¾™è®°&#x27;</span>,\</span><br><span class="line">              <span class="string">&#x27;é£ç‹å¤–ä¼ &#x27;</span>,<span class="string">&#x27;ä¹¦å‰‘æ©ä»‡å½•&#x27;</span>,<span class="string">&#x27;è¿åŸè¯€&#x27;</span>,<span class="string">&#x27;ä¾ å®¢è¡Œ&#x27;</span>,<span class="string">&#x27;è¶Šå¥³å‰‘&#x27;</span>,<span class="string">&#x27;é¸³é¸¯åˆ€&#x27;</span>,<span class="string">&#x27;ç™½é©¬å•¸è¥¿é£&#x27;</span>,\</span><br><span class="line">              <span class="string">&#x27;é›ªå±±é£ç‹&#x27;</span>]</span><br><span class="line">    order = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">9</span>]  <span class="comment">#order of books to scrapy</span></span><br><span class="line">     <span class="comment">#list to store each book&#x27;s scrapying range</span></span><br><span class="line">    page_range = [<span class="number">1</span>,<span class="number">43</span>,<span class="number">94</span>,<span class="number">145</span>,<span class="number">185</span>,<span class="number">225</span>,<span class="number">248</span>,<span class="number">289</span>,<span class="number">309</span>,<span class="number">329</span>,<span class="number">341</span>,<span class="number">362</span>,<span class="number">363</span>,<span class="number">364</span>,<span class="number">375</span>,<span class="number">385</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i,book <span class="keyword">in</span> <span class="built_in">enumerate</span>(books):</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(page_range[i],page_range[i+<span class="number">1</span>]):</span><br><span class="line">            url = <span class="string">&quot;http://jinyong.zuopinj.com/%s/%s.html&quot;</span>%(order[i],num)</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                title, chapter = get_chapter(url)</span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;F://%s.txt&#x27;</span>%book, <span class="string">&#x27;a&#x27;</span>, encoding=<span class="string">&#x27;gb18030&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                    <span class="built_in">print</span>(book+<span class="string">&#x27;:&#x27;</span>+title+<span class="string">&#x27;--&gt;å†™å…¥æˆåŠŸï¼&#x27;</span>)</span><br><span class="line">                    f.write(title+<span class="string">&#x27;\n\n\n&#x27;</span>)</span><br><span class="line">                    f.write(chapter+<span class="string">&#x27;\n\n\n&#x27;</span>)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(e) </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å…¨éƒ¨å†™å…¥å®Œæ¯•!&#x27;</span>) </span><br><span class="line">main()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Request</tag>
        <tag>BeautifulSoup</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian10å¤‡ä»½ä¸æ¢å¤MariaDBæ•°æ®åº“</title>
    <url>/2019/12/29/Debian10%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8DMariaDB%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š"><a href="#ä¸€ã€åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š" class="headerlink" title="ä¸€ã€åˆ©ç”¨mysqldumpå¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š"></a>ä¸€ã€åˆ©ç”¨<code>mysqldump</code>å¤‡ä»½ä¸æ¢å¤å‘½ä»¤ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo mysqldump -uroot -p wpDB &gt; ~/mysql-wpDB.dump  //å¤‡ä»½æ•°æ®åº“ååŠä¿å­˜è·¯å¾„</span><br><span class="line"></span><br><span class="line">$ sudo mysql -uroot  //è¿›å…¥æ•°æ®åº“</span><br><span class="line">MariaDB [(none)]&gt; create database wpDBtest; //åˆ›å»ºæµ‹è¯•æ¢å¤æ•°æ®åº“,å•åº“å¤‡ä»½éœ€å…ˆåˆ›å»ºè¯¥æ•°æ®åº“</span><br><span class="line">$ mysql -uroot -p wpDBtest &lt; ~/mysql-wpDB.dump;  //æ¢å¤æ•°æ®åº“</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸Šè¯‰å¤‡ä»½æ–¹æ¡ˆå­˜åœ¨ä¸€å®šçš„å¼Šç«¯å¦‚ï¼šç”¨æˆ·æ­£åœ¨æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ï¼Œæ•°æ®åˆ™ä¼šä¸¢å¤±ç­‰æƒ…å†µã€‚ </p>
<p>è§£å†³æ–¹æ¡ˆï¼š  </p>
<h4 id="1ã€‹åœ¨å¤‡ä»½æ•°æ®åº“è¡¨åŠ ä¸Šé”ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚"><a href="#1ã€‹åœ¨å¤‡ä»½æ•°æ®åº“è¡¨åŠ ä¸Šé”ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚" class="headerlink" title="1ã€‹åœ¨å¤‡ä»½æ•°æ®åº“è¡¨åŠ ä¸Šé”ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚"></a>1ã€‹åœ¨å¤‡ä»½æ•°æ®åº“è¡¨åŠ ä¸Šé”ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚</h4><p><code>--lock-all-tables</code>:è¯·æ±‚é”å®šæ‰€æœ‰è¡¨<br>å®ä¾‹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ mysqldump --databases wpDBtest --lock-all-tables &gt;~/wpDBtest .sql </span><br></pre></td></tr></table></figure></p>
<p><code>--single-transaction</code>:å•äº‹åŠ¡ï¼Œèƒ½å¤Ÿå¯¹<code>innodb</code>å­˜å‚¨å¼•æ“åšçƒ­å¤‡ </p>
<p><code>--events</code>:å¤‡ä»½äº‹ä»¶è°ƒåº¦å™¨ä»£ç </p>
<p><code>--routines</code>:å¤‡ä»½å­˜å‚¨è¿‡ç¨‹å’Œå­˜å‚¨å‡½æ•°</p>
<p><code>--triggers</code>:å¤‡ä»½è§¦å‘å™¨ </p>
<p>å¤‡ä»½æ—¶è¯·æ±‚é”ä¹‹åæ»šåŠ¨æ—¥å¿—ï¼š<code>--flush-logs</code></p>
<p>å¤åˆ¶æ—¶åŒæ­¥ä½ç½®æ ‡è®°ï¼š<code>--master-data=[0|1|2]</code></p>
<p>æ³¨æ„ï¼šæ¢å¤æ—¶éœ€å…³é—­äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¢å¤æˆåŠŸååˆ™å¼€å¯</p>
<p>å…³é—­äºŒè¿›åˆ¶æ—¥å¿—ï¼š<code>set session sql_log_bin=0</code></p>
<p>å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼š<code>set session sql_log_bin=1</code></p>
<h4 id="2ã€‹é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š"><a href="#2ã€‹é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š" class="headerlink" title="2ã€‹é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š"></a>2ã€‹é”è¡¨å¤‡ä»½æ­¥éª¤ï¼š</h4><h5 id="1-é”è¡¨å¹¶ä¸”ç»™åªè¯»æƒé™"><a href="#1-é”è¡¨å¹¶ä¸”ç»™åªè¯»æƒé™" class="headerlink" title="1)é”è¡¨å¹¶ä¸”ç»™åªè¯»æƒé™"></a>1)é”è¡¨å¹¶ä¸”ç»™åªè¯»æƒé™</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;flush tables with read lock;</span><br></pre></td></tr></table></figure>
<h5 id="2-æ»šåŠ¨æ—¥å¿—"><a href="#2-æ»šåŠ¨æ—¥å¿—" class="headerlink" title="2)æ»šåŠ¨æ—¥å¿—"></a>2)æ»šåŠ¨æ—¥å¿—</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;flush logs;</span><br></pre></td></tr></table></figure>
<h5 id="3-æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ä¿¡æ¯"><a href="#3-æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ä¿¡æ¯" class="headerlink" title="3)æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ä¿¡æ¯"></a>3)æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ä¿¡æ¯</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;show master status; </span><br></pre></td></tr></table></figure>
<h5 id="4-ä½¿ç”¨mysqldumpè¿›è¡Œæ•°æ®å¤‡ä»½"><a href="#4-ä½¿ç”¨mysqldumpè¿›è¡Œæ•°æ®å¤‡ä»½" class="headerlink" title="4)ä½¿ç”¨mysqldumpè¿›è¡Œæ•°æ®å¤‡ä»½"></a>4)ä½¿ç”¨<code>mysqldump</code>è¿›è¡Œæ•°æ®å¤‡ä»½</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ mysqldump --databases wpDBtest &gt;/tmp/wpDBtest.sql</span><br></pre></td></tr></table></figure>
<h5 id="5-å¤‡ä»½å®Œæˆä¹‹ååˆ™éœ€è§£é”"><a href="#5-å¤‡ä»½å®Œæˆä¹‹ååˆ™éœ€è§£é”" class="headerlink" title="5)å¤‡ä»½å®Œæˆä¹‹ååˆ™éœ€è§£é”"></a>5)å¤‡ä»½å®Œæˆä¹‹ååˆ™éœ€è§£é”</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;unlock tables; </span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤è¡Œå¤‡ä»½å®ä¾‹å¦‚ä¸‹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysqldump -p --databases wpDBtest --lock-all-tables --flush-logs &gt;/home/yk/wpDBtest2.sql </span><br><span class="line">mysqldump -p --databases wpDBtest --single-trasaction --flush-logs &gt;~/wpDBtest3.sql </span><br><span class="line">mysqldump -p --databases wpDBtest --lock-all-tables --flush-logs --master-data=2 &gt;~/wpDBtest4.sql</span><br></pre></td></tr></table></figure></p>
<h3 id="2ã€‹æŸ¥çœ‹æ¢å¤çš„æ•°æ®"><a href="#2ã€‹æŸ¥çœ‹æ¢å¤çš„æ•°æ®" class="headerlink" title="2ã€‹æŸ¥çœ‹æ¢å¤çš„æ•°æ®"></a>2ã€‹æŸ¥çœ‹æ¢å¤çš„æ•°æ®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo mysql -uroot  //è¿›å…¥æ•°æ®åº“ </span><br><span class="line">$ use wpDBtest;   /é€‰æ‹©æŸ¥çœ‹æ•°æ®åº“</span><br><span class="line">MariaDB [wpDBtest]&gt; select * from wp_options where option_name in(&quot;siteurl&quot;,&quot;home&quot;); //æŸ¥çœ‹æ¢å¤ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<h2 id="äºŒã€ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š"><a href="#äºŒã€ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š" class="headerlink" title="äºŒã€ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š"></a>äºŒã€ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤å‘½ä»¤ï¼š</h2><h3 id="1ã€‹å¼€å¯binlog"><a href="#1ã€‹å¼€å¯binlog" class="headerlink" title="1ã€‹å¼€å¯binlog"></a>1ã€‹å¼€å¯<code>binlog</code></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo vim /etc/alternatives/my.cnf  //æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œå¼€å¯binlog</span><br><span class="line">[mysqld]</span><br><span class="line">log_bin=mysql-bin</span><br></pre></td></tr></table></figure>
<h3 id="2ã€‹-æŸ¥çœ‹log-binæ˜¯å¦å¼€å¯"><a href="#2ã€‹-æŸ¥çœ‹log-binæ˜¯å¦å¼€å¯" class="headerlink" title="2ã€‹//æŸ¥çœ‹log_binæ˜¯å¦å¼€å¯"></a>2ã€‹//æŸ¥çœ‹<code>log_bin</code>æ˜¯å¦å¼€å¯</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt;  show variables like &#x27;log_bin&#x27;;</span><br></pre></td></tr></table></figure>
<p>//æŸ¥çœ‹äºŒè¿›åˆ¶<code>log</code>ï¼Œ<code>--no-defaults</code>é¿å…å‡ºç°å­—ç¬¦é—®é¢˜é”™è¯¯<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo mysqlbinlog --no-defaults /var/lib/mysql/mysql-bin.000001;</span><br></pre></td></tr></table></figure></p>
<h3 id="3ã€‹æµ‹è¯•è¿‡ç¨‹"><a href="#3ã€‹æµ‹è¯•è¿‡ç¨‹" class="headerlink" title="3ã€‹æµ‹è¯•è¿‡ç¨‹"></a>3ã€‹æµ‹è¯•è¿‡ç¨‹</h3><h4 id="1ã€åˆ›å»ºæµ‹è¯•æ•°æ®åº“å¹¶æ–°å¢è¡¨å’Œè®°å½•"><a href="#1ã€åˆ›å»ºæµ‹è¯•æ•°æ®åº“å¹¶æ–°å¢è¡¨å’Œè®°å½•" class="headerlink" title="1ã€åˆ›å»ºæµ‹è¯•æ•°æ®åº“å¹¶æ–°å¢è¡¨å’Œè®°å½•"></a>1ã€åˆ›å»ºæµ‹è¯•æ•°æ®åº“å¹¶æ–°å¢è¡¨å’Œè®°å½•</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [wpDBtest]&gt; create database testDB;</span><br><span class="line">MariaDB [testDB]&gt; create table testtable (id int null, name varchar(255) null);</span><br><span class="line">MariaDB [(none)]&gt; source ~/wpDBtest-re.sql</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(1,&quot;xiaoming&quot;);</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(2,&quot;wang&quot;);</span><br><span class="line">MariaDB [testDB]&gt; insert into testtable values(3,&quot;ç‹&quot;);</span><br></pre></td></tr></table></figure>
<h4 id="2ã€åˆ é™¤ä¸€æ¡æµ‹è¯•æ•°æ®"><a href="#2ã€åˆ é™¤ä¸€æ¡æµ‹è¯•æ•°æ®" class="headerlink" title="2ã€åˆ é™¤ä¸€æ¡æµ‹è¯•æ•°æ®"></a>2ã€åˆ é™¤ä¸€æ¡æµ‹è¯•æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [testDB]&gt; delete from testtable where id =2;</span><br><span class="line">##MariaDB [testDB]&gt; delete from testtable;</span><br><span class="line">##Query OK, 5 rows affected (0.027 sec)</span><br><span class="line">MariaDB [testDB]&gt; select * from testtable; //æ˜¾ç¤ºå¦‚ä¸‹ï¼š</span><br><span class="line">+------+----------+</span><br><span class="line">| id   | name     |</span><br><span class="line">+------+----------+</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">+------+----------+</span><br><span class="line">2 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure>
<h4 id="3ã€å¯¼å‡ºäºŒè¿›åˆ¶logä¸ºsql-database-testDB-æŒ‡å®šå¯¼å‡ºæ•°æ®åº“testDBçš„æ•°æ®"><a href="#3ã€å¯¼å‡ºäºŒè¿›åˆ¶logä¸ºsql-database-testDB-æŒ‡å®šå¯¼å‡ºæ•°æ®åº“testDBçš„æ•°æ®" class="headerlink" title="3ã€å¯¼å‡ºäºŒè¿›åˆ¶logä¸ºsql,--database=testDB æŒ‡å®šå¯¼å‡ºæ•°æ®åº“testDBçš„æ•°æ®"></a>3ã€å¯¼å‡ºäºŒè¿›åˆ¶<code>log</code>ä¸º<code>sql</code>,<code>--database=testDB</code> æŒ‡å®šå¯¼å‡ºæ•°æ®åº“<code>testDB</code>çš„æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo  mysqlbinlog --no-defaults --database=testDB /var/lib/mysql/mysql-bin.000001&gt;~/testDB.sql;</span><br></pre></td></tr></table></figure>
<h4 id="4ã€è¿›å…¥-æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åŸæ•°æ®å¹¶å¦å­˜testDB-re-sql"><a href="#4ã€è¿›å…¥-æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åŸæ•°æ®å¹¶å¦å­˜testDB-re-sql" class="headerlink" title="4ã€è¿›å…¥~/æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åŸæ•°æ®å¹¶å¦å­˜testDB-re.sql"></a>4ã€è¿›å…¥<code>~/</code>æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åŸæ•°æ®å¹¶å¦å­˜<code>testDB-re.sql</code></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cp testDB.sql testDB-re.sql</span><br><span class="line">$ sudo vim testDB-re.sql  //æ‰“å¼€sqlæ–‡ä»¶ï¼Œåˆ é™¤å…¶ä¸­â€œdelete from testtable where id =2â€è¯­å¥</span><br></pre></td></tr></table></figure>
<h4 id="5ã€è¿›å…¥mariadbï¼Œæ¢å¤æ•°æ®"><a href="#5ã€è¿›å…¥mariadbï¼Œæ¢å¤æ•°æ®" class="headerlink" title="5ã€è¿›å…¥mariadbï¼Œæ¢å¤æ•°æ®"></a>5ã€è¿›å…¥<code>mariadb</code>ï¼Œæ¢å¤æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MariaDB [testDB]&gt; source ~/testDB-re.sql</span><br><span class="line">MariaDB [testDB]&gt; select * from testtable;</span><br><span class="line">+------+----------+</span><br><span class="line">| id   | name     |</span><br><span class="line">+------+----------+</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">|    1 | xiaoming |</span><br><span class="line">|    2 | wang     |</span><br><span class="line">|    3 | ç‹       |</span><br><span class="line">+------+----------+</span><br><span class="line">5 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure>
<p>å…³äº<strong>å‰æœŸåŸºç¡€ä»‹ç»è¯·å‚è€ƒ</strong><br><a href="../../../../2021/08/17/Mariadbæ•°æ®åº“å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€å¤‡ä»½åŠæ¢å¤/">Debian10ä¸‹MariaDB/MySQLæ•°æ®åº“å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€å¤‡ä»½åŠæ¢å¤</a></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://blog.51cto.com/purify/1860516">mariadbäºŒè¿›åˆ¶æ—¥å¿—å’Œå¤‡ä»½æ¢å¤</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è¿ç»´</category>
        <category>MariaDB</category>
        <category>å¤‡ä»½å’Œæ¢å¤</category>
      </categories>
      <tags>
        <tag>Debian</tag>
        <tag>MariaDB</tag>
        <tag>å¤‡ä»½</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Windows10ä¸Šå®‰è£…scoop</title>
    <url>/2022/03/07/Scoop%E5%AE%89%E8%A3%85%E5%92%8C%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="scoopå®‰è£…"><a href="#scoopå®‰è£…" class="headerlink" title="scoopå®‰è£…"></a><code>scoop</code>å®‰è£…</h1><p>è®¾ç½®<code>scoop</code>ç¯å¢ƒå˜é‡<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$env</span>:SCOOP=<span class="string">&#x27;D:\Applications\Scoop&#x27;</span></span><br><span class="line">[Environment]::SetEnvironmentVariable(<span class="string">&#x27;SCOOP&#x27;</span>,<span class="variable">$env</span>:SCOOP,<span class="string">&#x27;User&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…è®¾ç½®<code>scoop global</code> ç¯å¢ƒå˜é‡<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$env</span>:SCOOP_GLOBAL=<span class="string">&#x27;D:\Applications\Scoop&#x27;</span></span><br><span class="line">[Environment]::SetEnvironmentVariable(<span class="string">&#x27;SCOOP_GLOBAL&#x27;</span>,<span class="variable">$env</span>:SCOOP_GLOBAL,<span class="string">&#x27;User&#x27;</span>)</span><br><span class="line">è¿™ä¸ªç›®å½•ä¹Ÿæ˜¯Scoopå®‰è£…ç›®å½•çš„é»˜è®¤ç›®å½•ï¼ˆå®‰è£…åˆ°å½“å‰ç”¨æˆ·ï¼‰ï¼Œè¿˜å¯ä»¥ä¿®æ”¹å…¨å±€å®‰è£…çš„ç›®å½•ï¼š</span><br><span class="line"><span class="variable">$env</span>:SCOOP_GLOBAL=<span class="string">&#x27;D:\GLOBALApplications\Scoop&#x27;</span></span><br><span class="line">[Environment]::SetEnvironmentVariable(<span class="string">&#x27;SCOOP_GLOBAL&#x27;</span>, <span class="variable">$env</span>:SCOOP_GLOBAL, <span class="string">&#x27;Machine&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…å‘½ä»¤"><a href="#å®‰è£…å‘½ä»¤" class="headerlink" title="å®‰è£…å‘½ä»¤"></a>å®‰è£…å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> Invoke-Expression (New-Object System.Net.WebClient).DownloadString(<span class="string">&#x27;https://get.scoop.sh&#x27;</span>)</span><br><span class="line">Initializing...</span><br><span class="line">Downloading scoop...</span><br><span class="line">Extracting...</span><br><span class="line">Creating shim...</span><br><span class="line">Downloading main bucket...</span><br><span class="line">Extracting...</span><br><span class="line">Adding D:\Applications\Scoop\shims to your path.</span><br><span class="line"><span class="string">&#x27;lastupdate&#x27;</span> has been <span class="built_in">set</span> to <span class="string">&#x27;2022-03-07T17:56:17.3046949+08:00&#x27;</span></span><br><span class="line">Scoop was installed successfully!</span><br><span class="line">Type <span class="string">&#x27;scoop help&#x27;</span> <span class="keyword">for</span> instructions.</span><br><span class="line"><span class="comment">## æˆ–è€…</span></span><br><span class="line">iwr -useb get.scoop.sh|iex</span><br></pre></td></tr></table></figure>
<h1 id="æ·»åŠ bucket"><a href="#æ·»åŠ bucket" class="headerlink" title="æ·»åŠ bucket"></a>æ·»åŠ <code>bucket</code></h1><p>æœ¬èº«çš„<code>main bucket</code>æºå¾ˆå°‘ï¼Œæ•…å¢åŠ æ–°çš„ä¸€ä¸ªè¾ƒå¤šçš„<code>bucket</code></p>
<h2 id="åˆ—å‡ºå·²çŸ¥çš„bucket"><a href="#åˆ—å‡ºå·²çŸ¥çš„bucket" class="headerlink" title="åˆ—å‡ºå·²çŸ¥çš„bucket"></a>åˆ—å‡ºå·²çŸ¥çš„<code>bucket</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scoop bucket known</span><br><span class="line">main</span><br><span class="line">extras</span><br><span class="line">versions</span><br><span class="line">nirsoft</span><br><span class="line">php</span><br><span class="line">nerd-fonts</span><br><span class="line">nonportable</span><br><span class="line">java</span><br><span class="line">games</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ é¢å¤–çš„<code>å®‰è£…æº</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scoop bucket add extras</span><br><span class="line">ã€€ã€€æ‰§è¡ŒæˆåŠŸå±•ç¤ºï¼š</span><br><span class="line"></span><br><span class="line">Checking repo... ok</span><br><span class="line">The extras bucket was added successfully.</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…è½¯ä»¶"><a href="#å®‰è£…è½¯ä»¶" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h1><h2 id="å®‰è£…è½¯ä»¶-1"><a href="#å®‰è£…è½¯ä»¶-1" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scoop install -g [appçš„åç§°]</span><br><span class="line"><span class="comment">## æˆ‘è¿™é‡Œ-g éœ€è¦adminæƒé™ï¼Œå–æ¶ˆ-gå¯å®‰è£…</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scoop install 7zip</span><br><span class="line">WARN  Purging previous failed installation of 7zip.</span><br><span class="line">Uninstalling <span class="string">&#x27;7zip&#x27;</span> ().</span><br><span class="line"><span class="string">&#x27;7zip&#x27;</span> was uninstalled.</span><br><span class="line">Installing <span class="string">&#x27;7zip&#x27;</span> (21.07) [64bit]</span><br><span class="line">7z2107-x64.msi (1.8 MB) [===================================] 100%</span><br><span class="line">Checking <span class="built_in">hash</span> of 7z2107-x64.msi ... ok.</span><br><span class="line">Extracting 7z2107-x64.msi ... <span class="keyword">done</span>.</span><br><span class="line">Running pre-install script...</span><br><span class="line">op\apps\7zip\21.07</span><br><span class="line">Creating shortcut <span class="keyword">for</span> 7-Zip (7zFM.exe)</span><br><span class="line">Persisting Codecs</span><br><span class="line">Persisting Formats</span><br><span class="line"><span class="string">&#x27;7zip&#x27;</span> (21.07) was installed successfully!</span><br><span class="line">Notes</span><br><span class="line"><span class="string">&quot;D:\Applications\Scoop\apps\7zip\current\install-context.reg&quot;</span></span><br><span class="line">è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯å°†7zipæ·»åŠ åˆ°å³é”®</span><br><span class="line">D:\Applications\Scoop\apps\7zip\current\install-context.reg</span><br><span class="line">ä¹Ÿå¯ä»¥æ‰“å¼€â€œD:\Applications\Scoop\apps\7zip\21.07â€æ–‡ä»¶å¤¹é‡Œé¢çš„</span><br><span class="line">7zFM.exe</span><br></pre></td></tr></table></figure><br>åœ¨<code>å·¥å…·--&gt;é€‰é¡¹--&gt;7-zip</code>é€‰ä¸­æ·»åŠ åˆ°â€<code>å³é”®</code>â€œ</p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Scoop</tag>
      </tags>
  </entry>
  <entry>
    <title>Aria2åœ¨Debian11ä¸‹çš„é…ç½®</title>
    <url>/2021/08/25/Aria2%E5%9C%A8Debian11%E4%B8%8B%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€aria2çš„å®‰è£…"><a href="#ä¸€ã€aria2çš„å®‰è£…" class="headerlink" title="ä¸€ã€aria2çš„å®‰è£…"></a>ä¸€ã€<code>aria2</code>çš„å®‰è£…</h1><h2 id="ï¼ˆä¸€ï¼‰å®‰è£…aria2å‘½ä»¤ï¼š"><a href="#ï¼ˆä¸€ï¼‰å®‰è£…aria2å‘½ä»¤ï¼š" class="headerlink" title="ï¼ˆä¸€ï¼‰å®‰è£…aria2å‘½ä»¤ï¼š"></a>ï¼ˆä¸€ï¼‰å®‰è£…<code>aria2</code>å‘½ä»¤ï¼š</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt update</span><br><span class="line">$ sudo apt upgrade</span><br><span class="line">$ sudo apt install aria2</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆäºŒï¼‰é…ç½®aria2å‘½ä»¤ï¼š"><a href="#ï¼ˆäºŒï¼‰é…ç½®aria2å‘½ä»¤ï¼š" class="headerlink" title="ï¼ˆäºŒï¼‰é…ç½®aria2å‘½ä»¤ï¼š"></a>ï¼ˆäºŒï¼‰é…ç½®<code>aria2</code>å‘½ä»¤ï¼š</h2><h3 id="1ã€è®¾ç½®aria2cé…ç½®æ–‡ä»¶"><a href="#1ã€è®¾ç½®aria2cé…ç½®æ–‡ä»¶" class="headerlink" title="1ã€è®¾ç½®aria2cé…ç½®æ–‡ä»¶"></a>1ã€è®¾ç½®<code>aria2c</code>é…ç½®æ–‡ä»¶</h3><p><code>sudo vim /root/aria2/aria2.conf</code></p>
<p>è¾“å…¥ä»¥ä¸‹åŸºæœ¬é…ç½®ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dir=~/ä¸‹è½½/aria2Download </span><br><span class="line">disable-ipv6=true </span><br><span class="line">enable-rpc=true </span><br><span class="line">rpc-allow-origin-all=true </span><br><span class="line">rpc-listen-all=true </span><br><span class="line">rpc-listen-port=9800 </span><br><span class="line">rpc-secret=123456 </span><br><span class="line">continue=true </span><br><span class="line">input-file=~/æ–‡æ¡£/aria2/aria2.session </span><br><span class="line">save-session=~/æ–‡æ¡£/aria2/aria2.session </span><br><span class="line">max-concurrent-downloads=5 </span><br><span class="line">max-connection-per-server=16</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­ <code>dir</code> ä¸ºä¸‹è½½ç›®å½•ï¼›<br><code>rpc-listen-port</code> ä¸ºç›‘å¬ç«¯å£ï¼Œéšåé…ç½® <code>WebUI</code>  æ—¶éœ€è¦ç”¨åˆ°ï¼Œå¯ä»¥ä»»æ„è®¾ç½®ï¼›<br><code>rpc-secret</code> ä¸ºå£ä»¤ï¼ŒåŒæ ·ç”¨äº <code>WebUI</code> ä¸­ï¼›<br>è€Œ <code>input-file</code> å’Œ <code>save-session</code> åˆ†åˆ«ç”¨äºè¯»å–å’Œä¿å­˜æ–­ç‚¹ç»­ä¼ ä¿¡æ¯ã€‚<br>åœ¨ç¬¬ä¸€æ¬¡å®‰è£…åéœ€è¦æ‰‹åŠ¨åˆ›å»ºè¿™ä¸ªè‡ªåŠ¨ä¿å­˜æ–‡ä»¶ã€‚</p>
<h2 id="2ã€è®¾ç½®aria2cå¼€æœºå¯åŠ¨"><a href="#2ã€è®¾ç½®aria2cå¼€æœºå¯åŠ¨" class="headerlink" title="2ã€è®¾ç½®aria2cå¼€æœºå¯åŠ¨"></a>2ã€è®¾ç½®<code>aria2c</code>å¼€æœºå¯åŠ¨</h2><h3 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h3><p>ä¿å­˜å¥½ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€ <code>/etc/rc.local</code> ï¼Œåœ¨ <code>exit 0</code> ä¹‹å‰æ·»åŠ ä¸€è¡Œå‘½ä»¤ç”¨äºå¼€æœºå¯åŠ¨ <code>Aria2</code>ï¼ˆ<strong>-Då‚æ•°åå°è¿è¡Œ</strong>ï¼‰ï¼š</p>
<h4 id="ï¼ˆ1ï¼‰æ‰‹å·¥æ·»åŠ ä¸€ä¸ª-etc-rc-local-æ–‡ä»¶"><a href="#ï¼ˆ1ï¼‰æ‰‹å·¥æ·»åŠ ä¸€ä¸ª-etc-rc-local-æ–‡ä»¶" class="headerlink" title="ï¼ˆ1ï¼‰æ‰‹å·¥æ·»åŠ ä¸€ä¸ª /etc/rc.local æ–‡ä»¶"></a>ï¼ˆ1ï¼‰æ‰‹å·¥æ·»åŠ ä¸€ä¸ª <code>/etc/rc.local</code> æ–‡ä»¶</h4><p>å› ä¸º<code>debian11</code>æ²¡æœ‰è¿™é¡¹ç›®å½•éœ€è¦æ–°å»ºå¹¶è¿è¡Œï¼Œå‚è€ƒä»¥ä¸‹å†…å®¹ï¼š<br>ç”±äºæŸäº›è½¯ä»¶å¹¶æ²¡æœ‰å¢åŠ å¼€å¯å¯åŠ¨çš„æœåŠ¡ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦æ‰‹å·¥æ·»åŠ ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯æ¨èæ·»åŠ å‘½ä»¤åˆ° <code>/etc/rc.local</code>æ–‡ä»¶ï¼Œ<br>ä½†æ˜¯<code>Debian 9</code>é»˜è®¤ä¸å¸¦<code>/etc/rc.local</code>æ–‡ä»¶ï¼Œè€Œ<code>rc.local</code>æœåŠ¡å´è¿˜æ˜¯è‡ªå¸¦çš„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> /lib/systemd/system/rc.local.service` </span><br></pre></td></tr></table></figure>
<p>//æŸ¥çœ‹<code>rc.local</code>æœåŠ¡ï¼Œä¼šæ˜¾ç¤ºå­˜åœ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl status rc-local`   </span><br></pre></td></tr></table></figure>
<p>//æŸ¥è¯¢çŠ¶æ€çœ‹åˆ°é»˜è®¤å…³é—­çš„</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹å·¥æ·»åŠ ä¸€ä¸ª <code>/etc/rc.local</code> æ–‡ä»¶,è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt;/etc/rc.local</span></span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh -e</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will &quot;exit 0&quot; on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line">/usr/bin/aria2c --conf-path=/root/aria2/aria2.conf -D</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<h4 id="ï¼ˆ2ï¼‰ä¿å­˜åï¼Œèµ‹æƒé™ï¼Œå‘½ä»¤ï¼š"><a href="#ï¼ˆ2ï¼‰ä¿å­˜åï¼Œèµ‹æƒé™ï¼Œå‘½ä»¤ï¼š" class="headerlink" title="ï¼ˆ2ï¼‰ä¿å­˜åï¼Œèµ‹æƒé™ï¼Œå‘½ä»¤ï¼š"></a>ï¼ˆ2ï¼‰ä¿å­˜åï¼Œèµ‹æƒé™ï¼Œå‘½ä»¤ï¼š</h4><p><code># chmod +x /etc/rc.local</code></p>
<h4 id="ï¼ˆ3ï¼‰æ¥ç€å¯åŠ¨-rc-local-æœåŠ¡"><a href="#ï¼ˆ3ï¼‰æ¥ç€å¯åŠ¨-rc-local-æœåŠ¡" class="headerlink" title="ï¼ˆ3ï¼‰æ¥ç€å¯åŠ¨ rc-local æœåŠ¡"></a>ï¼ˆ3ï¼‰æ¥ç€å¯åŠ¨ <code>rc-local</code> æœåŠ¡</h4><p><code># systemctl start rc-local    //å¯åŠ¨</code></p>
<p><code># systemctl status rc-local   //æŸ¥è¯¢çŠ¶æ€</code></p>
<p>ä»¥ä¸Šå†…å®¹å‚è€ƒï¼š[<a href="https://www.cnblogs.com/flymeng/p/7901062.html">Debian 9.x â€œstretchâ€ è§£å†³ /etc/rc.local å¼€æœºå¯åŠ¨é—®é¢˜</a>]:</p>
<h3 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h3><p>è®¾ç½®å¼€æœºå¯åŠ¨å¹¶é€šè¿‡è„šæœ¬æ§åˆ¶<code>aria2c</code>é‡å¯/åœæ­¢/æŸ¥çœ‹çŠ¶æ€</p>
<h4 id="ï¼ˆ1ï¼‰å»ºç«‹è„šæœ¬æ–‡ä»¶ï¼Œè·¯å¾„æ˜¯-etc-init-d-aria2c"><a href="#ï¼ˆ1ï¼‰å»ºç«‹è„šæœ¬æ–‡ä»¶ï¼Œè·¯å¾„æ˜¯-etc-init-d-aria2c" class="headerlink" title="ï¼ˆ1ï¼‰å»ºç«‹è„šæœ¬æ–‡ä»¶ï¼Œè·¯å¾„æ˜¯/etc/init.d/aria2c"></a>ï¼ˆ1ï¼‰å»ºç«‹è„šæœ¬æ–‡ä»¶ï¼Œè·¯å¾„æ˜¯<code>/etc/init.d/aria2c</code></h4><p>å‘½ä»¤ï¼š<br><code>$ sudo vim /etc/init.d/aria2c</code><br>è¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜[<code>aria2</code>é…ç½®çš„è·¯å¾„æ ¹æ®è‡ªå·±æ–‡ä»¶è·¯å¾„é…ç½®]ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"><span class="comment"># Provides: aria2</span></span><br><span class="line"><span class="comment"># Required-Start: $remote_fs $network</span></span><br><span class="line"><span class="comment"># Required-Stop: $remote_fs $network</span></span><br><span class="line"><span class="comment"># Default-Start: 2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop: 0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description: Aria2 Downloader</span></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line"></span><br><span class="line"> <span class="built_in">echo</span> -n <span class="string">&quot;å·²å¼€å¯Aria2c&quot;</span></span><br><span class="line"> aria2c --conf-path=/root/aria2/aria2.conf -D</span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line"></span><br><span class="line"> <span class="built_in">echo</span> -n <span class="string">&quot;å·²å…³é—­Aria2c&quot;</span></span><br><span class="line"> killall aria2c</span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line"></span><br><span class="line"> killall aria2c</span><br><span class="line">sudo -u pi aria2c --conf-path=/root/aria2/aria2.conf -D</span><br><span class="line"><span class="comment">#sudo -uåé¢çš„æ˜¯ä½ æ­£åœ¨ä½¿ç”¨çš„ç”¨æˆ·åï¼Œç”¨debiançš„æ˜¯piï¼ˆæ²¡æ”¹ç”¨æˆ·çš„è¯ï¼‰</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<h4 id="ï¼ˆ2ï¼‰æˆæƒï¼š"><a href="#ï¼ˆ2ï¼‰æˆæƒï¼š" class="headerlink" title="ï¼ˆ2ï¼‰æˆæƒï¼š"></a>ï¼ˆ2ï¼‰æˆæƒï¼š</h4><p>å‘½ä»¤ï¼š<br>  <code>$ sudo chmod 755 /etc/init.d/aria2c</code></p>
<h4 id="ï¼ˆ3ï¼‰å°†aria2cæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨"><a href="#ï¼ˆ3ï¼‰å°†aria2cæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨" class="headerlink" title="ï¼ˆ3ï¼‰å°†aria2cæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨"></a>ï¼ˆ3ï¼‰å°†<code>aria2c</code>æœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨</h4><p>æ›´æ–°å¯åŠ¨è„šæœ¬å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-rc.d aria2c defaults</span><br></pre></td></tr></table></figure><br>å¯åŠ¨ã€åœæ­¢ã€æŸ¥è¯¢çŠ¶æ€å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systemctl start/stop aria2c   <span class="comment">##å¯åŠ¨/åœæ­¢aria2c</span></span><br><span class="line">$ systemctl status aria2c       <span class="comment">##æŸ¥è¯¢ç¨‹åºè¿è¡Œæƒ…å†µ</span></span><br></pre></td></tr></table></figure></p>
<h3 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /lib/systemd/system/aria2@.service</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">    Description=Aria2 Service for %i.</span><br><span class="line">    After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">    #PIDFile=/run/aria2.pid</span><br><span class="line">    User=%i</span><br><span class="line">    ExecStart=/usr/bin/aria2c -c --conf-path=/home/%i/.aria2/aria2/aria2.conf # æ³¨æ„ä½¿ç”¨è‡ªå·±çš„è·¯å¾„å’Œæ–‡ä»¶å</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">    WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><br>ç„¶åè¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> aria2@.service</span><br></pre></td></tr></table></figure><br>å³å¯å¼€æœºå¯åŠ¨ã€‚<br>å…¶ä»–å‘½ä»¤ï¼š<br><strong><code>user</code></strong>æ˜¯ç™»å½•çš„ç”¨æˆ·å<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl start/stop aria2@user  <span class="comment">##å¯åŠ¨/åœæ­¢aria2</span></span><br><span class="line">sudo systemctl status aria2@user       <span class="comment">##æŸ¥è¯¢ç¨‹åºè¿è¡Œæƒ…å†µ</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆä¸‰ï¼‰å®‰è£…aria2-WebUI"><a href="#ï¼ˆä¸‰ï¼‰å®‰è£…aria2-WebUI" class="headerlink" title="ï¼ˆä¸‰ï¼‰å®‰è£…aria2 WebUI"></a>ï¼ˆä¸‰ï¼‰å®‰è£…<code>aria2 WebUI</code></h2><h3 id="1ã€å®‰è£…nodejsï¼Œgitã€‚"><a href="#1ã€å®‰è£…nodejsï¼Œgitã€‚" class="headerlink" title="1ã€å®‰è£…nodejsï¼Œgitã€‚"></a>1ã€å®‰è£…<code>nodejs</code>ï¼Œ<code>git</code>ã€‚</h3><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install nodejs npm</span><br></pre></td></tr></table></figure><br>æˆ–è€…å‚ç…§<a href="https://github.com/nodesource/distributions#debinstall">å®‰è£…è¯´æ˜</a>:å®‰è£… <code>Node.js v16.x:</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Using Ubuntu</span></span><br><span class="line">curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using Debian, as root</span></span><br><span class="line">curl -fsSL https://deb.nodesource.com/setup_16.x | bash -</span><br><span class="line">apt-get install -y nodejs</span><br></pre></td></tr></table></figure></p>
<h4 id="2ã€-å®‰è£…næ¨¡å—"><a href="#2ã€-å®‰è£…næ¨¡å—" class="headerlink" title="2ã€ å®‰è£…næ¨¡å—"></a>2ã€ å®‰è£…<code>n</code>æ¨¡å—</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo npm install -g n</span><br><span class="line">added 1 package, and audited 2 packages <span class="keyword">in</span> 6s</span><br><span class="line"></span><br><span class="line">found 0 vulnerabilities</span><br><span class="line">npm notice </span><br><span class="line">npm notice New minor version of npm available! 7.20.3 -&gt; 7.21.0</span><br><span class="line">npm notice Changelog: https://github.com/npm/cli/releases/tag/v7.21.0</span><br><span class="line">npm notice Run npm install -g npm@7.21.0 to update!</span><br><span class="line">npm notice </span><br><span class="line">$ sudo n stable</span><br><span class="line">  installing : node-v14.17.5</span><br><span class="line">       <span class="built_in">mkdir</span> : /usr/local/n/versions/node/14.17.5</span><br><span class="line">       fetch : https://nodejs.org/dist/v14.17.5/node-v14.17.5-linux-x64.tar.xz</span><br><span class="line">   installed : v14.17.5 (with npm 6.14.14)</span><br><span class="line"></span><br><span class="line">Note: the node <span class="built_in">command</span> changed location and the old location may be remembered <span class="keyword">in</span> your current shell.</span><br><span class="line">	 old : /usr/bin/node</span><br><span class="line">	 new : /usr/local/bin/node</span><br><span class="line">To reset the <span class="built_in">command</span> location <span class="built_in">hash</span> either start a new shell, or execute PATH=<span class="string">&quot;<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="3ã€æ¥ç€å®‰è£…gitï¼š"><a href="#3ã€æ¥ç€å®‰è£…gitï¼š" class="headerlink" title="3ã€æ¥ç€å®‰è£…gitï¼š"></a>3ã€æ¥ç€å®‰è£…<code>git</code>ï¼š</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install git`</span><br></pre></td></tr></table></figure>
<h4 id="4ã€æ–°å»ºWebUIç½‘ç«™ç›®å½•"><a href="#4ã€æ–°å»ºWebUIç½‘ç«™ç›®å½•" class="headerlink" title="4ã€æ–°å»ºWebUIç½‘ç«™ç›®å½•"></a>4ã€æ–°å»º<code>WebUI</code>ç½‘ç«™ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/www/html/nginx-web/aira2  </span><br></pre></td></tr></table></figure>
<p>è¿›å…¥ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/www/html/nginx-web/aira2`</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ziahamza/webui-aria2.git</span><br><span class="line"><span class="built_in">cd</span> webui-aria2</span><br><span class="line"><span class="built_in">mv</span> * ..</span><br></pre></td></tr></table></figure></p>
<p>æ–‡ä»¶ä¸‹è½½ä¸‹æ¥å¹¶ç§»åŠ¨åˆ°<code>aria2</code>ç›®å½•åï¼Œ<br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/www/html/nginx-web/aira2</span><br><span class="line">sudo node node-server.js</span><br></pre></td></tr></table></figure></p>
<p>æç¤ºä»¥ä¸‹è¯­å¥ï¼š<br>  <code>WebUI Aria2 Server is running on http://localhost:8888</code><br><strong>[å¯åŠ¨WebUIè·¯å¾„ï¼š<code>~/www/html/nginx-web/aira2/node-server.js</code>]</strong></p>
<h4 id="5ã€-å®Œæˆå®‰è£…"><a href="#5ã€-å®Œæˆå®‰è£…" class="headerlink" title="5ã€ å®Œæˆå®‰è£…"></a>5ã€ å®Œæˆå®‰è£…</h4><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä»¥ä¸Šç½‘å€ï¼š<code>http://localhost:8888</code><br><code>è®¾ç½®</code>â€”&gt;<code>è¿æ¥è®¾ç½®</code>â€”&gt;<code>PRCç«¯å£ï¼š6800</code>â€”&gt;<code>å¯†ç ä»¤ç‰Œï¼ˆå¯é€‰ï¼‰:123456</code><br>å®‰è£…å®Œæˆã€‚</p>
<h1 id="äºŒã€aria2çš„é…ç½®"><a href="#äºŒã€aria2çš„é…ç½®" class="headerlink" title="äºŒã€aria2çš„é…ç½®"></a>äºŒã€<code>aria2</code>çš„é…ç½®</h1><p>ä¿®æ”¹<code>aria2.conf</code>å†…å®¹,è¾“å…¥ä»¥ä¸‹å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/aria2.conf </span><br></pre></td></tr></table></figure><br>æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">##aria2.confè®¾ç½®###</span><br><span class="line"># ä¸‹è½½æ–‡ä»¶é»˜è®¤ä¿å­˜è·¯å¾„</span><br><span class="line">dir=~/ä¸‹è½½/aria2/</span><br><span class="line"></span><br><span class="line"># æ—¥å¿—æ–‡ä»¶ä¿å­˜è·¯å¾„åŠçº§åˆ«</span><br><span class="line">log=~/æ–‡æ¡£/aria2/aria2.log</span><br><span class="line">log-level=error</span><br><span class="line"></span><br><span class="line"># ä»ä¼šè¯ä¸­è¯»å–ä»»åŠ¡</span><br><span class="line">input-file=~/æ–‡æ¡£/aria2/aria2.session</span><br><span class="line"></span><br><span class="line"># åœ¨Aria2é€€å‡ºæ—¶ä¿å­˜`é”™è¯¯/æœªå®Œæˆ`çš„ä¸‹è½½ä»»åŠ¡åˆ°ä¼šè¯æ–‡ä»¶</span><br><span class="line">save-session=~/æ–‡æ¡£/aria2/aria2.session</span><br><span class="line">#é…ç½®dht.datæ–‡ä»¶å­˜æ”¾ä½ç½®</span><br><span class="line">dht-file-path=~/æ–‡æ¡£/aria2/dht.dat</span><br><span class="line"># å®šæ—¶ä¿å­˜ä¼šè¯, 0ä¸ºé€€å‡ºæ—¶æ‰ä¿å­˜, éœ€1.16.1ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:0</span><br><span class="line">save-session-interval=60</span><br><span class="line"># å¼ºåˆ¶ä¿å­˜ä¼šè¯, å³ä½¿ä»»åŠ¡å·²ç»å®Œæˆ, é»˜è®¤:false</span><br><span class="line"># è¾ƒæ–°çš„ç‰ˆæœ¬å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¾ç„¶ä¿ç•™.aria2æ–‡ä»¶</span><br><span class="line">force-save=true</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½é€‰é¡¹</span><br><span class="line"># æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5</span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line"># æ–­ç‚¹ç»­ä¼ </span><br><span class="line">continue=true</span><br><span class="line"># æ•´ä½“ä¸‹è½½é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 </span><br><span class="line">max-overall-download-limit=5M</span><br><span class="line"># å•ä¸ªä»»åŠ¡ä¸‹è½½é€Ÿåº¦é™åˆ¶, é»˜è®¤:0</span><br><span class="line">max-download-limit=10M</span><br><span class="line"># æ•´ä½“ä¸Šä¼ é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0</span><br><span class="line">max-overall-upload-limit=1K</span><br><span class="line"># å•ä¸ªä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0</span><br><span class="line">max-upload-limit=1K</span><br><span class="line"></span><br><span class="line"># Http/FTP é€‰é¡¹</span><br><span class="line"># è¿æ¥è¶…æ—¶ï¼Œå»ºç«‹é“¾æ¥åå¤±æ•ˆ</span><br><span class="line">connect-timeout=120</span><br><span class="line"># æœ€å°é€Ÿåº¦é™åˆ¶</span><br><span class="line"># å½“ä¸‹è½½é€Ÿåº¦ä½äºæ­¤é€‰é¡¹è®¾ç½®çš„å€¼(B/s) æ—¶å°†ä¼šå…³é—­è¿æ¥. 0 è¡¨ç¤ºä¸è®¾ç½®æœ€å°é€Ÿåº¦é™åˆ¶. </span><br><span class="line">lowest-speed-limit=1K</span><br><span class="line"># åŒä¸€æœåŠ¡å™¨è¿æ¥æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1,èŒƒå›´1-16</span><br><span class="line">max-connection-per-server=15</span><br><span class="line"># æ–‡ä»¶æœªæ‰¾åˆ°é‡è¯•æ¬¡æ•°</span><br><span class="line"># è®¾ç½®ä¸º 0 å°†ä¼šç¦ç”¨æ­¤é€‰é¡¹</span><br><span class="line">max-file-not-found=0</span><br><span class="line"># æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, å–å€¼èŒƒå›´1M -1024M, é»˜è®¤:20M</span><br><span class="line"># å‡å®šsize=10M, æ–‡ä»¶ä¸º20MiB åˆ™ä½¿ç”¨ä¸¤ä¸ªæ¥æºä¸‹è½½; æ–‡ä»¶ä¸º15MiB åˆ™ä½¿ç”¨ä¸€ä¸ªæ¥æºä¸‹è½½</span><br><span class="line">min-split-size=10M</span><br><span class="line"># å•ä¸ªä»»åŠ¡æœ€å¤§çº¿ç¨‹æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5</span><br><span class="line">split=5</span><br><span class="line"># æ£€æŸ¥è¯ä¹¦</span><br><span class="line">check-certificate=false</span><br><span class="line"># ç¦ç”¨ç¼“å­˜</span><br><span class="line">http-no-cache=true</span><br><span class="line"># ç£ç›˜ç¼“å­˜</span><br><span class="line"># å¦‚æœè®¾ç½®ä¸º 0, å°†ç¦ç”¨ç£ç›˜ç¼“å­˜. æ­¤åŠŸèƒ½å°†ä¸‹è½½çš„æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­</span><br><span class="line"># æœ€å¤šå ç”¨æ­¤é€‰é¡¹è®¾ç½®çš„å­—èŠ‚æ•°. </span><br><span class="line">disk-cache=32M</span><br><span class="line"></span><br><span class="line"># FTP Specific Options</span><br><span class="line"># BT/PT Setting</span><br><span class="line"># æœ¬åœ°èŠ‚ç‚¹æŸ¥æ‰¾, PTéœ€è¦ç¦ç”¨, é»˜è®¤:false</span><br><span class="line">bt-enable-lpd=false</span><br><span class="line">#æœ€å¤§è¿æ¥èŠ‚ç‚¹æ•°</span><br><span class="line">#è®¾ç½®æ¯ä¸ªBTä¸‹è½½çš„æœ€å¤§è¿æ¥èŠ‚ç‚¹æ•°. 0 è¡¨ç¤ºä¸é™åˆ¶.</span><br><span class="line">bt-max-peers=100</span><br><span class="line"># è‡ªåŠ¨BTä»»åŠ¡</span><br><span class="line">follow-torrent=true</span><br><span class="line"># å¯ç”¨ DHT (IPv6)</span><br><span class="line"># å¯ç”¨ IPv6 DHT åŠŸèƒ½. å¦‚æœç§å­è®¾ç½®ä¸ºç§æœ‰, å³ä½¿æ­¤é€‰é¡¹è®¾ç½®ä¸º&quot;æ˜¯&quot;, aria2 ä¹Ÿä¸ä¼šå¯ç”¨</span><br><span class="line">enable-dht6=true</span><br><span class="line">enable-dht=true</span><br><span class="line">dht-listen-port=6881-6999</span><br><span class="line"></span><br><span class="line"># ä¸æ£€æŸ¥å·²ç»ä¸‹è½½çš„æ–‡ä»¶</span><br><span class="line"># ä¸æ£€æŸ¥ä¹‹å‰ä¸‹è½½æ–‡ä»¶ä¸­æ¯ä¸ªåˆ†ç‰‡çš„å“ˆå¸Œå€¼.</span><br><span class="line">bt-seed-unverified=false</span><br><span class="line"># åšç§å‰æ£€æŸ¥æ–‡ä»¶å“ˆå¸Œ</span><br><span class="line"># å¦‚æœè®¾ç½®ä¸º&quot;æ˜¯&quot;, å½“ä½¿ç”¨ --check-integrity é€‰é¡¹å®Œæˆå“ˆå¸Œæ£€æŸ¥åŠæ–‡ä»¶å®Œæˆåæ‰ç»§ç»­åšç§. å¦‚æœæ‚¨å¸Œæœ›ä»…å½“æ–‡ä»¶æŸåæˆ–æœªå®Œæˆæ—¶æ£€æŸ¥æ–‡ä»¶, è¯·è®¾ç½®ä¸º&quot;å¦&quot;. æ­¤é€‰é¡¹ä»…å¯¹ BT ä¸‹è½½æœ‰æ•ˆ</span><br><span class="line">bt-hash-check-seed=false</span><br><span class="line"></span><br><span class="line"># ä¿å­˜ä¸Šä¼ çš„ç§å­æ–‡ä»¶</span><br><span class="line">rpc-save-upload-metadata=true</span><br><span class="line"># åˆ é™¤æœªé€‰æ‹©çš„æ–‡ä»¶</span><br><span class="line"># å½“ BT ä»»åŠ¡å®Œæˆååˆ é™¤æœªé€‰æ‹©çš„æ–‡ä»¶. è¦é€‰æ‹©éœ€è¦ä¸‹è½½çš„æ–‡ä»¶, è¯·ä½¿ç”¨ --select-fileé€‰é¡¹. </span><br><span class="line"># å¦‚æœæ²¡æœ‰é€‰æ‹©, åˆ™æ‰€æœ‰æ–‡ä»¶éƒ½é»˜è®¤ä¸ºéœ€è¦ä¸‹è½½. æ­¤é€‰é¡¹ä¼šä»ç£ç›˜ä¸Šç›´æ¥åˆ é™¤æ–‡ä»¶, </span><br><span class="line"># è¯·è°¨æ…ä½¿ç”¨æ­¤é€‰é¡¹.</span><br><span class="line">bt-remove-unselected-file=false</span><br><span class="line"></span><br><span class="line"># æ¯ä¸ªç§å­é™é€Ÿ, å¯¹å°‘ç§çš„PTå¾ˆæœ‰ç”¨, é»˜è®¤:50K</span><br><span class="line">bt-request-peer-speed-limit=2M</span><br><span class="line">#åšç§æ—¶é—´</span><br><span class="line">seed-time=0</span><br><span class="line">#ä¼˜å…ˆä¸‹è½½</span><br><span class="line">bt-prioritize-piece=head=10M</span><br><span class="line"># å½“ç§å­çš„åˆ†äº«ç‡è¾¾åˆ°è¿™ä¸ªæ•°æ—¶, è‡ªåŠ¨åœæ­¢åšç§, 0ä¸ºä¸€ç›´åšç§, é»˜è®¤:1.0</span><br><span class="line">seed-ratio=1.0</span><br><span class="line"></span><br><span class="line"># Metalink Specific Options</span><br><span class="line"></span><br><span class="line"># RPC Options</span><br><span class="line"># å¯ç”¨RPC, é»˜è®¤:false</span><br><span class="line">enable-rpc=true</span><br><span class="line"># ç§å­æ–‡ä»¶ä¸‹è½½å®Œåæš‚åœ</span><br><span class="line">pause-metadata=false</span><br><span class="line">#ç§å­äº¤æ¢, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true</span><br><span class="line">enable-peer-exchange=false</span><br><span class="line"># å…è®¸æ‰€æœ‰æ¥æº, é»˜è®¤:false</span><br><span class="line">rpc-allow-origin-all=true</span><br><span class="line"># å…è®¸éå¤–éƒ¨è®¿é—®, é»˜è®¤:false</span><br><span class="line">rpc-listen-all=true</span><br><span class="line">#ä¿å­˜ä¸Šä¼ çš„ç§å­æ–‡ä»¶</span><br><span class="line">rpc-save-upload-metadata=true</span><br><span class="line"># å¯ç”¨åŠ å¯†å RPC æœåŠ¡éœ€è¦ä½¿ç”¨ https æˆ–è€… wss åè®®è¿æ¥</span><br><span class="line">rpc-secure=false</span><br><span class="line"></span><br><span class="line"># Advanced Options</span><br><span class="line">#å¯ç”¨åå°è¿›ç¨‹</span><br><span class="line">daemon=true</span><br><span class="line"># ç¦ç”¨IPV6ï¼Œé»˜è®¤ï¼šfalse</span><br><span class="line">disable-ipv6=true</span><br><span class="line"># å¯ç”¨ MMap</span><br><span class="line"># å†…å­˜ä¸­å­˜æ”¾æ˜ å°„æ–‡ä»¶. å½“æ–‡ä»¶ç©ºé—´æ²¡æœ‰é¢„å…ˆåˆ†é…è‡³, æ­¤é€‰é¡¹æ— æ•ˆ. å‚è§ --file-allocation.</span><br><span class="line">enable-mmap=true</span><br><span class="line"># æ–‡ä»¶åˆ†é…æ–¹æ³•  </span><br><span class="line"># &quot;prealloc&quot;ä¼šåœ¨ä¸‹è½½å¼€å§‹å‰é¢„å…ˆåˆ†é…ç©ºé—´.</span><br><span class="line"># ext4 (å¸¦æ‰©å±•æ”¯æŒ), btrfs, xfs æˆ– NTFS (ä»… MinGW æ„å»º), &quot;falloc&quot; æ˜¯æœ€å¥½çš„é€‰æ‹©</span><br><span class="line">file-allocation=falloc </span><br><span class="line">#æœ€å¤šä¸‹è½½ç»“æœ ä¸‹è½½ç»“æœåŒ…æ‹¬å·²å®Œæˆ/é”™è¯¯/å·²åˆ é™¤çš„ä¸‹è½½</span><br><span class="line">max-download-result=30</span><br><span class="line"># æ–‡ä»¶åˆ†é…é™åˆ¶</span><br><span class="line"># ä¸å¯¹æ¯”æ­¤å‚æ•°è®¾ç½®å¤§å°å°çš„åˆ†é…æ–‡ä»¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M </span><br><span class="line">#no-file-allocation-limit=32M</span><br><span class="line"># å¼ºåˆ¶é¡ºåº</span><br><span class="line">force-sequential=true</span><br><span class="line"># å¯ç”¨å‚æ•°åŒ– URI æ”¯æŒ</span><br><span class="line"># æ‚¨å¯ä»¥æŒ‡å®šéƒ¨åˆ†çš„é›†åˆ: http://&#123;sv1,sv2,sv3&#125;/foo.iso. </span><br><span class="line"># åŒæ—¶æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¥è¿›è®¡æ•°å™¨æŒ‡å®šæ•°å­—åŒ–çš„åºåˆ—: http://host/image[000-100:2].img. </span><br><span class="line"># [éœ€ä½¿ç”¨ -z é€‰é¡¹]</span><br><span class="line"># æ­¥è¿›è®¡æ•°å™¨å¯ä»¥çœç•¥.</span><br><span class="line">parameterized-uri=true</span><br><span class="line">#å»¶è¿ŸåŠ è½½</span><br><span class="line">deferred-input=true</span><br><span class="line"># bt-tracker=BTæœåŠ¡å™¨ï¼ˆå¤šä¸ªæœåŠ¡å™¨ä¹‹é—´ç”¨,åˆ†å¼€ï¼‰</span><br><span class="line">bt-tracker=udp://tracker.coppersurfer.tk:6969/announc,udp://tracker.leechers-paradise.org:6969/announc,udp://tracker.opentrackr.org:1337/announc,udp://p4p.arenabg.com:1337/announc,udp://9.rarbg.to:2710/announc,udp://9.rarbg.me:2710/announc,udp://exodus.desync.com:6969/announc,udp://tracker.pomf.se:80/announc,udp://tracker.openbittorrent.com:80/announc,udp://tracker.tiny-vps.com:6969/announc,udp://open.stealth.si:80/announc,udp://denis.stalker.upeer.me:6969/announc,udp://tracker.torrent.eu.org:451/announc,udp://tracker.moeking.me:6969/announc,udp://tracker.cyberia.is:6969/announc,udp://ipv4.tracker.harry.lu:80/announc,udp://tracker3.itzmx.com:6961/announc,udp://open.demonii.si:1337/announc,udp://explodie.org:6969/announc,udp://valakas.rollo.dnsabr.com:2710/announe</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸‰ã€ä¸€äº›è„šæœ¬å¤„ç†"><a href="#ä¸‰ã€ä¸€äº›è„šæœ¬å¤„ç†" class="headerlink" title="ä¸‰ã€ä¸€äº›è„šæœ¬å¤„ç†"></a>ä¸‰ã€ä¸€äº›è„šæœ¬å¤„ç†</h1><h2 id="1ã€æ–°å»ºtracker-shæ›´æ–°è„šæœ¬"><a href="#1ã€æ–°å»ºtracker-shæ›´æ–°è„šæœ¬" class="headerlink" title="1ã€æ–°å»ºtracker.shæ›´æ–°è„šæœ¬"></a>1ã€æ–°å»º<code>tracker.sh</code>æ›´æ–°è„šæœ¬</h2><p>æ›´æ–°é…ç½®æ–‡ä»¶<code>aria2.conf</code>é‡Œçš„<code>tracker</code>.  </p>
<p>è¾“å…¥å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/tracker.sh</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (c) 2018-2020 P3TERX &lt;https://p3terx.com&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is free software, licensed under the MIT License.</span></span><br><span class="line"><span class="comment"># See /LICENSE for more information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># https://github.com/P3TERX/aria2.conf</span></span><br><span class="line"><span class="comment"># File nameï¼štracker.sh</span></span><br><span class="line"><span class="comment"># Description: Get BT trackers and add to Aria2</span></span><br><span class="line"><span class="comment"># Version: 3.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># BT tracker is provided by the following project.</span></span><br><span class="line"><span class="comment"># https://github.com/XIU2/TrackersListCollection</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Fallback URLs provided by jsDelivr</span></span><br><span class="line"><span class="comment"># https://www.jsdelivr.com</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">RED_FONT_PREFIX=<span class="string">&quot;\033[31m&quot;</span></span><br><span class="line">GREEN_FONT_PREFIX=<span class="string">&quot;\033[32m&quot;</span></span><br><span class="line">YELLOW_FONT_PREFIX=<span class="string">&quot;\033[1;33m&quot;</span></span><br><span class="line">LIGHT_PURPLE_FONT_PREFIX=<span class="string">&quot;\033[1;35m&quot;</span></span><br><span class="line">FONT_COLOR_SUFFIX=<span class="string">&quot;\033[0m&quot;</span></span><br><span class="line">INFO=<span class="string">&quot;[<span class="variable">$&#123;GREEN_FONT_PREFIX&#125;</span>INFO<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>]&quot;</span></span><br><span class="line">ERROR=<span class="string">&quot;[<span class="variable">$&#123;RED_FONT_PREFIX&#125;</span>ERROR<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>]&quot;</span></span><br><span class="line">ARIA2_CONF=<span class="variable">$&#123;1:-aria2.conf&#125;</span></span><br><span class="line">DOWNLOADER=<span class="string">&quot;curl -fsSL --connect-timeout 3 --max-time 3 --retry 2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DATE_TIME</span></span>() &#123;</span><br><span class="line">    <span class="built_in">date</span> +<span class="string">&quot;%m/%d %H:%M:%S&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">GET_TRACKERS</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> &amp;&amp; <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Get BT trackers ...&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;CUSTOM_TRACKER_URL&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        TRACKER=$(</span><br><span class="line">            <span class="variable">$&#123;DOWNLOADER&#125;</span> https://trackerslist.com/all_aria2.txt ||</span><br><span class="line">                <span class="variable">$&#123;DOWNLOADER&#125;</span> https://cdn.jsdelivr.net/gh/XIU2/TrackersListCollection@master/all_aria2.txt ||</span><br><span class="line">                <span class="variable">$&#123;DOWNLOADER&#125;</span> https://trackers.p3terx.com/all_aria2.txt</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        TRACKER=$(<span class="variable">$&#123;DOWNLOADER&#125;</span> <span class="variable">$&#123;CUSTOM_TRACKER_URL&#125;</span> | awk NF | sed <span class="string">&quot;:a;N;s/\n/,/g;ta&quot;</span>)</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    [[ -z <span class="string">&quot;<span class="variable">$&#123;TRACKER&#125;</span>&quot;</span> ]] &amp;&amp; &#123;</span><br><span class="line">        <span class="built_in">echo</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Unable to get trackers, network failure or invalid links.&quot;</span> &amp;&amp; <span class="built_in">exit</span> 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ECHO_TRACKERS</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;</span></span><br><span class="line"><span class="string">--------------------[BitTorrent Trackers]--------------------</span></span><br><span class="line"><span class="string"><span class="variable">$&#123;TRACKER&#125;</span></span></span><br><span class="line"><span class="string">--------------------[BitTorrent Trackers]--------------------</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ADD_TRACKERS</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Adding BT trackers to Aria2 configuration file <span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span><span class="variable">$&#123;ARIA2_CONF&#125;</span><span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> ...&quot;</span> &amp;&amp; <span class="built_in">echo</span></span><br><span class="line">    <span class="keyword">if</span> [ ! -f <span class="variable">$&#123;ARIA2_CONF&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> &#x27;<span class="variable">$&#123;ARIA2_CONF&#125;</span>&#x27; does not exist.&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        [ -z $(grep <span class="string">&quot;bt-tracker=&quot;</span> <span class="variable">$&#123;ARIA2_CONF&#125;</span>) ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;bt-tracker=&quot;</span> &gt;&gt;<span class="variable">$&#123;ARIA2_CONF&#125;</span></span><br><span class="line">        sed -i <span class="string">&quot;s@^\(bt-tracker=\).*@\1<span class="variable">$&#123;TRACKER&#125;</span>@&quot;</span> <span class="variable">$&#123;ARIA2_CONF&#125;</span> &amp;&amp; <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> BT trackers successfully added to Aria2 configuration file !&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ADD_TRACKERS_RPC</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;RPC_SECRET&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        RPC_PAYLOAD=<span class="string">&#x27;&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;aria2.changeGlobalOption&quot;,&quot;id&quot;:&quot;P3TERX&quot;,&quot;params&quot;:[&quot;token:&#x27;</span><span class="variable">$&#123;RPC_SECRET&#125;</span><span class="string">&#x27;&quot;,&#123;&quot;bt-tracker&quot;:&quot;&#x27;</span><span class="variable">$&#123;TRACKER&#125;</span><span class="string">&#x27;&quot;&#125;]&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        RPC_PAYLOAD=<span class="string">&#x27;&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;aria2.changeGlobalOption&quot;,&quot;id&quot;:&quot;P3TERX&quot;,&quot;params&quot;:[&#123;&quot;bt-tracker&quot;:&quot;&#x27;</span><span class="variable">$&#123;TRACKER&#125;</span><span class="string">&#x27;&quot;&#125;]&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    curl <span class="string">&quot;<span class="variable">$&#123;RPC_ADDRESS&#125;</span>&quot;</span> -fsSd <span class="string">&quot;<span class="variable">$&#123;RPC_PAYLOAD&#125;</span>&quot;</span> || curl <span class="string">&quot;https://<span class="variable">$&#123;RPC_ADDRESS&#125;</span>&quot;</span> -kfsSd <span class="string">&quot;<span class="variable">$&#123;RPC_PAYLOAD&#125;</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ADD_TRACKERS_RPC_STATUS</span></span>() &#123;</span><br><span class="line">    RPC_RESULT=$(ADD_TRACKERS_RPC)</span><br><span class="line">    [[ $(<span class="built_in">echo</span> <span class="variable">$&#123;RPC_RESULT&#125;</span> | grep OK) ]] &amp;&amp;</span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> BT trackers successfully added to Aria2 !&quot;</span> ||</span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Network failure or Aria2 RPC interface error!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ADD_TRACKERS_REMOTE_RPC</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Adding BT trackers to remote Aria2: <span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span><span class="variable">$&#123;RPC_ADDRESS%/*&#125;</span><span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> ...&quot;</span> &amp;&amp; <span class="built_in">echo</span></span><br><span class="line">    ADD_TRACKERS_RPC_STATUS</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ADD_TRACKERS_LOCAL_RPC</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [ ! -f <span class="variable">$&#123;ARIA2_CONF&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> &#x27;<span class="variable">$&#123;ARIA2_CONF&#125;</span>&#x27; does not exist.&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        RPC_PORT=$(grep ^rpc-listen-port <span class="variable">$&#123;ARIA2_CONF&#125;</span> | <span class="built_in">cut</span> -d= -f2-)</span><br><span class="line">        RPC_SECRET=$(grep ^rpc-secret <span class="variable">$&#123;ARIA2_CONF&#125;</span> | <span class="built_in">cut</span> -d= -f2-)</span><br><span class="line">        [[ <span class="variable">$&#123;RPC_PORT&#125;</span> ]] || &#123;</span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Aria2 configuration file incomplete.&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        &#125;</span><br><span class="line">        RPC_ADDRESS=<span class="string">&quot;localhost:<span class="variable">$&#123;RPC_PORT&#125;</span>/jsonrpc&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Adding BT trackers to Aria2 ...&quot;</span> &amp;&amp; <span class="built_in">echo</span></span><br><span class="line">        ADD_TRACKERS_RPC_STATUS</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[ $(<span class="built_in">command</span> -v curl) ] || &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> curl is not installed.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;cat&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    GET_TRACKERS</span><br><span class="line">    ECHO_TRACKERS</span><br><span class="line"><span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;RPC&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    RPC_ADDRESS=<span class="string">&quot;<span class="variable">$2</span>/jsonrpc&quot;</span></span><br><span class="line">    RPC_SECRET=<span class="string">&quot;<span class="variable">$3</span>&quot;</span></span><br><span class="line">    GET_TRACKERS</span><br><span class="line">    ECHO_TRACKERS</span><br><span class="line">    ADD_TRACKERS_REMOTE_RPC</span><br><span class="line"><span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$2</span>&quot;</span> = <span class="string">&quot;RPC&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    GET_TRACKERS</span><br><span class="line">    ECHO_TRACKERS</span><br><span class="line">    ADD_TRACKERS</span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line">    ADD_TRACKERS_LOCAL_RPC</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    GET_TRACKERS</span><br><span class="line">    ECHO_TRACKERS</span><br><span class="line">    ADD_TRACKERS</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="2ã€æ–°å»ºclean-shæ›´æ–°è„šæœ¬"><a href="#2ã€æ–°å»ºclean-shæ›´æ–°è„šæœ¬" class="headerlink" title="2ã€æ–°å»ºclean.shæ›´æ–°è„šæœ¬"></a>2ã€æ–°å»º<code>clean.sh</code>æ›´æ–°è„šæœ¬</h2><p><code>Aria2</code>ä¸‹è½½å®Œæˆååˆ é™¤å†—ä½™æ–‡ä»¶.  </p>
<p>è¾“å…¥å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/clean.sh</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (c) 2018-2020 P3TERX &lt;https://p3terx.com&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is free software, licensed under the MIT License.</span></span><br><span class="line"><span class="comment"># See /LICENSE for more information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># https://github.com/P3TERX/aria2.conf</span></span><br><span class="line"><span class="comment"># File nameï¼šclean.sh</span></span><br><span class="line"><span class="comment"># Description: Remove redundant files after Aria2 download is complete</span></span><br><span class="line"><span class="comment"># Version: 3.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_CORE_FILE</span></span>() &#123;</span><br><span class="line">    CORE_FILE=<span class="string">&quot;<span class="subst">$(dirname $0)</span>/core&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        . <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;!!! core file does not exist !!!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHECK_CORE_FILE <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_PARAMETER <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_FILE_NUM</span><br><span class="line">CHECK_SCRIPT_CONF</span><br><span class="line">GET_TASK_INFO</span><br><span class="line">GET_DOWNLOAD_DIR</span><br><span class="line">CONVERSION_PATH</span><br><span class="line">CLEAN_UP</span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€æ–°å»ºdelete-shæ›´æ–°è„šæœ¬"><a href="#3ã€æ–°å»ºdelete-shæ›´æ–°è„šæœ¬" class="headerlink" title="3ã€æ–°å»ºdelete.shæ›´æ–°è„šæœ¬"></a>3ã€æ–°å»º<code>delete.sh</code>æ›´æ–°è„šæœ¬</h2><p>åœ¨<code>Aria2</code>ä¸‹è½½é”™è¯¯æˆ–ä»»åŠ¡åˆ é™¤ååˆ é™¤æ–‡ä»¶.</p>
<p>è¾“å…¥å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/delete.sh</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (c) 2018-2020 P3TERX &lt;https://p3terx.com&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is free software, licensed under the MIT License.</span></span><br><span class="line"><span class="comment"># See /LICENSE for more information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># https://github.com/P3TERX/aria2.conf</span></span><br><span class="line"><span class="comment"># File nameï¼šdelete.sh</span></span><br><span class="line"><span class="comment"># Description: Delete files after Aria2 download error or task removed</span></span><br><span class="line"><span class="comment"># Version: 3.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_CORE_FILE</span></span>() &#123;</span><br><span class="line">    CORE_FILE=<span class="string">&quot;<span class="subst">$(dirname $0)</span>/core&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        . <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;!!! core file does not exist !!!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_RPC_CONECTION</span></span>() &#123;</span><br><span class="line">    READ_ARIA2_CONF</span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;RPC_SECRET&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        RPC_PAYLOAD=<span class="string">&#x27;&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;aria2.getVersion&quot;,&quot;id&quot;:&quot;P3TERX&quot;,&quot;params&quot;:[&quot;token:&#x27;</span><span class="variable">$&#123;RPC_SECRET&#125;</span><span class="string">&#x27;&quot;]&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        RPC_PAYLOAD=<span class="string">&#x27;&#123;&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;aria2.getVersion&quot;,&quot;id&quot;:&quot;P3TERX&quot;&#125;&#x27;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    (curl <span class="string">&quot;<span class="variable">$&#123;RPC_ADDRESS&#125;</span>&quot;</span> -fsSd <span class="string">&quot;<span class="variable">$&#123;RPC_PAYLOAD&#125;</span>&quot;</span> || curl <span class="string">&quot;https://<span class="variable">$&#123;RPC_ADDRESS&#125;</span>&quot;</span> -kfsSd <span class="string">&quot;<span class="variable">$&#123;RPC_PAYLOAD&#125;</span>&quot;</span>) &gt;/dev/null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DELETE_ON_STOP</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;TASK_STATUS&#125;</span>&quot;</span> = <span class="string">&quot;error&quot;</span> &amp;&amp; <span class="string">&quot;<span class="variable">$&#123;DELETE_ON_ERROR&#125;</span>&quot;</span> = <span class="string">&quot;true&quot;</span> ]] || [[ <span class="string">&quot;<span class="variable">$&#123;TASK_STATUS&#125;</span>&quot;</span> = <span class="string">&quot;removed&quot;</span> &amp;&amp; <span class="string">&quot;<span class="variable">$&#123;DELETE_ON_REMOVED&#125;</span>&quot;</span> = <span class="string">&quot;true&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>.aria2&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Download task <span class="variable">$&#123;TASK_STATUS&#125;</span>, deleting files...&quot;</span></span><br><span class="line">            <span class="built_in">rm</span> -vrf <span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>.aria2&quot;</span> <span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            [[ -e <span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span> ]] &amp;&amp;</span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;WARRING&#125;</span> Skip delete. Download completed files: <span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span> ||</span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;WARRING&#125;</span> Skip delete. File does not exist: <span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;WARRING&#125;</span> Skip delete. Task status invalid: <span class="variable">$&#123;TASK_STATUS&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DELETE_ON_UNKNOWN</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;FILE_PATH&#125;</span>.aria2&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Download task force removed, deleting files...&quot;</span></span><br><span class="line">        <span class="built_in">rm</span> -vrf <span class="string">&quot;<span class="variable">$&#123;FILE_PATH&#125;</span>.aria2&quot;</span> <span class="string">&quot;<span class="variable">$&#123;FILE_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        [[ -e <span class="string">&quot;<span class="variable">$&#123;FILE_PATH&#125;</span>&quot;</span> ]] &amp;&amp;</span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;WARRING&#125;</span> Skip delete. Download completed files: <span class="variable">$&#123;FILE_PATH&#125;</span>&quot;</span> ||</span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;WARRING&#125;</span> Skip delete. File does not exist: <span class="variable">$&#123;FILE_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DELETE_FILE</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> GET_TASK_INFO; <span class="keyword">then</span></span><br><span class="line">        GET_DOWNLOAD_DIR</span><br><span class="line">        GET_TASK_STATUS</span><br><span class="line">        CONVERSION_PATH</span><br><span class="line">        DELETE_ON_STOP</span><br><span class="line">        DELETE_DOT_TORRENT</span><br><span class="line">        DELETE_EMPTY_DIR</span><br><span class="line">    <span class="keyword">elif</span> CHECK_RPC_CONECTION &amp;&amp; [[ <span class="string">&quot;<span class="variable">$&#123;DELETE_ON_UNKNOWN&#125;</span>&quot;</span> = <span class="string">&quot;true&quot;</span> &amp;&amp; <span class="variable">$&#123;FILE_NUM&#125;</span> -eq 1 ]]; <span class="keyword">then</span></span><br><span class="line">        DELETE_ON_UNKNOWN</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Aria2 RPC interface error!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHECK_CORE_FILE <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_PARAMETER <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_FILE_NUM</span><br><span class="line">CHECK_SCRIPT_CONF</span><br><span class="line">DELETE_FILE</span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="4ã€æ–°å»ºmove-shæ›´æ–°è„šæœ¬"><a href="#4ã€æ–°å»ºmove-shæ›´æ–°è„šæœ¬" class="headerlink" title="4ã€æ–°å»ºmove.shæ›´æ–°è„šæœ¬"></a>4ã€æ–°å»º<code>move.sh</code>æ›´æ–°è„šæœ¬</h2><p><code>Aria2</code> ä¸‹è½½å®Œæˆåç§»åŠ¨æ–‡ä»¶.  </p>
<p>è¾“å…¥å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/move.sh</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (c) 2018-2020 P3TERX &lt;https://p3terx.com&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is free software, licensed under the MIT License.</span></span><br><span class="line"><span class="comment"># See /LICENSE for more information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># https://github.com/P3TERX/aria2.conf</span></span><br><span class="line"><span class="comment"># File nameï¼šmove.sh</span></span><br><span class="line"><span class="comment"># Description: Move files after Aria2 download is complete</span></span><br><span class="line"><span class="comment"># Version: 3.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_CORE_FILE</span></span>() &#123;</span><br><span class="line">    CORE_FILE=<span class="string">&quot;<span class="subst">$(dirname $0)</span>/core&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        . <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;!!! core file does not exist !!!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">TASK_INFO</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;</span></span><br><span class="line"><span class="string">-------------------------- [<span class="variable">$&#123;YELLOW_FONT_PREFIX&#125;</span>Task Infomation<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>] --------------------------</span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task GID:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_GID&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Number of Files:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;FILE_NUM&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>First File Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;FILE_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task File Name:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_FILE_NAME&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Aria2 Download Directory:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;ARIA2_DOWNLOAD_DIR&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Custom Download Directory:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;DOWNLOAD_DIR&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Source Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;SOURCE_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Destination Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;DEST_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>.aria2 File Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;DOT_ARIA2_FILE&#125;</span></span></span><br><span class="line"><span class="string">-------------------------- [<span class="variable">$&#123;YELLOW_FONT_PREFIX&#125;</span>Task Infomation<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>] --------------------------</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">OUTPUT_MOVE_LOG</span></span>() &#123;</span><br><span class="line">    LOG=<span class="string">&quot;<span class="variable">$&#123;MOVE_LOG&#125;</span>&quot;</span></span><br><span class="line">    LOG_PATH=<span class="string">&quot;<span class="variable">$&#123;MOVE_LOG_PATH&#125;</span>&quot;</span></span><br><span class="line">    OUTPUT_LOG</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DEFINITION_PATH</span></span>() &#123;</span><br><span class="line">    SOURCE_PATH=<span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;DOWNLOAD_DIR&#125;</span>&quot;</span> != <span class="string">&quot;<span class="variable">$&#123;ARIA2_DOWNLOAD_DIR&#125;</span>&quot;</span> &amp;&amp; <span class="string">&quot;<span class="variable">$&#123;DOWNLOAD_DIR&#125;</span>&quot;</span> =~ <span class="string">&quot;<span class="variable">$&#123;ARIA2_DOWNLOAD_DIR&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        DEST_PATH=<span class="string">&quot;<span class="variable">$&#123;DEST_DIR&#125;</span><span class="variable">$&#123;DEST_PATH_SUFFIX%/*&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        DEST_PATH=<span class="string">&quot;<span class="variable">$&#123;DEST_DIR&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">MOVE_FILE</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Start move files ...&quot;</span></span><br><span class="line">    TASK_INFO</span><br><span class="line">    <span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$&#123;DEST_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="built_in">mv</span> -vf <span class="string">&quot;<span class="variable">$&#123;SOURCE_PATH&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$&#123;DEST_PATH&#125;</span>&quot;</span></span><br><span class="line">    MOVE_EXIT_CODE=$?</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$&#123;MOVE_EXIT_CODE&#125;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">        MOVE_LOG=<span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Move done: <span class="variable">$&#123;SOURCE_PATH&#125;</span> -&gt; <span class="variable">$&#123;DEST_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        MOVE_LOG=<span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Move failed: <span class="variable">$&#123;SOURCE_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    OUTPUT_MOVE_LOG</span><br><span class="line">    DELETE_EMPTY_DIR</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHECK_CORE_FILE <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_PARAMETER <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_FILE_NUM</span><br><span class="line">CHECK_SCRIPT_CONF</span><br><span class="line">GET_TASK_INFO</span><br><span class="line">GET_DOWNLOAD_DIR</span><br><span class="line">CONVERSION_PATH</span><br><span class="line">DEFINITION_PATH</span><br><span class="line">CLEAN_UP</span><br><span class="line">MOVE_FILE</span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></p>
<h2 id="5ã€æ–°å»ºupload-shè„šæœ¬"><a href="#5ã€æ–°å»ºupload-shè„šæœ¬" class="headerlink" title="5ã€æ–°å»ºupload.shè„šæœ¬"></a>5ã€æ–°å»º<code>upload.sh</code>è„šæœ¬</h2><p><code>Aria2</code>ä¸‹è½½å®Œæˆåä½¿ç”¨<code>Rclone</code>ä¸Šä¼ æ–‡ä»¶.<br>è¾“å…¥å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /opt/aria2/upload.sh</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Copyright (c) 2018-2020 P3TERX &lt;https://p3terx.com&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is free software, licensed under the MIT License.</span></span><br><span class="line"><span class="comment"># See /LICENSE for more information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># https://github.com/P3TERX/aria2.conf</span></span><br><span class="line"><span class="comment"># File nameï¼šupload.sh</span></span><br><span class="line"><span class="comment"># Description: Use Rclone to upload files after Aria2 download is complete</span></span><br><span class="line"><span class="comment"># Version: 3.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_CORE_FILE</span></span>() &#123;</span><br><span class="line">    CORE_FILE=<span class="string">&quot;<span class="subst">$(dirname $0)</span>/core&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        . <span class="string">&quot;<span class="variable">$&#123;CORE_FILE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;!!! core file does not exist !!!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">CHECK_RCLONE</span></span>() &#123;</span><br><span class="line">    [[ <span class="variable">$#</span> -eq 0 ]] &amp;&amp; &#123;</span><br><span class="line">        <span class="built_in">echo</span> &amp;&amp; <span class="built_in">echo</span> -e <span class="string">&quot;Checking RCLONE connection ...&quot;</span></span><br><span class="line">        rclone <span class="built_in">mkdir</span> <span class="string">&quot;<span class="variable">$&#123;DRIVE_NAME&#125;</span>:<span class="variable">$&#123;DRIVE_DIR&#125;</span>/P3TERX.COM&quot;</span></span><br><span class="line">        <span class="keyword">if</span> [[ $? -eq 0 ]]; <span class="keyword">then</span></span><br><span class="line">            rclone <span class="built_in">rmdir</span> <span class="string">&quot;<span class="variable">$&#123;DRIVE_NAME&#125;</span>:<span class="variable">$&#123;DRIVE_DIR&#125;</span>/P3TERX.COM&quot;</span></span><br><span class="line">            <span class="built_in">echo</span></span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;LIGHT_GREEN_FONT_PREFIX&#125;</span>success<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span></span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;RED_FONT_PREFIX&#125;</span>failure<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">TASK_INFO</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;</span></span><br><span class="line"><span class="string">-------------------------- [<span class="variable">$&#123;YELLOW_FONT_PREFIX&#125;</span>Task Infomation<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>] --------------------------</span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task GID:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_GID&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Number of Files:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;FILE_NUM&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>First File Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;FILE_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task File Name:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_FILE_NAME&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Task Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;TASK_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Aria2 Download Directory:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;ARIA2_DOWNLOAD_DIR&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Custom Download Directory:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;DOWNLOAD_DIR&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Local Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;LOCAL_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>Remote Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;REMOTE_PATH&#125;</span></span></span><br><span class="line"><span class="string"><span class="variable">$&#123;LIGHT_PURPLE_FONT_PREFIX&#125;</span>.aria2 File Path:<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span> <span class="variable">$&#123;DOT_ARIA2_FILE&#125;</span></span></span><br><span class="line"><span class="string">-------------------------- [<span class="variable">$&#123;YELLOW_FONT_PREFIX&#125;</span>Task Infomation<span class="variable">$&#123;FONT_COLOR_SUFFIX&#125;</span>] --------------------------</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">OUTPUT_UPLOAD_LOG</span></span>() &#123;</span><br><span class="line">    LOG=<span class="string">&quot;<span class="variable">$&#123;UPLOAD_LOG&#125;</span>&quot;</span></span><br><span class="line">    LOG_PATH=<span class="string">&quot;<span class="variable">$&#123;UPLOAD_LOG_PATH&#125;</span>&quot;</span></span><br><span class="line">    OUTPUT_LOG</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">DEFINITION_PATH</span></span>() &#123;</span><br><span class="line">    LOCAL_PATH=<span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ -f <span class="string">&quot;<span class="variable">$&#123;TASK_PATH&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        REMOTE_PATH=<span class="string">&quot;<span class="variable">$&#123;DRIVE_NAME&#125;</span>:<span class="variable">$&#123;DRIVE_DIR&#125;</span><span class="variable">$&#123;DEST_PATH_SUFFIX%/*&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        REMOTE_PATH=<span class="string">&quot;<span class="variable">$&#123;DRIVE_NAME&#125;</span>:<span class="variable">$&#123;DRIVE_DIR&#125;</span><span class="variable">$&#123;DEST_PATH_SUFFIX&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">LOAD_RCLONE_ENV</span></span>() &#123;</span><br><span class="line">    RCLONE_ENV_FILE=<span class="string">&quot;<span class="variable">$&#123;ARIA2_CONF_DIR&#125;</span>/rclone.env&quot;</span></span><br><span class="line">    [[ -f <span class="variable">$&#123;RCLONE_ENV_FILE&#125;</span> ]] &amp;&amp; <span class="built_in">export</span> $(grep -Ev <span class="string">&quot;^#|^$&quot;</span> <span class="variable">$&#123;RCLONE_ENV_FILE&#125;</span> | xargs -0)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">UPLOAD_FILE</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Start upload files...&quot;</span></span><br><span class="line">    TASK_INFO</span><br><span class="line">    RETRY=0</span><br><span class="line">    RETRY_NUM=3</span><br><span class="line">    <span class="keyword">while</span> [ <span class="variable">$&#123;RETRY&#125;</span> -le <span class="variable">$&#123;RETRY_NUM&#125;</span> ]; <span class="keyword">do</span></span><br><span class="line">        [ <span class="variable">$&#123;RETRY&#125;</span> != 0 ] &amp;&amp; (</span><br><span class="line">            <span class="built_in">echo</span></span><br><span class="line">            <span class="built_in">echo</span> -e <span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Upload failed! Retry <span class="variable">$&#123;RETRY&#125;</span>/<span class="variable">$&#123;RETRY_NUM&#125;</span> ...&quot;</span></span><br><span class="line">            <span class="built_in">echo</span></span><br><span class="line">        )</span><br><span class="line">        rclone move -v <span class="string">&quot;<span class="variable">$&#123;LOCAL_PATH&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$&#123;REMOTE_PATH&#125;</span>&quot;</span></span><br><span class="line">        RCLONE_EXIT_CODE=$?</span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$&#123;RCLONE_EXIT_CODE&#125;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">            UPLOAD_LOG=<span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;INFO&#125;</span> Upload done: <span class="variable">$&#123;LOCAL_PATH&#125;</span> -&gt; <span class="variable">$&#123;REMOTE_PATH&#125;</span>&quot;</span></span><br><span class="line">            OUTPUT_UPLOAD_LOG</span><br><span class="line">            DELETE_EMPTY_DIR</span><br><span class="line">            <span class="built_in">break</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            RETRY=$((<span class="variable">$&#123;RETRY&#125;</span> + <span class="number">1</span>))</span><br><span class="line">            [ <span class="variable">$&#123;RETRY&#125;</span> -gt <span class="variable">$&#123;RETRY_NUM&#125;</span> ] &amp;&amp; (</span><br><span class="line">                <span class="built_in">echo</span></span><br><span class="line">                UPLOAD_LOG=<span class="string">&quot;<span class="subst">$(DATE_TIME)</span> <span class="variable">$&#123;ERROR&#125;</span> Upload failed: <span class="variable">$&#123;LOCAL_PATH&#125;</span>&quot;</span></span><br><span class="line">                OUTPUT_UPLOAD_LOG</span><br><span class="line">            )</span><br><span class="line">            <span class="built_in">sleep</span> 3</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHECK_CORE_FILE <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_SCRIPT_CONF</span><br><span class="line">CHECK_RCLONE <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">CHECK_FILE_NUM</span><br><span class="line">GET_TASK_INFO</span><br><span class="line">GET_DOWNLOAD_DIR</span><br><span class="line">CONVERSION_PATH</span><br><span class="line">DEFINITION_PATH</span><br><span class="line">CLEAN_UP</span><br><span class="line">LOAD_RCLONE_ENV</span><br><span class="line">UPLOAD_FILE</span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>
<h2 id="6ã€å®šæ—¶æ›´æ–°trackerä¿¡æ¯"><a href="#6ã€å®šæ—¶æ›´æ–°trackerä¿¡æ¯" class="headerlink" title="6ã€å®šæ—¶æ›´æ–°trackerä¿¡æ¯"></a>6ã€å®šæ—¶æ›´æ–°<code>tracker</code>ä¿¡æ¯</h2><p>ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo crontab -e`  </span><br></pre></td></tr></table></figure><br>æ·»åŠ ä»¥ä¸‹å†…å®¹:<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 9 * * * /opt/aria2/tracker.sh  // æ¯å¤©9ç‚¹æ‰§è¡Œæ›´æ–°è„šæœ¬</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™ï¼š  </p>
<p>1ã€<a href="https://www.10bests.com/deploy-aria2-webui-on-ubuntu-and-debian/">Ubuntu/Debianç³»ç»Ÿå®‰è£…é…ç½®aria2å’ŒWebUI</a></p>
<p>2ã€<a href="https://www.cnblogs.com/flymeng/p/7901062.html">Debian 9.x â€œstretchâ€ è§£å†³ /etc/rc.local å¼€æœºå¯åŠ¨é—®é¢˜</a>]:</p>
<p>3ã€<a href="https://github.com/P3TERX/aria2.conf">ä¸€é”®å®‰è£…åŠé…ç½®å¼€æºé¡¹ç›®åœ°å€ï¼š</a></p>
<p>4ã€<a href="https://blog.csdn.net/weixin_33728708/article/details/92560318">Debianä¸ŠCrontabçš„ä½¿ç”¨</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Aria2</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
        <tag>Debian</tag>
      </tags>
  </entry>
  <entry>
    <title>tarè¿›è¡Œæ–‡ä»¶å¤‡ä»½å’Œæ¢å¤æ“ä½œ</title>
    <url>/2021/12/30/Tar%E8%BF%9B%E8%A1%8C%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å…¨é‡å¤‡ä»½"><a href="#å…¨é‡å¤‡ä»½" class="headerlink" title="å…¨é‡å¤‡ä»½"></a>å…¨é‡å¤‡ä»½</h1><h2 id="åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¤¹å’Œæ–‡ä»¶"><a href="#åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¤¹å’Œæ–‡ä»¶" class="headerlink" title="åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¤¹å’Œæ–‡ä»¶"></a>åˆ›å»ºæµ‹è¯•æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> backupTest</span><br><span class="line"><span class="built_in">cd</span> backupTest</span><br><span class="line"><span class="built_in">touch</span> a.txt b.txt c.txt</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">drwxrwxrwx 1 yk yk  336 12æœˆ 30 12:46 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 a.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 b.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 c.txt</span><br></pre></td></tr></table></figure>
<h2 id="å…¨é‡å¤‡ä»½-1"><a href="#å…¨é‡å¤‡ä»½-1" class="headerlink" title="å…¨é‡å¤‡ä»½"></a>å…¨é‡å¤‡ä»½</h2><p>è¯­æ³•ï¼š<code>tar -g å¤‡ä»½å­˜æ”¾ç›®å½•/snapshot -czvf  å¤‡ä»½å­˜æ”¾ç›®å½•/å¤‡ä»½æ–‡ä»¶åç§° è¢«å¤‡ä»½ç›®å½•</code><br><strong>ç¬¬ä¸€æ¬¡è¿è¡Œä¸ºå…¨é‡å¤‡ä»½ï¼Œæ­¤åä¸ºå¢é‡å¤‡ä»½ã€‚</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -g /media/yk/å¤‡ç”¨/debian11_Backup/backupTest/snapshot -zcvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-full.tar.gz ./</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">tar: .ï¼šç›®å½•æ˜¯æ–°çš„</span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./b.txt</span><br><span class="line">./c.txt</span><br><span class="line">./snapshot</span><br></pre></td></tr></table></figure></p>
<p>å¤åˆ¶å…¨é‡å¤‡ä»½æ–‡ä»¶å¹¶é‡å‘½åä¸º<code>2021-12-30-add.tar.gz</code>ï¼Œåé¢æµ‹è¯•å¢é‡å¤‡ä»½æ—¶ç”¨åˆ°æ­¤<code>å¤‡ä»½æ–‡ä»¶åç§°</code>.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> ../2021-12-30-full.tar.gz ../2021-12-30-add.tar.gz</span><br></pre></td></tr></table></figure></p>
<h2 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h2><p>åˆ é™¤<strong>æµ‹è¯•æ–‡ä»¶å¤¹</strong>æ‰€æœ‰æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rm</span> ./*</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">drwxrwxrwx 1 yk yk   48 12æœˆ 30 13:36 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br></pre></td></tr></table></figure></p>
<h2 id="æ¢å¤å‘½ä»¤"><a href="#æ¢å¤å‘½ä»¤" class="headerlink" title="æ¢å¤å‘½ä»¤"></a>æ¢å¤å‘½ä»¤</h2><p>è¯­æ³•ï¼š<code>tar -zxvf å¤‡ä»½å­˜æ”¾ç›®å½•/å¤‡ä»½æ–‡ä»¶åç§° (æ¢å¤å¤‡ä»½ç›®å½•)</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-full.tar.gz ./</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./b.txt</span><br><span class="line">./c.txt</span><br><span class="line">./snapshot</span><br></pre></td></tr></table></figure></p>
<h1 id="å¢é‡å¤‡ä»½"><a href="#å¢é‡å¤‡ä»½" class="headerlink" title="å¢é‡å¤‡ä»½"></a>å¢é‡å¤‡ä»½</h1><h2 id="æ‰§è¡Œä¸€æ¬¡å¤‡ä»½"><a href="#æ‰§è¡Œä¸€æ¬¡å¤‡ä»½" class="headerlink" title="æ‰§è¡Œä¸€æ¬¡å¤‡ä»½"></a>æ‰§è¡Œä¸€æ¬¡å¤‡ä»½</h2><p><strong>æ³¨æ„</strong>å¤‡ä»½æ–‡ä»¶åï¼Œç”¨å‰é¢<code>å…¨é‡å¤‡ä»½</code>æ—¶å¤åˆ¶çš„æ–°æ–‡ä»¶<code>2021-12-30-add.tar.gz</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -g /media/yk/å¤‡ç”¨/debian11_Backup/backupTest/snapshot -zcvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-add.tar.gz ./</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">tar: .ï¼šç›®å½•æ˜¯æ–°çš„</span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./b.txt</span><br><span class="line">./c.txt</span><br><span class="line">./snapshot</span><br></pre></td></tr></table></figure></p>
<h2 id="æ”¹å˜å·²æœ‰æ–‡ä»¶å†…å®¹"><a href="#æ”¹å˜å·²æœ‰æ–‡ä»¶å†…å®¹" class="headerlink" title="æ”¹å˜å·²æœ‰æ–‡ä»¶å†…å®¹"></a>æ”¹å˜å·²æœ‰æ–‡ä»¶å†…å®¹</h2><p>ç»™<code>a.txt</code>æ–°å¢å†…å®¹ï¼Œå¹¶æ–°å»ºæ–‡ä»¶<code>d.txt</code>ã€<code>e.txt</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> &gt;&gt; a.txt &amp;&amp; <span class="built_in">touch</span> d.txt e.txt</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 5</span><br><span class="line">drwxrwxrwx 1 yk yk  440 12æœˆ 30 13:44 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br><span class="line">-rwxrwxrwx 1 yk yk   12 12æœˆ 30 13:44 a.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 b.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 c.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:44 d.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:44 e.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:32 snapshot</span><br></pre></td></tr></table></figure></p>
<h2 id="å¢é‡å¤‡ä»½-1"><a href="#å¢é‡å¤‡ä»½-1" class="headerlink" title="å¢é‡å¤‡ä»½"></a>å¢é‡å¤‡ä»½</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -g /media/yk/å¤‡ç”¨/debian11_Backup/backupTest/snapshot -zcvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-add.tar.gz ./</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./d.txt</span><br><span class="line">./e.txt</span><br><span class="line">./snapshot</span><br></pre></td></tr></table></figure>
<h1 id="æ¢å¤æ–‡ä»¶"><a href="#æ¢å¤æ–‡ä»¶" class="headerlink" title="æ¢å¤æ–‡ä»¶"></a>æ¢å¤æ–‡ä»¶</h1><h2 id="åˆ é™¤æ–‡ä»¶-1"><a href="#åˆ é™¤æ–‡ä»¶-1" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h2><p>åˆ é™¤<strong>æµ‹è¯•æ–‡ä»¶å¤¹</strong>æ‰€æœ‰æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rm</span> ./*</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">drwxrwxrwx 1 yk yk   48 12æœˆ 30 13:56 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br></pre></td></tr></table></figure></p>
<h2 id="æ‰§è¡Œå…¨é‡æ¢å¤"><a href="#æ‰§è¡Œå…¨é‡æ¢å¤" class="headerlink" title="æ‰§è¡Œå…¨é‡æ¢å¤"></a>æ‰§è¡Œå…¨é‡æ¢å¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-full.tar.gz ./</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./b.txt</span><br><span class="line">./c.txt</span><br><span class="line">./snapshot</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">drwxrwxrwx 1 yk yk  336 12æœˆ 30 13:32 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 a.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 b.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 c.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:32 snapshot</span><br></pre></td></tr></table></figure>
<h2 id="æ‰§è¡Œå¢é‡æ¢å¤"><a href="#æ‰§è¡Œå¢é‡æ¢å¤" class="headerlink" title="æ‰§è¡Œå¢é‡æ¢å¤"></a>æ‰§è¡Œå¢é‡æ¢å¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf /media/yk/å¤‡ç”¨/debian11_Backup/2021-12-30-add.tar.gz ./</span><br><span class="line">./</span><br><span class="line">./a.txt</span><br><span class="line">./d.txt</span><br><span class="line">./e.txt</span><br><span class="line">./snapshot</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ€»ç”¨é‡ 5</span><br><span class="line">drwxrwxrwx 1 yk yk  336 12æœˆ 30 13:49 .</span><br><span class="line">drwxrwxrwx 1 yk yk 4096 12æœˆ 30 12:46 ..</span><br><span class="line">-rwxrwxrwx 1 yk yk   12 12æœˆ 30 13:49 a.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 b.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 12:46 c.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:49 d.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk    0 12æœˆ 30 13:49 e.txt</span><br><span class="line">-rwxrwxrwx 1 yk yk  120 12æœˆ 30 13:48 snapshot</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>è¿ç»´</category>
        <category>å¤‡ä»½å’Œæ¢å¤</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>å¤‡ä»½å’Œæ¢å¤</tag>
        <tag>Tar</tag>
      </tags>
  </entry>
  <entry>
    <title>Ventoy+WePE2.1åšå¯åŠ¨ç›˜</title>
    <url>/2020/06/21/Ventoy+WePE2.1%E5%81%9A%E5%90%AF%E5%8A%A8%E7%9B%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€Dellçš„BIOSè®¾ç½®"><a href="#ä¸€ã€Dellçš„BIOSè®¾ç½®" class="headerlink" title="ä¸€ã€Dellçš„BIOSè®¾ç½®"></a>ä¸€ã€<code>Dell</code>çš„<code>BIOS</code>è®¾ç½®</h1><h2 id="1ã€ç”µè„‘å¼€æœºï¼ŒæŒ‰F2ï¼Œè¿›å…¥BIOS"><a href="#1ã€ç”µè„‘å¼€æœºï¼ŒæŒ‰F2ï¼Œè¿›å…¥BIOS" class="headerlink" title="1ã€ç”µè„‘å¼€æœºï¼ŒæŒ‰F2ï¼Œè¿›å…¥BIOS"></a>1ã€ç”µè„‘å¼€æœºï¼ŒæŒ‰<code>F2</code>ï¼Œè¿›å…¥BIOS</h2><h2 id="2ã€é€‰æ‹©Secure-Boot-Enable-å…³é—­Disabled"><a href="#2ã€é€‰æ‹©Secure-Boot-Enable-å…³é—­Disabled" class="headerlink" title="2ã€é€‰æ‹©Secure Boot Enable,å…³é—­Disabled"></a>2ã€é€‰æ‹©<code>Secure Boot Enable</code>,å…³é—­<code>Disabled</code></h2><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8vuVrHb8AisLyeLjAqBKCK.KnVU6UfCNMUduYVQJeHQjvn50E9SjkLYWSNSustEtTA!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0211501698&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Secure Boot Enable"></p>
<h2 id="3ã€è®¾ç½®ç¡¬ç›˜æ¨¡å¼ä¸ºAHCI"><a href="#3ã€è®¾ç½®ç¡¬ç›˜æ¨¡å¼ä¸ºAHCI" class="headerlink" title="3ã€è®¾ç½®ç¡¬ç›˜æ¨¡å¼ä¸ºAHCI"></a>3ã€è®¾ç½®ç¡¬ç›˜æ¨¡å¼ä¸º<code>AHCI</code></h2><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8q5JqDJRaxmMPCYpJGjoHhzrp1PF*hWQcACMqjIqqq4CJZsQ1YNOYGjleztVzYBOwQ!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=049455234&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="SATA Operation"></p>
<h2 id="4ã€ä¿®æ”¹BIOSå¼•å¯¼é¡ºåº"><a href="#4ã€ä¿®æ”¹BIOSå¼•å¯¼é¡ºåº" class="headerlink" title="4ã€ä¿®æ”¹BIOSå¼•å¯¼é¡ºåº"></a>4ã€ä¿®æ”¹<code>BIOS</code>å¼•å¯¼é¡ºåº</h2><p> <code>Boot List Option</code>é€‰æ‹©UEFIï¼Œ<code>Boot Sequence</code>æ·»åŠ è£…å¥½Ventoyçš„Uç›˜ã€‚</p>
<p> <img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8nqhZkU.rjx9uX.D7RSoD*5WpPyVTQh1nAkrb6WKgkwm27KbfvTmrDBtQJBunq92VQ!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=074209938&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Boot List Option"></p>
<h1 id="äºŒã€Ventoyè£…ç³»ç»Ÿ"><a href="#äºŒã€Ventoyè£…ç³»ç»Ÿ" class="headerlink" title="äºŒã€Ventoyè£…ç³»ç»Ÿ"></a>äºŒã€Ventoyè£…ç³»ç»Ÿ</h1><h2 id="1ã€å¼€æœºæŒ‰F12-è¿›å…¥å¼•å¯¼ç•Œé¢"><a href="#1ã€å¼€æœºæŒ‰F12-è¿›å…¥å¼•å¯¼ç•Œé¢" class="headerlink" title="1ã€å¼€æœºæŒ‰F12,è¿›å…¥å¼•å¯¼ç•Œé¢"></a>1ã€å¼€æœºæŒ‰<code>F12</code>,è¿›å…¥å¼•å¯¼ç•Œé¢</h2><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8gvcZJhdaXo7zzl*y.Rj2nv5NeOj.dnnWZt8cGlXP0OWXuQUnNr*RCB5R59FKOOlkw!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0206014546&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Boot List"></p>
<h2 id="2ã€å®‰è£…win10"><a href="#2ã€å®‰è£…win10" class="headerlink" title="2ã€å®‰è£…win10"></a>2ã€å®‰è£…win10</h2><h3 id="1-gt-è¿›å…¥Ventoyç•Œé¢ï¼Œé€‰æ‹©win10ç³»ç»ŸISOæ–‡ä»¶-å®‰è£…win10"><a href="#1-gt-è¿›å…¥Ventoyç•Œé¢ï¼Œé€‰æ‹©win10ç³»ç»ŸISOæ–‡ä»¶-å®‰è£…win10" class="headerlink" title="1&gt; è¿›å…¥Ventoyç•Œé¢ï¼Œé€‰æ‹©win10ç³»ç»ŸISOæ–‡ä»¶,å®‰è£…win10"></a>1&gt; è¿›å…¥Ventoyç•Œé¢ï¼Œé€‰æ‹©win10ç³»ç»ŸISOæ–‡ä»¶,å®‰è£…win10</h3><p>win10ç³»ç»ŸISOæ–‡ä»¶ä¸‹è½½æ–¹æ³•ï¼š</p>
<p>è¿›å…¥<a href="https://www.microsoft.com/zh-cn/software-download/windows10ISO">win10ç³»ç»ŸISOåœ°å€</a>,<code>å¼€å¯æµè§ˆå™¨è°ƒè¯•</code>ï¼Œ<code>åˆ·æ–°</code>ï¼Œå³å¯å‡ºç°ISOæ–‡ä»¶é€‰æ‹©ä¸‹è½½ç•Œé¢,å…³æ‰è°ƒè¯•ï¼Œé€‰æ‹©éœ€è¦çš„ISOæ–‡ä»¶ä¸‹è½½å³å¯ã€‚</p>
<p><img src="\pic\2020\12\win10ç³»ç»ŸISO.png" alt="win10ç³»ç»ŸISO"></p>
<p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8gghMFD.tJ2tFrmHjBiRaQixkRHd4DdL8rgOaqb*W8Om82l.7KfJs6Rstr.wE*fj4g!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0222155314&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="win10ç³»ç»ŸISOæ–‡ä»¶"></p>
<h3 id="2-gt-32æˆ–è€…64ç³»ç»Ÿé€‰æ‹©"><a href="#2-gt-32æˆ–è€…64ç³»ç»Ÿé€‰æ‹©" class="headerlink" title="2&gt; 32æˆ–è€…64ç³»ç»Ÿé€‰æ‹©"></a>2&gt; 32æˆ–è€…64ç³»ç»Ÿé€‰æ‹©</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8hNUrg6v9JUKjsrt4gJjaw1gvhMu0DySB5pdnXJvw8PQjxHmk*vmlELNhN6SFrAxWw!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0224711266&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="32æˆ–è€…64ç³»ç»Ÿ"></p>
<h3 id="3-gt-åŠ è½½ç¨‹åº"><a href="#3-gt-åŠ è½½ç¨‹åº" class="headerlink" title="3&gt; åŠ è½½ç¨‹åº"></a>3&gt; åŠ è½½ç¨‹åº</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8gbIeAwdhyU6kdd6.uqbu6RUDdQ4xytu0*ShBZ6AMHuRRurBX9X6gSpdmwjlr8ZVEA!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0265058578&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="32æˆ–è€…64ç³»ç»Ÿ"></p>
<h3 id="4-gt-ç¨‹åºå®‰è£…"><a href="#4-gt-ç¨‹åºå®‰è£…" class="headerlink" title="4&gt; ç¨‹åºå®‰è£…"></a>4&gt; ç¨‹åºå®‰è£…</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8hL.UVWAhiaikAhsH52KJQxnmIdrsoRryicUXXXOn*kVxzm8LREqUU5gswEhw4p*kA!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0130022610&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="32æˆ–è€…64ç³»ç»Ÿ"></p>
<h2 id="3ã€å®‰è£…win7"><a href="#3ã€å®‰è£…win7" class="headerlink" title="3ã€å®‰è£…win7"></a>3ã€å®‰è£…win7</h2><p>ã€æ³¨æ„ï¼š32ä½å¯åŠ¨ä¸æ”¯æŒUEFIã€‘</p>
<h3 id="1-gt-éœ€é…åˆwepeå®‰è£…å¾®peåœ°å€ï¼Œ"><a href="#1-gt-éœ€é…åˆwepeå®‰è£…å¾®peåœ°å€ï¼Œ" class="headerlink" title="1&gt; éœ€é…åˆwepeå®‰è£…å¾®peåœ°å€ï¼Œ"></a>1&gt; éœ€é…åˆwepeå®‰è£…<a href="http://www.wepe.com.cn/download.html">å¾®peåœ°å€</a>ï¼Œ</h3><h3 id="2-gt-å°†å·¥å…·ç®±åˆ¶ä½œæˆIOSé•œåƒåˆ¶ä½œæ–¹æ³•åœ°å€"><a href="#2-gt-å°†å·¥å…·ç®±åˆ¶ä½œæˆIOSé•œåƒåˆ¶ä½œæ–¹æ³•åœ°å€" class="headerlink" title="2&gt; å°†å·¥å…·ç®±åˆ¶ä½œæˆIOSé•œåƒåˆ¶ä½œæ–¹æ³•åœ°å€"></a>2&gt; å°†å·¥å…·ç®±åˆ¶ä½œæˆIOSé•œåƒ<a href="http://www.wepe.com.cn/ubook/installwepe.html">åˆ¶ä½œæ–¹æ³•åœ°å€</a></h3><p>ã€åœ¨ä¸‹é¢åˆ¶ä½œä¸­æ³¨æ„é€‰æ‹©å³ä¸‹è§’<code>**å…‰ç›˜**</code>å›¾æ ‡ã€‘<br><img src="http://www.wepe.com.cn/ubook/assets/img/PE2.d658a63d.png" alt="Wepeå·¥å…·ç®±å®‰è£…åˆ°Uç›˜"></p>
<h3 id="3-gt-æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Wepe-64-v2-1-iso-æ ¹æ®å‰é¢å®‰è£…å·¥å…·ç®±ç‰ˆæœ¬ä¸ä¸€æ ·åç§°ä¹Ÿä¼šä¸ä¸€æ ·"><a href="#3-gt-æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Wepe-64-v2-1-iso-æ ¹æ®å‰é¢å®‰è£…å·¥å…·ç®±ç‰ˆæœ¬ä¸ä¸€æ ·åç§°ä¹Ÿä¼šä¸ä¸€æ ·" class="headerlink" title="3&gt; æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Wepe_64_v2.1.iso(æ ¹æ®å‰é¢å®‰è£…å·¥å…·ç®±ç‰ˆæœ¬ä¸ä¸€æ ·åç§°ä¹Ÿä¼šä¸ä¸€æ ·)"></a>3&gt; æ”¾è¿›è£…å¥½<code>Ventoy</code>çš„Uç›˜ï¼Œé€‰æ‹©<code>Wepe_64_v2.1.iso</code>(æ ¹æ®å‰é¢å®‰è£…å·¥å…·ç®±ç‰ˆæœ¬ä¸ä¸€æ ·åç§°ä¹Ÿä¼šä¸ä¸€æ ·)</h3><h3 id="4-gt-è¿›å…¥æ¡Œé¢ï¼Œé€‰æ‹©DiskGeniusæ ¼å¼éœ€è¦å®‰è£…çš„å½±ç‰‡ç›˜ç¬¦ï¼Œé€€å‡º"><a href="#4-gt-è¿›å…¥æ¡Œé¢ï¼Œé€‰æ‹©DiskGeniusæ ¼å¼éœ€è¦å®‰è£…çš„å½±ç‰‡ç›˜ç¬¦ï¼Œé€€å‡º" class="headerlink" title="4&gt; è¿›å…¥æ¡Œé¢ï¼Œé€‰æ‹©DiskGeniusæ ¼å¼éœ€è¦å®‰è£…çš„å½±ç‰‡ç›˜ç¬¦ï¼Œé€€å‡º"></a>4&gt; è¿›å…¥æ¡Œé¢ï¼Œé€‰æ‹©<code>DiskGenius</code>æ ¼å¼éœ€è¦å®‰è£…çš„å½±ç‰‡ç›˜ç¬¦ï¼Œé€€å‡º</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8m.SS64jkSwYiDNdIh5PYDv3lDI0H9nyONLgFhaNyPFii7Z.D5FRjvN15Ko3DUd3cw!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0224512754&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Wepeç•Œé¢"></p>
<p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8jAzlgT5ednp7ZHcGhpK23B0xRSz3Lb1RyDzjDYF*9gHFL.u1kl5v2.JqVuTrsGHYQ!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0268258098&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="DiskGenius"></p>
<h3 id="5-gt-é€‰æ‹©WinNTSetpå®‰è£…å™¨è¿›è¡Œå®‰è£…"><a href="#5-gt-é€‰æ‹©WinNTSetpå®‰è£…å™¨è¿›è¡Œå®‰è£…" class="headerlink" title="5&gt; é€‰æ‹©WinNTSetpå®‰è£…å™¨è¿›è¡Œå®‰è£…"></a>5&gt; é€‰æ‹©<code>WinNTSetp</code>å®‰è£…å™¨è¿›è¡Œå®‰è£…</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8gO5ou.Xocae1wB*mnzfYeQO*Xc7VdY7oDlqmnm2Cw43eBTl5mklUdSxA4951FdtHw!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0215562530&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="WinNTSetp"></p>
<h2 id="4ã€å®‰è£…Fedora"><a href="#4ã€å®‰è£…Fedora" class="headerlink" title="4ã€å®‰è£…Fedora"></a>4ã€å®‰è£…Fedora</h2><h3 id="1-gt-ä¸‹è½½Fedora"><a href="#1-gt-ä¸‹è½½Fedora" class="headerlink" title="1&gt;ä¸‹è½½Fedora"></a>1&gt;ä¸‹è½½Fedora</h3><p> Fedora çš„ä¸‹è½½åœ°å€æ˜¯:<a href="https://getfedora.org/en/workstation/download/">ä¸‹è½½åœ°å€</a>,<code>For x86_64:Fedora 33: x86_64 DVD ISO</code></p>
<h3 id="2-gt-æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Fedora-Workstation-Live-x86-64-33-1-2-iso"><a href="#2-gt-æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Fedora-Workstation-Live-x86-64-33-1-2-iso" class="headerlink" title="2&gt; æ”¾è¿›è£…å¥½Ventoyçš„Uç›˜ï¼Œé€‰æ‹©Fedora-Workstation-Live-x86_64-33-1.2.iso"></a>2&gt; æ”¾è¿›è£…å¥½<code>Ventoy</code>çš„Uç›˜ï¼Œé€‰æ‹©<code>Fedora-Workstation-Live-x86_64-33-1.2.iso</code></h3><p>å…·ä½“å®‰è£…æ­¥éª¤æ–¹æ³•å‚ç…§<a href="https://ywnz.com/linuxaz/6764.html">äº‘ç½‘ç‰›ç«™ï¼šFedora 32ç³»ç»Ÿå®‰è£…</a>ã€‚</p>
<h3 id="3-gt-å®‰è£…å®Œæˆåæ¡Œé¢å±•ç¤ºï¼š"><a href="#3-gt-å®‰è£…å®Œæˆåæ¡Œé¢å±•ç¤ºï¼š" class="headerlink" title="3&gt;å®‰è£…å®Œæˆåæ¡Œé¢å±•ç¤ºï¼š"></a>3&gt;å®‰è£…å®Œæˆåæ¡Œé¢å±•ç¤ºï¼š</h3><p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8sOUtS9YZ238uG9WnyfTD4Xmb1bhBW5XcMTzJLwyyKOyUmYgBtTfgb88hFhFA8xetg!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=078690962&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Fedoraæ¡Œé¢"></p>
<p><img src="http://a1.qpic.cn/psc?/a96e2443-01e2-41c2-bab7-ebe84a7aa1d2/*PxJIR*kzvuHPyw9DCAb8hs6Yp5CdfbjTSeeJ7FKz0cfGmg.TZFC8NJGzFl3qiuUZycDyWXa4*LB3Q2dRr2*Dw!!/b&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=IAMrBCADKwQRECc!&amp;tl=3&amp;su=0223784754&amp;tm=1609052400&amp;sce=0-12-12&amp;rf=2-9" alt="Fedoraä¸€äº›ç¨‹åº"></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Windows</category>
        <category>Ventoy</category>
        <category>WePE</category>
      </categories>
      <tags>
        <tag>å¯åŠ¨ç›˜</tag>
        <tag>ç³»ç»Ÿ</tag>
        <tag>Windows</tag>
        <tag>Ventoy</tag>
        <tag>WePE</tag>
        <tag>Fedora</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows10ç³»ç»ŸSublimeText3å®‰è£…åŠä¸€äº›å¸¸ç”¨æ’ä»¶å®‰è£…é…ç½®</title>
    <url>/2020/11/05/Window10%E7%B3%BB%E7%BB%9F%E4%B8%8BSublimeText3%E5%AE%89%E8%A3%85%E5%8F%8A%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>åƒä¸‡æ³¨æ„é…ç½®æ–‡ä»¶ä¸­å‹¿ç”¨ä¸­æ–‡æ ‡ç‚¹ç¬¦å·</strong></p>
<p>3211ç‰ˆæœ¬æ³¨å†Œç ï¼š<br><code>è¯·è‡ªå¯»æœç´¢</code></p>
<h1 id="ä¸€ã€å®‰è£…æ’ä»¶å®‰è£…æ§åˆ¶Viewâ€”-gt-Show-Console"><a href="#ä¸€ã€å®‰è£…æ’ä»¶å®‰è£…æ§åˆ¶Viewâ€”-gt-Show-Console" class="headerlink" title="ä¸€ã€å®‰è£…æ’ä»¶å®‰è£…æ§åˆ¶Viewâ€”&gt;Show Console"></a>ä¸€ã€å®‰è£…æ’ä»¶å®‰è£…æ§åˆ¶<code>View</code>â€”&gt;<code>Show Console</code></h1><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request,os,hashlib; h = <span class="string">&#x27;6f4c264a24d933ce70df5dedcf1dcaee&#x27;</span> + <span class="string">&#x27;ebe013ee18cced0ef93d5f746d80ef60&#x27;</span>; pf = <span class="string">&#x27;Package Control.sublime-package&#x27;</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( <span class="string">&#x27;http://packagecontrol.io/&#x27;</span> + pf.replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;%20&#x27;</span>)).read(); dh = hashlib.sha256(by).hexdigest(); <span class="built_in">print</span>(<span class="string">&#x27;Error validating download (got %s instead of %s), please try manual install&#x27;</span> % (dh, h)) <span class="keyword">if</span> dh != h <span class="keyword">else</span> <span class="built_in">open</span>(os.path.join( ipp, pf), <span class="string">&#x27;wb&#x27;</span> ).write(by)</span><br></pre></td></tr></table></figure></p>
<h1 id="äºŒã€å®‰è£…SublimeTmplæ¨¡æ¿æ’ä»¶"><a href="#äºŒã€å®‰è£…SublimeTmplæ¨¡æ¿æ’ä»¶" class="headerlink" title="äºŒã€å®‰è£…SublimeTmplæ¨¡æ¿æ’ä»¶"></a>äºŒã€å®‰è£…<code>SublimeTmpl</code>æ¨¡æ¿æ’ä»¶</h1><ol>
<li><code>ctrl+alt+h</code> html5æ¨¡æ¿  </li>
<li><code>ctrl+alt+j</code> jsæ¨¡æ¿  </li>
<li><code>ctrl+alt+c</code> cssæ¨¡æ¿  </li>
<li><code>ctrl+alt+p</code> phpæ¨¡æ¿  </li>
<li><code>ctrl+alt+r</code> rubyæ¨¡æ¿  </li>
<li><code>ctrl+alt+shift+p</code> pythonæ¨¡æ¿   </li>
</ol>
<h1 id="ä¸‰ã€sublimeSideBaræ’ä»¶"><a href="#ä¸‰ã€sublimeSideBaræ’ä»¶" class="headerlink" title="ä¸‰ã€sublimeSideBaræ’ä»¶"></a>ä¸‰ã€<code>sublimeSideBar</code>æ’ä»¶</h1><p><code>sublime text 3 localhost</code> é…ç½®    </p>
<h2 id="1-å®‰è£…ä¾§è¾¹æ å¢å¼ºæ’ä»¶"><a href="#1-å®‰è£…ä¾§è¾¹æ å¢å¼ºæ’ä»¶" class="headerlink" title="1. å®‰è£…ä¾§è¾¹æ å¢å¼ºæ’ä»¶"></a>1. å®‰è£…ä¾§è¾¹æ å¢å¼ºæ’ä»¶</h2><p>åœ¨<code>Sublime Text 3</code>ä¸­ï¼Œå®‰è£… <code>SideBarEnhancements</code> ä¾§è¾¹æ å¢å¼ºæ’ä»¶ã€‚ </p>
<h2 id="2-é…ç½®SideBarEnhancements-æ’ä»¶"><a href="#2-é…ç½®SideBarEnhancements-æ’ä»¶" class="headerlink" title="2. é…ç½®SideBarEnhancements æ’ä»¶"></a>2. é…ç½®<code>SideBarEnhancements</code> æ’ä»¶</h2><p><code>SideBarEnhancements</code> æ’ä»¶å®‰è£…å®Œæˆåï¼Œé¦–å…ˆä¸º <code>SideBarEnhancements</code> æŒ‡å®šé»˜è®¤æµè§ˆå™¨ã€‚ã€è§4.æŒ‡å®šé»˜è®¤æµè§ˆå™¨ã€‘</p>
<h2 id="3-é…ç½®phpç¯å¢ƒ"><a href="#3-é…ç½®phpç¯å¢ƒ" class="headerlink" title="3. é…ç½®phpç¯å¢ƒ"></a>3. é…ç½®phpç¯å¢ƒ</h2><p><code>å·¥å…·</code>â€”&gt;<code>ç³»ç»Ÿç¼–è¯‘</code>â€”&gt;<code>æ–°ç¼–è¯‘ç³»ç»Ÿ</code>æ›¿æ¢å†…å®¹ä¸º:<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;cmd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;php&quot;</span><span class="punctuation">,</span> <span class="string">&quot;$file&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;file_regex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;php$&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;selector&quot;</span><span class="punctuation">:</span> <span class="string">&quot;source.php&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p><code>å¦å­˜æ–‡ä»¶</code>â€”&gt;<code>æ–‡ä»¶å¤¹é»˜è®¤</code>â€”&gt;æ–‡ä»¶å<code>php.sublime-build</code>   </p>
<h2 id="4-æŒ‡å®šé»˜è®¤æµè§ˆå™¨"><a href="#4-æŒ‡å®šé»˜è®¤æµè§ˆå™¨" class="headerlink" title="4. æŒ‡å®šé»˜è®¤æµè§ˆå™¨"></a>4. æŒ‡å®šé»˜è®¤æµè§ˆå™¨</h2><p>æ‰“å¼€<code>Preference</code>â€”&gt;<code>Package Settings</code>â€”&gt;<code>Side Bar</code>â€”&gt;<code>Settings User-User</code><br>ã€å¦‚æœåœ¨çƒ­é”®ç»‘å®š<code>browser: chrome</code>ä¸­è®¾ç½®ï¼Œåœ¨æ­¤å¯ä»¥ä¸è®¾ç½®ï¼Œå³çœç•¥æ­¤æ­¥ã€‘<br>//å•æµè§ˆå™¨é¢„è§ˆæœ¬åœ°æœåŠ¡å™¨url<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;default_browser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chrome&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="comment">//å¤šæµè§ˆå™¨é¢„è§ˆæœ¬åœ°æœåŠ¡å™¨url</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;open_all_browsers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;firefox&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;firefox-developer-edition&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;chrome&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;opera&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;safari&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;ie&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;edge&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-æŒ‡å®šé»˜è®¤localhsotç›®å½•"><a href="#5-æŒ‡å®šé»˜è®¤localhsotç›®å½•" class="headerlink" title="5. æŒ‡å®šé»˜è®¤localhsotç›®å½•"></a>5. æŒ‡å®šé»˜è®¤localhsotç›®å½•</h2><p>ä¸º<code>SideBarEnhancements</code>æŒ‡å®šé»˜è®¤<code>localhsot</code>ç›®å½•ã€‚ åœ¨ä¾§è¾¹æ ä»»æ„æ–‡æ¡£ä¸Šç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©<code>Project</code>â€”&gt;<code>Edit Preview URLs</code> ã€å¤šç«™ç‚¹é…ç½®ã€‘ã€æ–‡ä»¶å<code>SideBarEnhancements.json</code>ã€‘<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;F:\\php&quot;</span><span class="punctuation">:</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url_testing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8090/&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url_production&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8090/&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;J:\\WebSite\\SSCMS&quot;</span><span class="punctuation">:</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url_testing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8080/&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url_production&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8080/&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;E:\\WebSites\\gdjy_test&quot;</span><span class="punctuation">:</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url_testing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8081/&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url_production&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8081/&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">     <span class="attr">&quot;E:\\WebSites\\test&quot;</span><span class="punctuation">:</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url_testing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8082/&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url_production&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:8082/&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="6-çƒ­é”®ç»‘å®š"><a href="#6-çƒ­é”®ç»‘å®š" class="headerlink" title="6. çƒ­é”®ç»‘å®š"></a>6. çƒ­é”®ç»‘å®š</h2><p>æ‰“å¼€<code>Preference</code>â€”&gt;<code>Package Settings</code>â€”&gt;<code>Side Bar</code>â€”&gt;<code>key Bindings-User</code><br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> </span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;alt+m&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span> </span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;markdown_preview&quot;</span><span class="punctuation">,</span> </span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> </span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;browser&quot;</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="attr">&quot;parser&quot;</span><span class="punctuation">:</span><span class="string">&quot;markdown&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span>  </span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f1&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;caption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;subprocess&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf8&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cmd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;py&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-i&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-u&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$file_path&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;syntax&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Packages/Python/Python.tmLanguage&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;external_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;extend_env&quot;</span><span class="punctuation">:</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f2&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;caption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Py2&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;subprocess&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf8&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cmd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;py2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-i&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-u&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$file_path&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;syntax&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Packages/Python/Python.tmLanguage&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;external_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;extend_env&quot;</span><span class="punctuation">:</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f3&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;caption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python - RUN current file&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_python_run&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;mnemonic&quot;</span><span class="punctuation">:</span> <span class="string">&quot;R&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;subprocess&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf8&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cmd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;py&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-u&quot;</span><span class="punctuation">,</span> <span class="string">&quot;$file_basename&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$file_path&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;syntax&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Packages/Python/Python.tmLanguage&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;external_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;extend_env&quot;</span><span class="punctuation">:</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f4&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;caption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python - RUN current file&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_python_run&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;mnemonic&quot;</span><span class="punctuation">:</span> <span class="string">&quot;R&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;subprocess&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf8&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cmd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;py2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-u&quot;</span><span class="punctuation">,</span> <span class="string">&quot;$file_basename&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$file_path&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;syntax&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Packages/Python/Python.tmLanguage&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;external_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;extend_env&quot;</span><span class="punctuation">:</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ctrl+f5&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;side_bar_open_in_browser&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;testing&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;browser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ie&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f5&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;side_bar_open_in_browser&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;testing&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;browser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;firefox&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;f6&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;side_bar_open_in_browser&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//&quot;application&quot;: &quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot;,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;testing&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;browser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ctrl+shift+c&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;copy_path&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></p>
<h1 id="å››ã€å®‰è£…SublimeREPLæ¨¡æ¿æ’ä»¶"><a href="#å››ã€å®‰è£…SublimeREPLæ¨¡æ¿æ’ä»¶" class="headerlink" title="å››ã€å®‰è£…SublimeREPLæ¨¡æ¿æ’ä»¶"></a>å››ã€å®‰è£…<code>SublimeREPL</code>æ¨¡æ¿æ’ä»¶</h1><p>ä¸º<code>CTRL + B</code>ç»‘å®š<code>python</code><br>1ã€æ‰“å¼€<code>Preference</code>â€”&gt;<code>Package Settings</code>â€”&gt;<code>REPL user</code><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;default_extend_env&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;PATH&quot;</span><span class="punctuation">:</span><span class="string">&quot;&#123;PATH&#125;;&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;show_transferred_text&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>å‘½åå¹¶ä¿å­˜,å¦‚ï¼š<code>replPy.sublime-settings</code><br>2ã€æ‰“å¼€<code>Tools</code>â€”&gt;<code>Bulid System</code>â€”&gt;<code>New System</code><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;run_existing_window_command&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;repl_python_run&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;config/python/Main.sublime-menu&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>å‘½åå¹¶ä¿å­˜,å¦‚ï¼š<code>ReplPy.sublime-build</code>  </p>
<h1 id="äº”ã€Anaconda-pythonè¯­æ³•è‡ªåŠ¨å¡«å……æ’ä»¶"><a href="#äº”ã€Anaconda-pythonè¯­æ³•è‡ªåŠ¨å¡«å……æ’ä»¶" class="headerlink" title="äº”ã€Anaconda pythonè¯­æ³•è‡ªåŠ¨å¡«å……æ’ä»¶"></a>äº”ã€<code>Anaconda python</code>è¯­æ³•è‡ªåŠ¨å¡«å……æ’ä»¶</h1><p>æ‰“å¼€<code>Preference</code>â€”&gt;<code>Package Settings</code>â€”&gt;<code>Anaconda user</code><br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;python_interpreter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;E:/Program Files/Python3/python.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;suppress_word_completions&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;suppress_explicit_completions&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;complete_parameters&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>     <span class="comment">//è§£å†³è‡ªåŠ¨å¡«å……å‚æ•°è¿‡å¤š</span></span><br><span class="line">    <span class="attr">&quot;swallow_startup_errors&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//è§£å†³å¯åŠ¨é”™è¯¯</span></span><br><span class="line">    <span class="attr">&quot;anaconda_linting&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//è§£å†³ç™½æ¡†</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–æ’ä»¶<br>å‰ç«¯<br>æé€Ÿç”Ÿæˆhtmlä»£ç æ’ä»¶ <code>Emmet</code><br>ä»£ç è‡ªåŠ¨è¡¥å…¨æ’ä»¶     <code>SublimeCodeIntel</code><br>èµ„æºæŸ¥çœ‹å™¨æ’ä»¶       <code>PackageResourceViewer</code><br>å¯ä¿®æ”¹æ’ä»¶é…ç½®<br><strong>ã€ã€ã€ã€åƒä¸‡æ³¨æ„å‹¿ç”¨ä¸­æ–‡æ ‡ç‚¹ç¬¦å·ã€‘ã€‘ã€‘ã€‘</strong></p>
<p><a name="div6"></a></p>
<h1 id="å…­ã€IISé…ç½®PHPç¯å¢ƒ"><a href="#å…­ã€IISé…ç½®PHPç¯å¢ƒ" class="headerlink" title="å…­ã€IISé…ç½®PHPç¯å¢ƒ"></a>å…­ã€<code>IIS</code>é…ç½®<code>PHP</code>ç¯å¢ƒ</h1><h2 id="ä¸€-å®‰è£…é…ç½®PHP"><a href="#ä¸€-å®‰è£…é…ç½®PHP" class="headerlink" title="(ä¸€)å®‰è£…é…ç½®PHP"></a>(ä¸€)å®‰è£…é…ç½®<code>PHP</code></h2><p>1ã€é¦–å…ˆåˆ°<code>php</code>ä¸Šä¸‹è½½<code>php</code><a href="http://php.net/downloads.php">Phpå®˜ç½‘é“¾æ¥</a>,<code>windows download</code>  ï¼ˆç‰ˆæœ¬æ ¹æ®è‡ªå·±çš„éœ€è¦å®š)<br>2ã€ä¸‹è½½<code>php-7.3.6-nts-Win32-VC15-x86</code>(æ ¹æ®æƒ…å†µè‡ªè¡Œé€‰æ‹©32/64ä½)<br>3ã€è§£å‹è¿›å…¥è§£å‹ç›®å½•ï¼Œæ‰¾åˆ°<code>php.ini-development</code>è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥æ”¹åä¸º<code>php.ini</code>æ–‡ä»¶,ä¿®æ”¹é…ç½®å°†éœ€è¦é…ç½®çš„å»æ‰å‰é¢çš„<code>;</code>å¯ç”¨é…ç½®ï¼š<br>å¦‚ï¼š<code>On windows: extension_dir = E:\\Program Files\\PHP\\php-7.3.6-nts-VC15\\ext</code>ï¼ˆæ”¾ç½®æ‰©å±•çš„ç›®å½•ï¼‰<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">extension=odbc</span><br><span class="line">extension=openssl</span><br><span class="line">extension=pdo_firebird</span><br><span class="line">extension=pdo_mysql</span><br><span class="line">extension=pdo_oci</span><br><span class="line">extension=pdo_odbcs</span><br><span class="line">extension=pdo_pgsql</span><br><span class="line">extension=pdo_sqlite</span><br><span class="line">extension=pgsql ;é…ç½®æ”¯æŒMSSQL</span><br><span class="line">extension=php_sqlsrv_73_nts_x86 extension=php_sqlsrv_73_ts_x86 extension=php_pdo_sqlsrv_73_nts_x86 extension=php_pdo_sqlsrv_73_ts_x86</span><br></pre></td></tr></table></figure></p>
<p>æœ€åä¸è¦å¿˜äº†è®¾ç½®<code>session</code>æ–‡ä»¶çš„å­˜å‚¨ç›®å½•é…ç½®ï¼š<br>æ–‡ä»¶é‡Œçš„é»˜è®¤è®¾ç½®æ˜¯ï¼š<code>; session.save_path=/tmp</code><br>ç›®å½•è¦æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆè‡ªå·±ç”¨æ¥å­˜æ”¾<code>session</code>æ–‡ä»¶çš„ç›®å½•ã€‚ å¦‚:<code>session.save_path=F:\\tmp</code>.  é…ç½®å®Œåä¿å­˜é€€å‡ºï¼Œè¿˜è¦è®¾ç½®ä¸€ä¸‹<code>F:\\tmp</code>æ–‡ä»¶å¤¹çš„æƒé™ï¼Œä¸ç„¶ä¼šæç¤ºé”™è¯¯ã€‚<br><code>æ–‡ä»¶å¤¹</code>â†’<code>å±æ€§</code>â†’<code>å®‰å…¨ç»™IIS_IUSRS</code>ç”¨æˆ·æˆæƒ  </p>
<h2 id="äºŒ-å®‰è£…é…ç½®IIS"><a href="#äºŒ-å®‰è£…é…ç½®IIS" class="headerlink" title="(äºŒ)å®‰è£…é…ç½®IIS"></a>(äºŒ)å®‰è£…é…ç½®<code>IIS</code></h2><p>1ã€<code>æ§åˆ¶é¢æ¿</code>-â†’<code>ç¨‹åº</code>-â†’<code>æ‰“å¼€æˆ–å…³é—­WindowsåŠŸèƒ½</code>-â†’<code>Internetä¿¡æ¯æœåŠ¡</code> ã€ç¡®ä¿å‹¾é€‰<code>IISç®¡ç†æ§åˆ¶å°</code>å’Œ<code>ä¸‡ç»´ç½‘æœåŠ¡</code>ä¸­çš„<code>åº”ç”¨ç¨‹åºå¼€å‘åŠŸèƒ½</code>-â†’<code>CGI</code>ã€‘<br>2ã€é…ç½®PHPè¿è¡Œç¯å¢ƒï¼š å¯åŠ¨<code>IISä¿¡æ¯ç®¡ç†å™¨</code>-â†’<code>å¤„ç†ç¨‹åºæ˜ å°„</code>-â†’<code>æ·»åŠ æ¨¡å—æ˜ å°„</code>-â†’è¯·æ±‚è·¯å¾„ï¼š<code>*.php</code>;æ¨¡å—ï¼š<code>FastCgiModule</code>;<br>å¯æ‰§è¡Œæ–‡ä»¶ï¼šè§£å‹çš„<code>PHP</code>ç›®å½•ä¸‹<code>php-cgi.exe</code>â€;åç§°ï¼š<code>PHP</code> </p>
<h1 id="ä¸ƒã€PHPé…ç½®è¿æ¥MSSQLæ‰©å±•"><a href="#ä¸ƒã€PHPé…ç½®è¿æ¥MSSQLæ‰©å±•" class="headerlink" title="ä¸ƒã€PHPé…ç½®è¿æ¥MSSQLæ‰©å±•"></a>ä¸ƒã€PHPé…ç½®è¿æ¥MSSQLæ‰©å±•</h1><p>1ã€ä¸‹è½½<code>SQL Server</code>é©±åŠ¨<code>4.0</code> <a href="https://docs.microsoft.com/en-us/sql/connect/php/download-drivers-php-sql-server?view=sql-server-2017">SQL Serveré©±åŠ¨4.0ä¸‹è½½åœ°å€</a>æ”¾åˆ°<code>php</code>å®‰è£…ç›®å½•ä¸‹çš„<code>ext</code>ç›®å½•ä¸‹,å¹¶ç»™<code>php.ini</code>æ·»åŠ é…ç½®.<a href="#div6">åœ¨å‰é¢ç¬¬å…­éƒ¨åˆ†<code>IISé…ç½®PHPç¯å¢ƒ</code></a>  </p>
<p>2ã€å®‰è£…<code>ODBC</code>é©±åŠ¨<code>11</code> <a href="https://www.microsoft.com/en-us/download/details.aspx?id=36434">ODBCé©±åŠ¨ä¸‹è½½åœ°å€</a>  </p>
<p>3ã€æµ‹è¯•æ•°æ®åº“è¿æ¥  </p>
<p>â‘ <code>sqlsrv_connect</code><br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$serverName</span> = localhost, <span class="number">1433</span>; <span class="comment">//serverName\instanceName, portNumber (default is 1433)</span></span><br><span class="line"><span class="variable">$connectionInfo</span> = <span class="keyword">array</span>( Database=&gt;PHP, UID=&gt;sa, PWD=&gt;xxxxx);</span><br><span class="line"><span class="variable">$conn</span> = <span class="title function_ invoke__">sqlsrv_connect</span>( <span class="variable">$serverName</span>, <span class="variable">$connectionInfo</span>);</span><br><span class="line"><span class="keyword">if</span>( <span class="variable">$conn</span> ) &#123;</span><br><span class="line">     <span class="keyword">echo</span> è¿æ¥æˆåŠŸ.&lt;br /&gt;;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="keyword">echo</span> è¿æ¥å‡ºç°é”™è¯¯.&lt;br /&gt;;</span><br><span class="line">     <span class="keyword">die</span>( <span class="title function_ invoke__">print_r</span>( <span class="title function_ invoke__">sqlsrv_errors</span>(), <span class="literal">true</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>â‘¡<code>PDO</code>è¿æ¥</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = localhost;</span><br><span class="line"><span class="variable">$username</span> = sa;</span><br><span class="line"><span class="variable">$password</span> = XXXXXX;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$conn</span> = <span class="keyword">new</span> <span class="title function_ invoke__">PDO</span>(<span class="attr">sqlsrv</span>:Server=<span class="variable">$servername</span>;, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line">    <span class="keyword">echo</span> PDOè¿æ¥æ–¹å¼è¿æ¥æˆåŠŸ; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(PDOException <span class="variable">$e</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;è¿æ¥å¤±è´¥ï¼š&#x27;</span>. <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>â‘¢ã€<code>odbc_connect</code> æµ‹è¯•è¿æ¥<code>access</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// Microsoft SQL Server using the SQL Native Client 10.0 ODBC Driver - allows connection to SQL 7, 2000, 2005 and 2008</span></span><br><span class="line"><span class="comment">// $db=f:/asp/siteserver_install/gdjy/students.mdb;</span></span><br><span class="line"><span class="variable">$mdbFilename</span>=f:/asp/siteserver_install/gdjy/students.mdb;</span><br><span class="line"><span class="variable">$username</span> = oooooo;  <span class="comment">//ç”¨æˆ·å</span></span><br><span class="line"><span class="variable">$password</span> = xxxxx;   <span class="comment">//å¯†ç </span></span><br><span class="line"><span class="variable">$connection</span> = <span class="title function_ invoke__">odbc_connect</span>(Driver=&#123;Microsoft Access <span class="title function_ invoke__">Driver</span> (*.mdb)&#125;;Dbq=<span class="variable">$mdbFilename</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line"><span class="comment">// try &#123;</span></span><br><span class="line"><span class="comment">//  $connection = odbc_connect(Driver=&#123;Microsoft Access Driver (*.mdb)&#125;;Dbq=$mdbFilename, $username, $password);</span></span><br><span class="line"><span class="comment">//  echo è¿æ¥æˆåŠŸ;</span></span><br><span class="line"><span class="comment">// &#125;catch(odbc_connect $e)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     echo &#x27;è¿æ¥å¤±è´¥ï¼š&#x27;. $e-&gt;getMessage();</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$connection</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> è¿æ¥æˆåŠŸ.;</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">die</span>(Connection could not be established.);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Access</category>
        <category>SublimeText3</category>
        <category>MsSQL</category>
      </categories>
      <tags>
        <tag>Access</tag>
        <tag>MsSQL</tag>
        <tag>PHP</tag>
        <tag>SublimeText3</tag>
        <tag>Windows10</tag>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>you-getçš„å®‰è£…å’Œä½¿ç”¨</title>
    <url>/2022/01/03/You-get%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…you-get"><a href="#å®‰è£…you-get" class="headerlink" title="å®‰è£…you-get"></a>å®‰è£…<code>you-get</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install you-get</span><br><span class="line"><span class="comment"># æœ€å¥½å®‰è£…ffmpegä¾èµ–ï¼Œå¦åˆ™å¾ˆå¤šç½‘ç«™è§†é¢‘æ˜¯è·å–ä¸äº†ï¼Œç›®å‰æœ€æ–°ç¨³å®šç‰ˆæ˜¯4.4</span></span><br><span class="line">sudo apt install ffmpeg</span><br></pre></td></tr></table></figure>
<h1 id="you-getçš„åŸºæœ¬ä½¿ç”¨"><a href="#you-getçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="you-getçš„åŸºæœ¬ä½¿ç”¨"></a><code>you-get</code>çš„åŸºæœ¬ä½¿ç”¨</h1><h2 id="æŸ¥è¯¢è§†é¢‘æ‰€æœ‰æ ¼å¼å’Œæ¸…æ™°åº¦ç­‰ä¿¡æ¯"><a href="#æŸ¥è¯¢è§†é¢‘æ‰€æœ‰æ ¼å¼å’Œæ¸…æ™°åº¦ç­‰ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢è§†é¢‘æ‰€æœ‰æ ¼å¼å’Œæ¸…æ™°åº¦ç­‰ä¿¡æ¯"></a>æŸ¥è¯¢è§†é¢‘æ‰€æœ‰æ ¼å¼å’Œæ¸…æ™°åº¦ç­‰ä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">you-get -i è§†é¢‘ç½‘å€</span><br><span class="line"><span class="comment"># æ¯”å¦‚ï¼š</span></span><br><span class="line">you-get  -x 127.0.0.1:7890  -i https://www.youtube.com/watch\?v=çœç•¥</span><br><span class="line"></span><br><span class="line">site:                YouTube</span><br><span class="line">title:               ......Relaxing Relax Music,Study music</span><br><span class="line">streams:             <span class="comment"># Available quality and codecs</span></span><br><span class="line">    [ DASH ] ____________________________________</span><br><span class="line">    - itag:          247</span><br><span class="line">      container:     webm</span><br><span class="line">      quality:       1280x720 (720p)</span><br><span class="line">      size:          1565.2 MiB (1641238562 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=247 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          136</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       1280x720 (720p)</span><br><span class="line">      size:          1397.6 MiB (1465484796 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=136 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          398</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       1280x720 (720p)</span><br><span class="line">      size:          1353.9 MiB (1419679674 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=398 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          244</span><br><span class="line">      container:     webm</span><br><span class="line">      quality:       854x480 (480p)</span><br><span class="line">      size:          862.5 MiB (904344987 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=244 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          135</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       854x480 (480p)</span><br><span class="line">      size:          800.1 MiB (838937810 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=135 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          397</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       854x480 (480p)</span><br><span class="line">      size:          737.8 MiB (773592988 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=397 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          243</span><br><span class="line">      container:     webm</span><br><span class="line">      quality:       640x360 (360p)</span><br><span class="line">      size:          599.1 MiB (628161660 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=243 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          396</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       640x360 (360p)</span><br><span class="line">      size:          513.1 MiB (538023785 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=396 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          134</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       640x360 (360p)</span><br><span class="line">      size:          485.7 MiB (509248710 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=134 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          242</span><br><span class="line">      container:     webm</span><br><span class="line">      quality:       426x240 (240p)</span><br><span class="line">      size:          418.4 MiB (438695050 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=242 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          278</span><br><span class="line">      container:     webm</span><br><span class="line">      quality:       256x144 (144p)</span><br><span class="line">      size:          402.5 MiB (422045631 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=278 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          133</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       426x240 (240p)</span><br><span class="line">      size:          376.9 MiB (395192598 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=133 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          395</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       426x240 (240p)</span><br><span class="line">      size:          369.4 MiB (387382024 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=395 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          394</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       256x144 (144p)</span><br><span class="line">      size:          322.8 MiB (338492890 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=394 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          160</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       256x144 (144p)</span><br><span class="line">      size:          276.3 MiB (289669585 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=160 [URL]</span></span><br><span class="line"></span><br><span class="line">    [ DEFAULT ] _________________________________</span><br><span class="line">    - itag:          22</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       hd720</span><br><span class="line">      size:          1396.8 MiB (1464679967 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=22 [URL]</span></span><br><span class="line"></span><br><span class="line">    - itag:          18</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       medium</span><br><span class="line">    <span class="comment"># download-with: you-get --itag=18 [URL]</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ä¸‹é¢æç¤ºçš„ä¸‹è½½æ–¹æ³•.<strong><code>download-with: you-get --itag=18 [URL]</code></strong></p>
<h2 id="ä¸‹è½½æŒ‡å®šæ ¼å¼"><a href="#ä¸‹è½½æŒ‡å®šæ ¼å¼" class="headerlink" title="ä¸‹è½½æŒ‡å®šæ ¼å¼"></a>ä¸‹è½½æŒ‡å®šæ ¼å¼</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¯”å¦‚ Bç«™</span></span><br><span class="line"><span class="comment"># æŸ¥è¯¢</span></span><br><span class="line">you-get -i https://www.bilibili.com/video/xxxxxxxxx    </span><br><span class="line">you-get: This is a multipart video. (use --playlist to download all parts.)</span><br><span class="line">site:                Bilibili</span><br><span class="line">title:               XXXXXXXXX</span><br><span class="line">streams:             <span class="comment"># Available quality and codecs</span></span><br><span class="line">    [ DASH ] ____________________________________</span><br><span class="line">    - format:        dash-flv720</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       é«˜æ¸… 720P</span><br><span class="line">      size:          495.5 MiB (519523605 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=dash-flv720 [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        dash-flv</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       é«˜æ¸… 1080P</span><br><span class="line">      size:          495.4 MiB (519418344 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=dash-flv [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        dash-flv480</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       æ¸…æ™° 480P</span><br><span class="line">      size:          270.7 MiB (283870193 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=dash-flv480 [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        dash-flv360</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       æµç•… 360P</span><br><span class="line">      size:          102.5 MiB (107469058 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=dash-flv360 [URL]</span></span><br><span class="line"></span><br><span class="line">    [ DEFAULT ] _________________________________</span><br><span class="line">    - format:        flv</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       é«˜æ¸… 1080P</span><br><span class="line">      size:          497.1 MiB (521198741 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=flv [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        flv720</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       é«˜æ¸… 720P</span><br><span class="line">      size:          497.2 MiB (521304002 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=flv720 [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        flv480</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       æ¸…æ™° 480P</span><br><span class="line">      size:          226.9 MiB (237943337 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=flv480 [URL]</span></span><br><span class="line"></span><br><span class="line">    - format:        flv360</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       æµç•… 360P</span><br><span class="line">      size:          103.1 MiB (108137452 bytes)</span><br><span class="line">    <span class="comment"># download-with: you-get --format=flv360 [URL]</span></span><br><span class="line"><span class="comment"># ä¸‹è½½flv 1080pçš„è§†é¢‘ </span></span><br><span class="line">you-get -F=flv è§†é¢‘ç½‘å€</span><br><span class="line"><span class="comment"># å…¶ä¸­ -Få’Œ--formatå¯äº’æ¢</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¸‹è½½åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å"><a href="#ä¸‹è½½åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å" class="headerlink" title="ä¸‹è½½åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å"></a>ä¸‹è½½åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å</h3><p>ä¸‹è½½ä¸æŒ‡å®šåç§°å’Œä¿å­˜è·¯å¾„çš„è¯ï¼Œ<code>you-get</code>ä¼šä»¥æŸ¥åˆ°çš„åç§°æ¥å‘½åï¼Œå¹¶ä¿å­˜åˆ°å½“å‰è·¯å¾„ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">you-get -o ä¿å­˜çš„è·¯å¾„  -O ä¿å­˜çš„åç§° -F=è§†é¢‘æ ¼å¼ è§†é¢‘ç½‘å€</span><br><span class="line"><span class="comment"># -O ç­‰åŒäº --output-filenameï¼›-o ç­‰åŒäº --output-dirï¼›-Fç­‰åŒäº--format</span></span><br></pre></td></tr></table></figure></p>
<h3 id="åˆ—è¡¨ä¸‹è½½"><a href="#åˆ—è¡¨ä¸‹è½½" class="headerlink" title="åˆ—è¡¨ä¸‹è½½"></a>åˆ—è¡¨ä¸‹è½½</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">you-get -o ä¿å­˜çš„è·¯å¾„  -O ä¿å­˜çš„åç§° -F=è§†é¢‘æ ¼å¼ -l  è§†é¢‘ç½‘å€</span><br><span class="line"><span class="comment"># å…¶ä¸­</span></span><br><span class="line"><span class="comment"># -lç­‰åŒäº--playlist</span></span><br></pre></td></tr></table></figure>
<h3 id="å¸¦ä»£ç†ä¸‹è½½"><a href="#å¸¦ä»£ç†ä¸‹è½½" class="headerlink" title="å¸¦ä»£ç†ä¸‹è½½"></a>å¸¦ä»£ç†ä¸‹è½½</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">you-get  -x ä»£ç†ipï¼šç«¯å£ -o ä¿å­˜çš„è·¯å¾„  -O ä¿å­˜çš„åç§° -F=æ ¹æ®ä¸ªäººé€‰æ‹© è§†é¢‘ç½‘å€</span><br></pre></td></tr></table></figure>
<h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><p>å¯ä»¥ç”¨å‘½ä»¤æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">you-get -h</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">you-get --<span class="built_in">help</span></span><br></pre></td></tr></table></figure></p>
<h1 id="pythonæ‰¹é‡ä¸‹è½½"><a href="#pythonæ‰¹é‡ä¸‹è½½" class="headerlink" title="pythonæ‰¹é‡ä¸‹è½½"></a><code>python</code>æ‰¹é‡ä¸‹è½½</h1><h2 id="osæ¨¡å—"><a href="#osæ¨¡å—" class="headerlink" title="osæ¨¡å—"></a><code>os</code>æ¨¡å—</h2><p>ä¸‹é¢ä»¥ä¸‹è½½Bç«™è§†é¢‘ä¸ºä¾‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># os æ¨¡å— ##</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">66</span>,<span class="number">68</span>):</span><br><span class="line">  save_path = <span class="string">r&#x27;/save/video/path&#x27;</span></span><br><span class="line">  v_format = <span class="string">&#x27;flv&#x27;</span></span><br><span class="line">  v_url = <span class="string">f&#x27;https://www.bilibili.com/video/xxxxxxxxxx\?p\=<span class="subst">&#123;i&#125;</span>&#x27;</span></span><br><span class="line">  os.system(<span class="string">f&quot;you-get -o &#x27;<span class="subst">&#123;save_path&#125;</span>&#x27; -F=<span class="subst">&#123;v_format&#125;</span> <span class="subst">&#123;v_url&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬ <span class="subst">&#123;i&#125;</span> ä¸‹è½½æˆåŠŸ&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="you-getæ¨¡å—"><a href="#you-getæ¨¡å—" class="headerlink" title="you-getæ¨¡å—"></a><code>you-get</code>æ¨¡å—</h2><h3 id="å®‰è£…you-getæ¨¡å—"><a href="#å®‰è£…you-getæ¨¡å—" class="headerlink" title="å®‰è£…you-getæ¨¡å—"></a>å®‰è£…<code>you-get</code>æ¨¡å—</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install you-get</span><br></pre></td></tr></table></figure>
<h3 id="å®ä¾‹ï¼ˆåœ¨linuxç»ˆç«¯ä¸Šæµ‹è¯•ä¸æˆåŠŸï¼‰"><a href="#å®ä¾‹ï¼ˆåœ¨linuxç»ˆç«¯ä¸Šæµ‹è¯•ä¸æˆåŠŸï¼‰" class="headerlink" title="å®ä¾‹ï¼ˆåœ¨linuxç»ˆç«¯ä¸Šæµ‹è¯•ä¸æˆåŠŸï¼‰"></a>å®ä¾‹ï¼ˆåœ¨<code>linux</code>ç»ˆç«¯ä¸Šæµ‹è¯•ä¸æˆåŠŸï¼‰</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> you_get <span class="keyword">import</span> common <span class="keyword">as</span> you_get</span><br><span class="line"></span><br><span class="line"><span class="comment"># sys.argv=[&#x27;you-get&#x27;,&#x27;-h&#x27;]</span></span><br><span class="line"><span class="comment"># you_get.main()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># you_get æ¨¡å— ##</span></span><br><span class="line"><span class="comment"># for i in range(1,11):</span></span><br><span class="line"><span class="comment">#   save_path = r&#x27;/save/video/path&#x27;</span></span><br><span class="line"><span class="comment">#   v_url = f&#x27;https://www.bilibili.com/video/###########\?p\=&#123;i&#125;&#x27;</span></span><br><span class="line"><span class="comment">#   v_format = &#x27;flv&#x27;</span></span><br><span class="line"><span class="comment">#   you_get.any_download(url=v_url,stream_id=v_format,info_only=False,output_dir=save_path,merge=True)</span></span><br><span class="line"><span class="comment">#   print(f&#x27;ç¬¬ &#123;i&#125; ä¸‹è½½æˆåŠŸ&#x27;)</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Python</category>
        <category>you-get</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>You-get</tag>
      </tags>
  </entry>
  <entry>
    <title>youtube-dlè°ƒç”¨aria2å’Œffmpegä¸‹è½½åˆå¹¶è§†é¢‘</title>
    <url>/2021/01/11/Youtube-dl%E8%B0%83%E7%94%A8aria2%E5%92%8Cffmpeg%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%90%88%E5%B9%B6%E8%A7%86%E9%A2%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h1><p><a href="https://www.youtube-dl.org/">youtube-dlå®˜ç½‘ï¼š</a><br><a href="https://github.com/ytdl-org/youtube-dl/releases">youtube-dlæœ€æ–°å‘å¸ƒç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼š</a><br><a href="https://github.com/aria2/aria2">aria2é¡¹ç›®ï¼š</a><br><a href="https://github.com/aria2/aria2">aria2æœ€æ–°å‘å¸ƒç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼š</a>  </p>
<h1 id="1ã€åŸºæœ¬ç”¨æ³•"><a href="#1ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="1ã€åŸºæœ¬ç”¨æ³•"></a>1ã€åŸºæœ¬ç”¨æ³•</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl <span class="string">&quot;è§†é¢‘æ–‡ä»¶ç½‘ç»œè·¯å¾„&quot;</span>  --external-downloader aria2c --external-downloader-args <span class="string">&quot;-x 16 -k 1M&quot;</span> -o f:/yz3.mp4</span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜ï¼š<br><code>--external-downloader aria2c</code> //è°ƒç”¨å¤–éƒ¨ä¸‹è½½å·¥å…·<br><code>--external-downloader-args</code> //å¤–éƒ¨ä¸‹è½½å·¥å…·æŒ‡å®šå‚æ•°<br><code>-x 16</code> //å¯ç”¨aria2 16ä¸ªçº¿ç¨‹ï¼Œæœ€å¤šå°±æ”¯æŒ16çº¿ç¨‹<br><code>-k 1M</code> //æŒ‡å®šå—çš„å¤§å°<br>ä»£ç†<br><code>--proxy &quot;https://127.0.0.1:1080&quot;</code><br>  //æˆ–è€…ç›´æ¥è¿™æ ·<br>  <code>--proxy 127.0.0.1:1080</code></p>
<p>é™„ï¼šã€å•ç‹¬aria2çš„ä»£ç†ä¸‹è½½å‘½ä»¤ã€‘<br>ä¾‹å¦‚ä¸‹è½½<code>potplayer</code>æ’­æ”¾å™¨ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aria2c  --https-proxy=<span class="string">&quot;http://127.0.0.1:7890&quot;</span> -o /path/to/save/ https://t1.daumcdn.net/potplayer/PotPlayer/Version/Latest/PotPlayerSetup64.exe</span><br><span class="line"><span class="comment">#  --https-proxy=&quot;å¡«å†™è‡ªå·±ä»£ç†ä¿¡æ¯&quot;</span></span><br></pre></td></tr></table></figure><br>å…·ä½“å‚è§ï¼š<br><a href="https://aria2.github.io/manual/en/html/aria2c.html#http-ftp-sftp-options">HTTP/FTP/SFTP Options</a></p>
<h1 id="2ã€ä¸‹è½½è§†é¢‘åˆ—è¡¨"><a href="#2ã€ä¸‹è½½è§†é¢‘åˆ—è¡¨" class="headerlink" title="2ã€ä¸‹è½½è§†é¢‘åˆ—è¡¨"></a>2ã€ä¸‹è½½è§†é¢‘åˆ—è¡¨</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl [playlist_url] //ä¸‹è½½è§†é¢‘åˆ—è¡¨,è¿™ç§æ–¹å¼ä¸‹è½½çš„è§†é¢‘å¯èƒ½æ˜¯mkvæ ¼å¼æˆ–è€…webmæ ¼å¼</span><br><span class="line">youtube-dl -cit [playlist_url] //ä¸‹è½½è§†é¢‘åˆ—è¡¨,è¿™ç§æ–¹å¼ä¸‹è½½çš„è§†é¢‘å¯èƒ½æ˜¯mkvæ ¼å¼æˆ–è€…webmæ ¼å¼</span><br><span class="line">youtube-dl --yes-playlist [url] //å½“é“¾æ¥ä¸ºè§†é¢‘åˆ—è¡¨,åˆ™ä¸‹è½½è¯¥åˆ—è¡¨è§†é¢‘,è·Ÿä¸Šé¢çš„ä¸€æ ·,å¯èƒ½æ˜¯mkvæˆ–è€…webmæ ¼å¼</span><br></pre></td></tr></table></figure>
<h1 id="3ã€ä¸‹è½½å­—å¹•"><a href="#3ã€ä¸‹è½½å­—å¹•" class="headerlink" title="3ã€ä¸‹è½½å­—å¹•"></a>3ã€ä¸‹è½½å­—å¹•</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl --write-sub --skip-download [url] //ä¸‹è½½å•ç‹¬çš„vttå­—å¹•æ–‡ä»¶,è€Œä¸ä¼šä¸‹è½½è§†é¢‘</span><br><span class="line">youtube-dl --write-sub --all-subs [url] //ä¸‹è½½æ‰€æœ‰è¯­è¨€çš„å­—å¹•(å¦‚æœæœ‰çš„è¯)</span><br><span class="line">youtube-dl --write-auto-sub [url] //ä¸‹è½½è‡ªåŠ¨ç”Ÿæˆçš„å­—å¹•(YouTube only)</span><br></pre></td></tr></table></figure>
<h1 id="4ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹-åªçœ‹ä¸ä¸‹è½½"><a href="#4ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹-åªçœ‹ä¸ä¸‹è½½" class="headerlink" title="4ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹,åªçœ‹ä¸ä¸‹è½½"></a>4ã€æŸ¥çœ‹è§†é¢‘æ‰€æœ‰ç±»å‹,åªçœ‹ä¸ä¸‹è½½</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl -F <span class="string">&quot;è§†é¢‘æ–‡ä»¶ç½‘ç»œè·¯å¾„&quot;</span>  </span><br></pre></td></tr></table></figure>
<h1 id="5ã€ä¸‹è½½æŒ‡å®šè´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶"><a href="#5ã€ä¸‹è½½æŒ‡å®šè´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶" class="headerlink" title="5ã€ä¸‹è½½æŒ‡å®šè´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶"></a>5ã€ä¸‹è½½æŒ‡å®šè´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶</h1><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl -f [format code] [url]   //format code :è§†é¢‘+éŸ³é¢‘å¦‚ï¼š137+140</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">format code  extension  resolution note</span><br><span class="line">249          webm       audio only tiny   67k , opus @ 50k (48000Hz), 9.10MiB</span><br><span class="line">250          webm       audio only tiny   86k , opus @ 70k (48000Hz), 11.77MiB</span><br><span class="line">140          m4a        audio only tiny  131k , m4a_dash container, mp4a.40.2@128k (44100Hz), 22.87MiB</span><br><span class="line">251          webm       audio only tiny  157k , opus @160k (48000Hz), 22.30MiB</span><br><span class="line">394          mp4        256x144    144p   84k , av01.0.00M.08, 25fps, video only, 11.84MiB</span><br><span class="line">278          webm       256x144    144p   97k , webm container, vp9, 25fps, video only, 14.93MiB</span><br><span class="line">160          mp4        256x144    144p  124k , avc1.4d400c, 25fps, video only, 13.26MiB</span><br><span class="line">395          mp4        426x240    240p  182k , av01.0.00M.08, 25fps, video only, 22.28MiB</span><br><span class="line">242          webm       426x240    240p  225k , vp9, 25fps, video only, 25.68MiB</span><br><span class="line">133          mp4        426x240    240p  275k , avc1.4d4015, 25fps, video only, 21.26MiB</span><br><span class="line">396          mp4        640x360    360p  379k , av01.0.01M.08, 25fps, video only, 41.58MiB</span><br><span class="line">243          webm       640x360    360p  411k , vp9, 25fps, video only, 42.61MiB</span><br><span class="line">134          mp4        640x360    360p  521k , avc1.4d401e, 25fps, video only, 36.68MiB</span><br><span class="line">397          mp4        854x480    480p  661k , av01.0.04M.08, 25fps, video only, 68.76MiB</span><br><span class="line">244          webm       854x480    480p  759k , vp9, 25fps, video only, 61.26MiB</span><br><span class="line">135          mp4        854x480    480p  922k , avc1.4d401e, 25fps, video only, 52.38MiB</span><br><span class="line">398          mp4        1280x720   720p 1255k , av01.0.05M.08, 25fps, video only, 123.54MiB</span><br><span class="line">247          webm       1280x720   720p 1432k , vp9, 25fps, video only, 97.51MiB</span><br><span class="line">136          mp4        1280x720   720p 1561k , avc1.4d401f, 25fps, video only, 86.93MiB</span><br><span class="line">399          mp4        1920x1080  1080p 2244k , av01.0.08M.08, 25fps, video only, 212.73MiB</span><br><span class="line">248          webm       1920x1080  1080p 2645k , vp9, 25fps, video only, 244.97MiB</span><br><span class="line">137          mp4        1920x1080  1080p 4023k , avc1.640028, 25fps, video only, 253.08MiB</span><br><span class="line">18           mp4        640x360    360p  503k , avc1.42001E, 25fps, mp4a.40.2@ 96k (44100Hz), 88.99MiB</span><br><span class="line">22           mp4        1280x720   720p  621k , avc1.64001F, 25fps, mp4a.40.2@192k (44100Hz) (best)</span><br></pre></td></tr></table></figure>
<h1 id="6ã€æ‰¹é‡ä¸‹è½½"><a href="#6ã€æ‰¹é‡ä¸‹è½½" class="headerlink" title="6ã€æ‰¹é‡ä¸‹è½½"></a>6ã€æ‰¹é‡ä¸‹è½½</h1><h2 id="â‘ å„ä¸ªè§†é¢‘åœ°å€åˆ—è¡¨ä¸‹è½½"><a href="#â‘ å„ä¸ªè§†é¢‘åœ°å€åˆ—è¡¨ä¸‹è½½" class="headerlink" title="â‘ å„ä¸ªè§†é¢‘åœ°å€åˆ—è¡¨ä¸‹è½½"></a>â‘ å„ä¸ªè§†é¢‘åœ°å€åˆ—è¡¨ä¸‹è½½</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl -f 22 -a list.txt</span><br></pre></td></tr></table></figure><br>å…¶ä¸­<code>list.txt</code> çš„ <code>text</code>æ–‡ä»¶æ ¼å¼<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://www.youtube.com/watch?v=*****</span><br><span class="line">https://www.youtube.com/watch?v=*****</span><br><span class="line">https://www.youtube.com/watch?v=*****</span><br></pre></td></tr></table></figure></p>
<h2 id="â‘¡æ‰¹é‡ä¸‹è½½â€œæ’­æ”¾åˆ—è¡¨â€çš„è§†é¢‘"><a href="#â‘¡æ‰¹é‡ä¸‹è½½â€œæ’­æ”¾åˆ—è¡¨â€çš„è§†é¢‘" class="headerlink" title="â‘¡æ‰¹é‡ä¸‹è½½â€œæ’­æ”¾åˆ—è¡¨â€çš„è§†é¢‘"></a>â‘¡æ‰¹é‡ä¸‹è½½â€œæ’­æ”¾åˆ—è¡¨â€çš„è§†é¢‘</h2><p>æ ¼å¼:<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">https://www.youtube.com/playlist?list=</span><br></pre></td></tr></table></figure><br>â… &gt;ä¸‹è½½åˆ—è¡¨ä¸­æŒ‡å®šè¿ç»­çš„å†…å®¹(æ¯”å¦‚ï¼š<code>--playlist-start 1 --playlist-end 27</code>)<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl -f 22 -ci --playlist-start 1 --playlist-end 24 <span class="string">&quot;https://www.youtube.com/playlist?list=*****&quot;</span></span><br></pre></td></tr></table></figure><br>â…¡&gt;ä¸‹è½½åˆ—è¡¨ä¸­æŒ‡å®šçš„ä¸è¿ç»­å†…å®¹(æ¯”å¦‚ï¼š<code>--playlist-items 1,3-5,7, 21-27</code>)<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">youtube-dl -f 22 -ci --playlist-items 1,3-5,7, 21-27 <span class="string">&quot;https://www.youtube.com/playlist?list=*******&quot;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="7ã€ffmpeg-åˆå¹¶è§†é¢‘"><a href="#7ã€ffmpeg-åˆå¹¶è§†é¢‘" class="headerlink" title="7ã€ffmpeg åˆå¹¶è§†é¢‘"></a>7ã€ffmpeg åˆå¹¶è§†é¢‘</h1><h2 id="â‘ å‘½ä»¤1ï¼š"><a href="#â‘ å‘½ä»¤1ï¼š" class="headerlink" title="â‘ å‘½ä»¤1ï¼š"></a>â‘ å‘½ä»¤1ï¼š</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;concat:yz1.mp4|yz2.mp4|yz3.mp4|yz4.mp4|yz5.mp4|yz6.mp4|yz7.mp4|yz8.mp4|yz9.mp4|yz10.mp4|&quot;</span> -c copy output.mp4</span><br></pre></td></tr></table></figure>
<h2 id="â‘¡å‘½ä»¤2ï¼š"><a href="#â‘¡å‘½ä»¤2ï¼š" class="headerlink" title="â‘¡å‘½ä»¤2ï¼š"></a>â‘¡å‘½ä»¤2ï¼š</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -f concat -safe 0 -i filelist.txt -c copy output.mp4</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼š<code>filelist.txt</code><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">file  &#x27;F:\yz1.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz2.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz3.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz4.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz5.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz6.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz7.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz8.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz9.mp4&#x27;</span><br><span class="line">file  &#x27;F:\yz10.mp4&#x27;</span><br></pre></td></tr></table></figure></p>
<h2 id="8ã€ffmpegæ“ä½œå­—å¹•"><a href="#8ã€ffmpegæ“ä½œå­—å¹•" class="headerlink" title="8ã€ffmpegæ“ä½œå­—å¹•"></a>8ã€ffmpegæ“ä½œå­—å¹•</h2><h3 id="1-gt-å­—å¹•ç›¸äº’è½¬æ¢"><a href="#1-gt-å­—å¹•ç›¸äº’è½¬æ¢" class="headerlink" title="1&gt;å­—å¹•ç›¸äº’è½¬æ¢"></a>1&gt;å­—å¹•ç›¸äº’è½¬æ¢</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.vtt output.srt</span><br><span class="line">ffmpeg -i input.srt output.ass</span><br></pre></td></tr></table></figure>
<h3 id="2-gt-æŠŠå­—å¹•å‹åˆ¶åˆ°è§†é¢‘"><a href="#2-gt-æŠŠå­—å¹•å‹åˆ¶åˆ°è§†é¢‘" class="headerlink" title="2&gt;æŠŠå­—å¹•å‹åˆ¶åˆ°è§†é¢‘"></a>2&gt;æŠŠå­—å¹•å‹åˆ¶åˆ°è§†é¢‘</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vf ass=subtitle.ass output.mp4  </span><br></pre></td></tr></table></figure>
<p><em>æ³¨æ„<code>win</code>ä¸‹<code>ass=subtitle.ass</code>ä¸èƒ½ä½¿ç”¨ç›˜ç¬¦ï¼Œå¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„</em></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Aria2</category>
        <category>Youtube-dl</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
        <tag>Ffmpeg</tag>
        <tag>Youtube-dl</tag>
      </tags>
  </entry>
  <entry>
    <title>zshé…ç½®å’Œä½¿ç”¨</title>
    <url>/2022/01/03/Zsh%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…zshå’Œoh-my-zsh"><a href="#å®‰è£…zshå’Œoh-my-zsh" class="headerlink" title="å®‰è£…zshå’Œoh-my-zsh"></a>å®‰è£…<code>zsh</code>å’Œ<code>oh-my-zsh</code></h1><h2 id="å®‰è£…zsh"><a href="#å®‰è£…zsh" class="headerlink" title="å®‰è£…zsh"></a>å®‰è£…<code>zsh</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install zsh</span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">æ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨... å®Œæˆ</span><br><span class="line">æ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘... å®Œæˆ</span><br><span class="line">æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯... å®Œæˆ                 </span><br><span class="line">å°†ä¼šåŒæ—¶å®‰è£…ä¸‹åˆ—è½¯ä»¶ï¼š</span><br><span class="line">  zsh-common</span><br><span class="line">å»ºè®®å®‰è£…ï¼š</span><br><span class="line">  zsh-doc</span><br><span class="line">ä¸‹åˆ—ã€æ–°ã€‘è½¯ä»¶åŒ…å°†è¢«å®‰è£…ï¼š</span><br><span class="line">  zsh zsh-common</span><br><span class="line">å‡çº§äº† 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæ–°å®‰è£…äº† 2 ä¸ªè½¯ä»¶åŒ…ï¼Œè¦å¸è½½ 0 ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰ 0 ä¸ªè½¯ä»¶åŒ…æœªè¢«å‡çº§ã€‚</span><br><span class="line">éœ€è¦ä¸‹è½½ 4,847 kB çš„å½’æ¡£ã€‚</span><br><span class="line">è§£å‹ç¼©åä¼šæ¶ˆè€— 18.3 MB çš„é¢å¤–ç©ºé—´ã€‚</span><br><span class="line">æ‚¨å¸Œæœ›ç»§ç»­æ‰§è¡Œå—ï¼Ÿ [Y/n] y</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh-my-zsh"></a>å®‰è£…<code>oh-my-zsh</code></h2><p><code>oh-my-zsh</code>æ˜¯å¾ˆä¸é”™çš„ä¸€ä¸ª<code>zsh</code>é…ç½®çš„å¼€æºé¡¹ç›®<a href="https://github.com/ohmyzsh/ohmyzsh">åœ°å€</a>ï¼Œæ•´ç†äº†å¸¸ç”¨çš„zshæ‰©å±•å’Œä¸»é¢˜ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(wget -O- https://raw.fastgit.org/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(wget -e https_proxy=ä½ çš„_proxy_ip:ç«¯å£ -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸€äº›å…¶ä»–é…ç½®"><a href="#ä¸€äº›å…¶ä»–é…ç½®" class="headerlink" title="ä¸€äº›å…¶ä»–é…ç½®"></a>ä¸€äº›å…¶ä»–é…ç½®</h1><h2 id="ä¿®æ”¹ä¸»é¢˜"><a href="#ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜"></a>ä¿®æ”¹ä¸»é¢˜</h2><h3 id="å®‰è£…ä¸»é¢˜æ‰€éœ€å­—ä½“"><a href="#å®‰è£…ä¸»é¢˜æ‰€éœ€å­—ä½“" class="headerlink" title="å®‰è£…ä¸»é¢˜æ‰€éœ€å­—ä½“"></a>å®‰è£…ä¸»é¢˜æ‰€éœ€å­—ä½“</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install fonts-powerline</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…å®‰è£…<code>Meslo-Font</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/powerline/fonts.git </span><br><span class="line"><span class="built_in">cd</span> fonts </span><br><span class="line">./install.sh </span><br><span class="line"><span class="comment"># http://github.com/andreberg/Meslo-Font/archive/master.zip</span></span><br></pre></td></tr></table></figure></p>
<p>æµ‹è¯•å­—ä½“èƒ½å¦æ­£å¸¸è¾“å‡ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\ue0b0 \u00b1 \ue0a0 \u27a6 \u2718 \u26a1 \u2699&quot;</span> </span><br><span class="line"><span class="comment"># è¾“å‡º </span></span><br><span class="line"> î‚° Â± î‚  â¦ âœ˜ âš¡ âš™</span><br></pre></td></tr></table></figure><br>è®¾ç½®ç»ˆç«¯ä¸­å­—ä½“ä¸º<code>Meslo LG S DZ for Powerline Regular 12</code>.<br>ä¸»é¢˜å¦‚å›¾ï¼š<br><img src="/pic/2022/1/zsh/theme.png" alt="theme"><br><code>agnoster</code>ä¸»é¢˜æ‰€éœ€å­—ä½“å¦‚å›¾ï¼š<br><img src="/pic/2022/1/zsh/agnoster.png" alt="agnoster"></p>
<h3 id="ä¿®æ”¹ä¸»é¢˜é…ç½®-å¯é€‰"><a href="#ä¿®æ”¹ä¸»é¢˜é…ç½®-å¯é€‰" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜é…ç½®(å¯é€‰)"></a>ä¿®æ”¹ä¸»é¢˜é…ç½®(å¯é€‰)</h3><p>ä¸»é¢˜åœ¨<code>~/.oh-my-zsh/themes/</code>æ–‡ä»¶å¤¹ä¸‹ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># æ‰¾åˆ°å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;ys&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶ä»–</span></span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸º random åˆ™æ¯æ¬¡å¯åŠ¨zshéƒ½ä¼šéšæœºä¸»é¢˜</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;random&quot;</span></span><br></pre></td></tr></table></figure><br><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">å„ç§ä¸»é¢˜é¢„è§ˆ</a></p>
<h2 id="é…ç½®è¯­æ³•é«˜äº®"><a href="#é…ç½®è¯­æ³•é«˜äº®" class="headerlink" title="é…ç½®è¯­æ³•é«˜äº®"></a>é…ç½®è¯­æ³•é«˜äº®</h2><p><a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md">é¡¹ç›®åœ°å€</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install zsh-syntax-highlighting</span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># æ‰¾åˆ°å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</span></span><br><span class="line"><span class="built_in">source</span> /path/to/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh <span class="comment"># æ³¨æ„ä¿®æ”¹/path/to/ä¸ºè‡ªå·±æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span></span><br><span class="line"><span class="comment"># æºå®‰è£…çš„è·¯å¾„ä¸€èˆ¬ä¸ºï¼š/usr/share/zsh-syntax-highlighting/highlighters/brackets/zsh-syntax-highlighting.zsh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ç”¨æ’ä»¶æ–¹æ³•</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># æ‰¾åˆ°å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</span></span><br><span class="line">plugins=(å…¶ä»–æ’ä»¶ zsh-syntax-highlighting)</span><br></pre></td></tr></table></figure><br><img src="/pic/2022/1/zsh/highlighting.png" alt="highlighting"></p>
<h2 id="å®‰è£…autosuggestionså‘½ä»¤æç¤º"><a href="#å®‰è£…autosuggestionså‘½ä»¤æç¤º" class="headerlink" title="å®‰è£…autosuggestionså‘½ä»¤æç¤º"></a>å®‰è£…<code>autosuggestions</code>å‘½ä»¤æç¤º</h2><p>å¯¹è¾“å…¥çš„å‘½ä»¤è¿›è¡Œè‡ªåŠ¨æç¤ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥æ’ä»¶ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/plugins/</span><br><span class="line"><span class="comment"># ä¸‹è½½æ’ä»¶åˆ°æ’ä»¶ç›®å½•</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions.git</span><br><span class="line"><span class="comment"># ä¿®æ”¹é…ç½®</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># æ·»åŠ æ’ä»¶é…ç½®</span></span><br><span class="line">  plugins=(å…¶ä»–æ’ä»¶ zsh-syntax-highlighting zsh-autosuggestions)</span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure></p>
<h2 id="é…ç½®autojump"><a href="#é…ç½®autojump" class="headerlink" title="é…ç½®autojump"></a>é…ç½®<code>autojump</code></h2><p>èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·å¹³æ—¶ä½¿ç”¨è·¯å¾„çš„é¢‘ç¹ç¨‹åº¦ï¼Œæ ¹æ®è¾“å…¥çš„å…³é”®è¯ï¼Œç›´æ¥è·³åˆ°è·¯å¾„ä¸‹å»ï¼Œå…³é”®è¯æ˜¯è·¯å¾„å…¶ä¸­ä¸€æ®µå³å¯.æ­¤æ’ä»¶å·²åœ¨<code>oh-my-zshé¡¹ç›®</code>æ’ä»¶æ–‡ä»¶å¤¹ï¼Œåªéœ€è¦æ·»åŠ å¯ç”¨å³å¯<br><a href="https://github.com/wting/autojump">é¡¹ç›®åœ°å€</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ–è€…ç”¨æ’ä»¶æ–¹æ³•</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># æ‰¾åˆ°å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</span></span><br><span class="line">plugins=(å…¶ä»–æ’ä»¶ zsh-syntax-highlighting zsh-autosuggestions autojump)</span><br></pre></td></tr></table></figure></p>
<h1 id="å°†zshè®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç»ˆç«¯"><a href="#å°†zshè®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç»ˆç«¯" class="headerlink" title="å°†zshè®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç»ˆç«¯"></a>å°†zshè®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç»ˆç«¯</h1><p>æ‰§è¡Œè¿™æ¡è¯­å¥:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chsh -s `<span class="built_in">which</span> zsh`</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">chsh -s /usr/bin/zsh</span><br><span class="line"><span class="comment"># æˆ–è€…ä¿®æ”¹</span></span><br><span class="line">/etc/passwd,å°†rootå’Œç”¨æˆ·åé¢çš„å‘½ä»¤ä¿®æ”¹ä¸ºzsh</span><br></pre></td></tr></table></figure><br>ç„¶åé‡æ–°ç™»å½•ç³»ç»Ÿå³å¯ã€‚</p>
<h1 id="å…³äºç¯å¢ƒå˜é‡"><a href="#å…³äºç¯å¢ƒå˜é‡" class="headerlink" title="å…³äºç¯å¢ƒå˜é‡"></a>å…³äºç¯å¢ƒå˜é‡</h1><p>å¦‚æœä»¥å‰ç”¨<code>.bashrc</code>é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¯èƒ½æœ‰äº›å‘½ä»¤æ— æ³•æ‰§è¡Œï¼Œéœ€è¦æ‹·è´é‡Œé¢<code>~/.bashrc</code>é‡Œé¢éœ€è¦çš„å†…å®¹æ”¾åœ¨<code>~/.zshrc</code>ä¸­ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> `~/.zshrc`</span><br></pre></td></tr></table></figure><br>é‡æ–°åŠ è½½å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸­å·éŸ»è¼¸å…¥æ³•çš„å®‰è£…ã€é…ç½®å’Œä½¿ç”¨</title>
    <url>/2022/01/06/%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://rime.im/download/">ä¸­å·éŸ»è¼¸å…¥æ³•å®˜ç½‘</a></p>
<h1 id="å®‰è£…fcitx-rime"><a href="#å®‰è£…fcitx-rime" class="headerlink" title="å®‰è£…fcitx-rime"></a>å®‰è£…<code>fcitx-rime</code></h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install fcitx-rime</span><br><span class="line">curl -x <span class="string">&quot;socks5://127.0.0.1:7890&quot;</span>  -fsSL https://git.io/rime-install | bash</span><br><span class="line">bash rime-install emoji</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://github.com/rime/rime-emoji">rime-emoji</a></p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>è¼¸å…¥æ³•</tag>
        <tag>Rime</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¬å†åŠå†œå†å’Œ24èŠ‚æ°”è½¬æ¢</title>
    <url>/2021/06/27/%E5%85%AC%E5%8E%86%E5%8F%8A%E5%86%9C%E5%8E%86%E5%92%8C24%E8%8A%82%E6%B0%94%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€æ¢ç®—çš„jsä»£ç "><a href="#ä¸€ã€æ¢ç®—çš„jsä»£ç " class="headerlink" title="ä¸€ã€æ¢ç®—çš„jsä»£ç "></a>ä¸€ã€æ¢ç®—çš„<code>js</code>ä»£ç </h1><p>jsæ–‡ä»¶åä¸ºï¼š<code>date_new.js</code><br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// JavaScript Document</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">RunGLNLJQ</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">/* é˜³å†éƒ¨åˆ† */</span></span><br><span class="line"><span class="keyword">var</span> today=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;æ˜ŸæœŸæ—¥&quot;</span>,<span class="string">&quot;æ˜ŸæœŸä¸€&quot;</span>,<span class="string">&quot;æ˜ŸæœŸäºŒ&quot;</span>,<span class="string">&quot;æ˜ŸæœŸä¸‰&quot;</span>,<span class="string">&quot;æ˜ŸæœŸå››&quot;</span>,<span class="string">&quot;æ˜ŸæœŸäº”&quot;</span>,<span class="string">&quot;æ˜ŸæœŸå…­&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">DDDD</span>=today.<span class="title function_">getFullYear</span>()+<span class="string">&quot;å¹´&quot;</span>+[today.<span class="title function_">getMonth</span>()+<span class="number">1</span>]+<span class="string">&quot;æœˆ&quot;</span>+today.<span class="title function_">getDate</span>()+<span class="string">&quot;æ—¥&quot;</span>;</span><br><span class="line"><span class="comment">//intHours = today.getHours();</span></span><br><span class="line"><span class="comment">//intMinutes = today.getMinutes();</span></span><br><span class="line"><span class="comment">//intSeconds = today.getSeconds();</span></span><br><span class="line"><span class="comment">//if (intHours == 0) &#123;</span></span><br><span class="line"><span class="comment">//hours = &quot;12:&quot;;</span></span><br><span class="line"><span class="comment">//xfile = &quot;åˆå¤œ&quot;;</span></span><br><span class="line"><span class="comment">//&#125; else if (intHours &lt; 12) &#123;</span></span><br><span class="line"><span class="comment">//hours = intHours+&quot;:&quot;;</span></span><br><span class="line"><span class="comment">//xfile = &quot;ä¸Šåˆ&quot;;</span></span><br><span class="line"><span class="comment">//&#125; else if (intHours == 12) &#123;</span></span><br><span class="line"><span class="comment">//hours = &quot;12:&quot;;</span></span><br><span class="line"><span class="comment">//xfile = &quot;æ­£åˆ&quot;;</span></span><br><span class="line"><span class="comment">//&#125; else &#123;</span></span><br><span class="line"><span class="comment">//intHours = intHours - 12</span></span><br><span class="line"><span class="comment">//hours = intHours + &quot;:&quot;;</span></span><br><span class="line"><span class="comment">//xfile = &quot;ä¸‹åˆ&quot;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//if (intMinutes &lt; 10) &#123;</span></span><br><span class="line"><span class="comment">//minutes = &quot;0&quot;+intMinutes+&quot;:&quot;;</span></span><br><span class="line"><span class="comment">//&#125; else &#123;</span></span><br><span class="line"><span class="comment">//minutes = intMinutes+&quot;:&quot;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//if (intSeconds &lt; 10) &#123;</span></span><br><span class="line"><span class="comment">//seconds = &quot;0&quot;+intSeconds+&quot; &quot;;</span></span><br><span class="line"><span class="comment">//&#125; else &#123;</span></span><br><span class="line"><span class="comment">//seconds = intSeconds+&quot; &quot;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//DDDD=DDDD+xfile+hours+minutes+seconds;</span></span><br><span class="line"> <span class="variable constant_">DDDD</span>=<span class="variable constant_">DDDD</span>+<span class="string">&quot; &quot;</span>+ d[today.<span class="title function_">getDay</span>()];</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">DDDD</span> = <span class="variable constant_">DDDD</span>+ <span class="string">&quot; &quot;</span> + (<span class="title class_">CnDateofDateStr</span>(today)); <span class="comment">//æ˜¾ç¤ºå†œå†</span></span><br><span class="line"><span class="variable constant_">DDDD</span> = <span class="variable constant_">DDDD</span>+<span class="title class_">SolarTerm</span>(today); <span class="comment">//æ˜¾ç¤ºäºŒåå››èŠ‚æ°”</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="variable constant_">DDDD</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DaysNumberofDate</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">parseInt</span>((<span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="title class_">DateGL</span>)-<span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>()+<span class="string">&quot;/1/1&quot;</span>))/<span class="number">86400000</span>)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnDateofDate</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnData</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(</span><br><span class="line"><span class="number">0x16</span>,<span class="number">0x2a</span>,<span class="number">0xda</span>,<span class="number">0x00</span>,<span class="number">0x83</span>,<span class="number">0x49</span>,<span class="number">0xb6</span>,<span class="number">0x05</span>,<span class="number">0x0e</span>,<span class="number">0x64</span>,<span class="number">0xbb</span>,<span class="number">0x00</span>,<span class="number">0x19</span>,<span class="number">0xb2</span>,<span class="number">0x5b</span>,<span class="number">0x00</span>, <span class="comment">//1997~2000</span></span><br><span class="line"><span class="number">0x87</span>,<span class="number">0x6a</span>,<span class="number">0x57</span>,<span class="number">0x04</span>,<span class="number">0x12</span>,<span class="number">0x75</span>,<span class="number">0x2b</span>,<span class="number">0x00</span>,<span class="number">0x1d</span>,<span class="number">0xb6</span>,<span class="number">0x95</span>,<span class="number">0x00</span>,<span class="number">0x8a</span>,<span class="number">0xad</span>,<span class="number">0x55</span>,<span class="number">0x02</span>, <span class="comment">//2001~2004</span></span><br><span class="line"><span class="number">0x15</span>,<span class="number">0x55</span>,<span class="number">0xaa</span>,<span class="number">0x00</span>,<span class="number">0x82</span>,<span class="number">0x55</span>,<span class="number">0x6c</span>,<span class="number">0x07</span>,<span class="number">0x0d</span>,<span class="number">0xc9</span>,<span class="number">0x76</span>,<span class="number">0x00</span>,<span class="number">0x17</span>,<span class="number">0x64</span>,<span class="number">0xb7</span>,<span class="number">0x00</span>, <span class="comment">//2005~2008</span></span><br><span class="line"><span class="number">0x86</span>,<span class="number">0xe4</span>,<span class="number">0xae</span>,<span class="number">0x05</span>,<span class="number">0x11</span>,<span class="number">0xea</span>,<span class="number">0x56</span>,<span class="number">0x00</span>,<span class="number">0x1b</span>,<span class="number">0x6d</span>,<span class="number">0x2a</span>,<span class="number">0x00</span>,<span class="number">0x88</span>,<span class="number">0x5a</span>,<span class="number">0xaa</span>,<span class="number">0x04</span>, <span class="comment">//2009~2012</span></span><br><span class="line"><span class="number">0x14</span>,<span class="number">0xad</span>,<span class="number">0x55</span>,<span class="number">0x00</span>,<span class="number">0x81</span>,<span class="number">0xaa</span>,<span class="number">0xd5</span>,<span class="number">0x09</span>,<span class="number">0x0b</span>,<span class="number">0x52</span>,<span class="number">0xea</span>,<span class="number">0x00</span>,<span class="number">0x16</span>,<span class="number">0xa9</span>,<span class="number">0x6d</span>,<span class="number">0x00</span>, <span class="comment">//2013~2016</span></span><br><span class="line"><span class="number">0x84</span>,<span class="number">0xa9</span>,<span class="number">0x5d</span>,<span class="number">0x06</span>,<span class="number">0x0f</span>,<span class="number">0xd4</span>,<span class="number">0xae</span>,<span class="number">0x00</span>,<span class="number">0x1a</span>,<span class="number">0xea</span>,<span class="number">0x4d</span>,<span class="number">0x00</span>,<span class="number">0x87</span>,<span class="number">0xba</span>,<span class="number">0x55</span>,<span class="number">0x04</span>, <span class="comment">//2017~2020</span></span><br><span class="line"><span class="number">0x12</span>,<span class="number">0x5a</span>,<span class="number">0xaa</span>,<span class="number">0x00</span>,<span class="number">0x16</span>,<span class="number">0xa9</span>,<span class="number">0x6d</span>,<span class="number">0x00</span>,<span class="number">0x8a</span>,<span class="number">0xa6</span>,<span class="number">0xd5</span>,<span class="number">0x02</span>,<span class="number">0x14</span>,<span class="number">0x52</span>,<span class="number">0xda</span>,<span class="number">0x00</span>, <span class="comment">//2021~2024</span></span><br><span class="line"><span class="number">0x82</span>,<span class="number">0x52</span>,<span class="number">0xba</span>,<span class="number">0x06</span>,<span class="number">0x8d</span>,<span class="number">0xa9</span>,<span class="number">0x3b</span>,<span class="number">0x00</span>,<span class="number">0x98</span>,<span class="number">0xb4</span>,<span class="number">0x9b</span>,<span class="number">0x00</span>,<span class="number">0x85</span>,<span class="number">0x74</span>,<span class="number">0x9b</span>,<span class="number">0x05</span>, <span class="comment">//2025~2028</span></span><br><span class="line"><span class="number">0x11</span>,<span class="number">0xb5</span>,<span class="number">0x4d</span>,<span class="number">0x00</span>,  <span class="comment">//2029å¹´ï¼›å¦å¤–2030å¹´ç¬¬ä¸€å¤©å†¬æœˆ28ï¼Œ0x1c</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnMonth</span>=<span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnMonthDays</span>=<span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnBeginDay</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">LeapMonth</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Bytes</span>=<span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="keyword">var</span> I;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnMonthData</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">DaysCount</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnDaysCount</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ResultMonth</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ResultDay</span>;</span><br><span class="line"><span class="keyword">var</span> yyyy=<span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>();</span><br><span class="line"><span class="keyword">var</span> mm=<span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> dd=<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>();</span><br><span class="line"><span class="keyword">if</span>(yyyy&lt;<span class="number">100</span>) yyyy+=<span class="number">1900</span>;</span><br><span class="line">  <span class="keyword">if</span> ((yyyy &lt; <span class="number">1997</span>) || (yyyy &gt; <span class="number">2029</span>))&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="title class_">Bytes</span>[<span class="number">0</span>] = <span class="title class_">CnData</span>[(yyyy - <span class="number">1997</span>) * <span class="number">4</span>];</span><br><span class="line">  <span class="title class_">Bytes</span>[<span class="number">1</span>] = <span class="title class_">CnData</span>[(yyyy - <span class="number">1997</span>) * <span class="number">4</span> + <span class="number">1</span>];</span><br><span class="line">  <span class="title class_">Bytes</span>[<span class="number">2</span>] = <span class="title class_">CnData</span>[(yyyy - <span class="number">1997</span>) * <span class="number">4</span> + <span class="number">2</span>];</span><br><span class="line">  <span class="title class_">Bytes</span>[<span class="number">3</span>] = <span class="title class_">CnData</span>[(yyyy - <span class="number">1997</span>) * <span class="number">4</span> + <span class="number">3</span>];</span><br><span class="line">  <span class="keyword">if</span> ((<span class="title class_">Bytes</span>[<span class="number">0</span>] &amp; <span class="number">0x80</span>) != <span class="number">0</span>) &#123;<span class="title class_">CnMonth</span>[<span class="number">0</span>] = <span class="number">12</span>;&#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;<span class="title class_">CnMonth</span>[<span class="number">0</span>] = <span class="number">11</span>;&#125;</span><br><span class="line">  <span class="title class_">CnBeginDay</span> = (<span class="title class_">Bytes</span>[<span class="number">0</span>] &amp; <span class="number">0x7f</span>);</span><br><span class="line">  <span class="title class_">CnMonthData</span> = <span class="title class_">Bytes</span>[<span class="number">1</span>];</span><br><span class="line">  <span class="title class_">CnMonthData</span> = <span class="title class_">CnMonthData</span> &lt;&lt; <span class="number">8</span>;</span><br><span class="line">  <span class="title class_">CnMonthData</span> = <span class="title class_">CnMonthData</span> | <span class="title class_">Bytes</span>[<span class="number">2</span>];</span><br><span class="line">  <span class="title class_">LeapMonth</span> = <span class="title class_">Bytes</span>[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span> (I = <span class="number">15</span>; I &gt;= <span class="number">0</span> ; I--)&#123;</span><br><span class="line">    <span class="title class_">CnMonthDays</span>[<span class="number">15</span> - I] = <span class="number">29</span>;</span><br><span class="line">    <span class="keyword">if</span> (((<span class="number">1</span> &lt;&lt; I) &amp; <span class="title class_">CnMonthData</span>) != <span class="number">0</span> )&#123;</span><br><span class="line">      <span class="title class_">CnMonthDays</span>[<span class="number">15</span> - I]++;&#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">CnMonth</span>[<span class="number">15</span> - I] == <span class="title class_">LeapMonth</span> )&#123;</span><br><span class="line">      <span class="title class_">CnMonth</span>[<span class="number">15</span> - I + <span class="number">1</span>] = - <span class="title class_">LeapMonth</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">CnMonth</span>[<span class="number">15</span> - I] &lt; <span class="number">0</span> )&#123;<span class="title class_">CnMonth</span>[<span class="number">15</span> - I + <span class="number">1</span>] = - <span class="title class_">CnMonth</span>[<span class="number">15</span> - I] + <span class="number">1</span>;&#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;<span class="title class_">CnMonth</span>[<span class="number">15</span> - I + <span class="number">1</span>] = <span class="title class_">CnMonth</span>[<span class="number">15</span> - I] + <span class="number">1</span>;&#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">CnMonth</span>[<span class="number">15</span> - I + <span class="number">1</span>] &gt; <span class="number">12</span> )&#123; <span class="title class_">CnMonth</span>[<span class="number">15</span> - I + <span class="number">1</span>] = <span class="number">1</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">DaysCount</span> = <span class="title class_">DaysNumberofDate</span>(<span class="title class_">DateGL</span>) - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">DaysCount</span> &lt;= (<span class="title class_">CnMonthDays</span>[<span class="number">0</span>] - <span class="title class_">CnBeginDay</span>))&#123;</span><br><span class="line">    <span class="keyword">if</span> ((yyyy &gt; <span class="number">1901</span>)  &amp;&amp;  (<span class="title class_">CnDateofDate</span>(<span class="keyword">new</span> <span class="title class_">Date</span>((yyyy - <span class="number">1</span>)+<span class="string">&quot;/12/31&quot;</span>)) &lt; <span class="number">0</span>))&#123;</span><br><span class="line">      <span class="title class_">ResultMonth</span> = - <span class="title class_">CnMonth</span>[<span class="number">0</span>];&#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;<span class="title class_">ResultMonth</span> = <span class="title class_">CnMonth</span>[<span class="number">0</span>];&#125;</span><br><span class="line">    <span class="title class_">ResultDay</span> = <span class="title class_">CnBeginDay</span> + <span class="title class_">DaysCount</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title class_">CnDaysCount</span> = <span class="title class_">CnMonthDays</span>[<span class="number">0</span>] - <span class="title class_">CnBeginDay</span>;</span><br><span class="line">    I = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> ((<span class="title class_">CnDaysCount</span> &lt; <span class="title class_">DaysCount</span>)  &amp;&amp;  (<span class="title class_">CnDaysCount</span> + <span class="title class_">CnMonthDays</span>[I] &lt; <span class="title class_">DaysCount</span>))&#123;</span><br><span class="line">      <span class="title class_">CnDaysCount</span>+= <span class="title class_">CnMonthDays</span>[I];</span><br><span class="line">      I++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">ResultMonth</span> = <span class="title class_">CnMonth</span>[I];</span><br><span class="line">    <span class="title class_">ResultDay</span> = <span class="title class_">DaysCount</span> - <span class="title class_">CnDaysCount</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">ResultMonth</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">ResultMonth</span> * <span class="number">100</span> + <span class="title class_">ResultDay</span>;&#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="title class_">ResultMonth</span> * <span class="number">100</span> - <span class="title class_">ResultDay</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnYearofDate</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">YYYY</span>= <span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">MM</span> = <span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnMM</span>=<span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">CnDateofDate</span>(<span class="title class_">DateGL</span>))/<span class="number">100</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable constant_">YYYY</span> &lt; <span class="number">100</span>) <span class="variable constant_">YYYY</span> += <span class="number">1900</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="title class_">CnMM</span> &gt; <span class="variable constant_">MM</span>) <span class="variable constant_">YYYY</span>--;</span><br><span class="line"><span class="variable constant_">YYYY</span> -= <span class="number">1864</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">CnEra</span>(<span class="variable constant_">YYYY</span>) + <span class="string">&quot;å¹´&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnMonthofDate</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">var</span>  <span class="title class_">CnMonthStr</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;é›¶&quot;</span>,<span class="string">&quot;æ­£&quot;</span>,<span class="string">&quot;äºŒ&quot;</span>,<span class="string">&quot;ä¸‰&quot;</span>,<span class="string">&quot;å››&quot;</span>,<span class="string">&quot;äº”&quot;</span>,<span class="string">&quot;å…­&quot;</span>,<span class="string">&quot;ä¸ƒ&quot;</span>,<span class="string">&quot;å…«&quot;</span>,<span class="string">&quot;ä¹&quot;</span>,<span class="string">&quot;å&quot;</span>,<span class="string">&quot;å†¬&quot;</span>,<span class="string">&quot;è…Š&quot;</span>);</span><br><span class="line"><span class="keyword">var</span>  <span class="title class_">Month</span>;</span><br><span class="line">  <span class="title class_">Month</span> = <span class="built_in">parseInt</span>(<span class="title class_">CnDateofDate</span>(<span class="title class_">DateGL</span>)/<span class="number">100</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Month</span> &lt; <span class="number">0</span>)&#123;<span class="keyword">return</span> <span class="string">&quot;é—°&quot;</span> + <span class="title class_">CnMonthStr</span>[-<span class="title class_">Month</span>] + <span class="string">&quot;æœˆ&quot;</span>;&#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="title class_">CnMonthStr</span>[<span class="title class_">Month</span>] + <span class="string">&quot;æœˆ&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnDayofDate</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CnDayStr</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;é›¶&quot;</span>,</span><br><span class="line">    <span class="string">&quot;åˆä¸€&quot;</span>, <span class="string">&quot;åˆäºŒ&quot;</span>, <span class="string">&quot;åˆä¸‰&quot;</span>, <span class="string">&quot;åˆå››&quot;</span>, <span class="string">&quot;åˆäº”&quot;</span>,</span><br><span class="line">    <span class="string">&quot;åˆå…­&quot;</span>, <span class="string">&quot;åˆä¸ƒ&quot;</span>, <span class="string">&quot;åˆå…«&quot;</span>, <span class="string">&quot;åˆä¹&quot;</span>, <span class="string">&quot;åˆå&quot;</span>,</span><br><span class="line">    <span class="string">&quot;åä¸€&quot;</span>, <span class="string">&quot;åäºŒ&quot;</span>, <span class="string">&quot;åä¸‰&quot;</span>, <span class="string">&quot;åå››&quot;</span>, <span class="string">&quot;åäº”&quot;</span>,</span><br><span class="line">    <span class="string">&quot;åå…­&quot;</span>, <span class="string">&quot;åä¸ƒ&quot;</span>, <span class="string">&quot;åå…«&quot;</span>, <span class="string">&quot;åä¹&quot;</span>, <span class="string">&quot;äºŒå&quot;</span>,</span><br><span class="line">    <span class="string">&quot;å»¿ä¸€&quot;</span>, <span class="string">&quot;å»¿äºŒ&quot;</span>, <span class="string">&quot;å»¿ä¸‰&quot;</span>, <span class="string">&quot;å»¿å››&quot;</span>, <span class="string">&quot;å»¿äº”&quot;</span>,</span><br><span class="line">    <span class="string">&quot;å»¿å…­&quot;</span>, <span class="string">&quot;å»¿ä¸ƒ&quot;</span>, <span class="string">&quot;å»¿å…«&quot;</span>, <span class="string">&quot;å»¿ä¹&quot;</span>, <span class="string">&quot;ä¸‰å&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Day</span>;</span><br><span class="line">  <span class="title class_">Day</span> = (<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">CnDateofDate</span>(<span class="title class_">DateGL</span>)))%<span class="number">100</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">CnDayStr</span>[<span class="title class_">Day</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DaysNumberofMonth</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">MM1</span>=<span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>();</span><br><span class="line">    <span class="title class_">MM1</span>&lt;<span class="number">100</span> ? <span class="title class_">MM1</span>+=<span class="number">1900</span>:<span class="title class_">MM1</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">MM2</span>=<span class="title class_">MM1</span>;</span><br><span class="line">    <span class="title class_">MM1</span>+=<span class="string">&quot;/&quot;</span>+(<span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()+<span class="number">1</span>);</span><br><span class="line">    <span class="title class_">MM2</span>+=<span class="string">&quot;/&quot;</span>+(<span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()+<span class="number">2</span>);</span><br><span class="line">    <span class="title class_">MM1</span>+=<span class="string">&quot;/1&quot;</span>;</span><br><span class="line">    <span class="title class_">MM2</span>+=<span class="string">&quot;/1&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">parseInt</span>((<span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="title class_">MM2</span>)-<span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="title class_">MM1</span>))/<span class="number">86400000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnEra</span>(<span class="params">YYYY</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Tiangan</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;ç”²&quot;</span>,<span class="string">&quot;ä¹™&quot;</span>,<span class="string">&quot;ä¸™&quot;</span>,<span class="string">&quot;ä¸&quot;</span>,<span class="string">&quot;æˆŠ&quot;</span>,<span class="string">&quot;å·±&quot;</span>,<span class="string">&quot;åºš&quot;</span>,<span class="string">&quot;è¾›&quot;</span>,<span class="string">&quot;å£¬&quot;</span>,<span class="string">&quot;ç™¸&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Dizhi</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;å­(é¼ )&quot;</span>,<span class="string">&quot;ä¸‘(ç‰›)&quot;</span>,<span class="string">&quot;å¯…(è™)&quot;</span>,<span class="string">&quot;å¯(å…”)&quot;</span>,<span class="string">&quot;è¾°(é¾™)&quot;</span>,<span class="string">&quot;å·³(è›‡)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;åˆ(é©¬)&quot;</span>,<span class="string">&quot;æœª(ç¾Š)&quot;</span>,<span class="string">&quot;ç”³(çŒ´)&quot;</span>,<span class="string">&quot;é…‰(é¸¡)&quot;</span>,<span class="string">&quot;æˆŒ(ç‹—)&quot;</span>,<span class="string">&quot;äº¥(çŒª)&quot;</span>);</span><br><span class="line"><span class="comment">//var Dizhi=new Array(&quot;å­&quot;,&quot;ä¸‘&quot;,&quot;å¯…&quot;,&quot;å¯&quot;,&quot;è¾°&quot;,&quot;å·³&quot;,&quot;åˆ&quot;,&quot;æœª&quot;,&quot;ç”³&quot;,&quot;é…‰&quot;,&quot;æˆŒ&quot;,&quot;äº¥&quot;);</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Tiangan</span>[<span class="variable constant_">YYYY</span>%<span class="number">10</span>]+<span class="title class_">Dizhi</span>[<span class="variable constant_">YYYY</span>%<span class="number">12</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CnDateofDateStr</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="title class_">CnMonthofDate</span>(<span class="title class_">DateGL</span>)==<span class="string">&quot;é›¶æœˆ&quot;</span>) <span class="keyword">return</span> <span class="string">&quot;ã€€è¯·è°ƒæ•´æ‚¨çš„è®¡ç®—æœºæ—¥æœŸ!&quot;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&quot; &quot;</span>+<span class="title class_">CnYearofDate</span>(<span class="title class_">DateGL</span>)+ <span class="string">&quot; &quot;</span> + <span class="title class_">CnMonthofDate</span>(<span class="title class_">DateGL</span>) + <span class="title class_">CnDayofDate</span>(<span class="title class_">DateGL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SolarTerm</span>(<span class="params">DateGL</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">SolarTermStr</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(</span><br><span class="line">        <span class="string">&quot;å°å¯’&quot;</span>,<span class="string">&quot;å¤§å¯’&quot;</span>,<span class="string">&quot;ç«‹æ˜¥&quot;</span>,<span class="string">&quot;é›¨æ°´&quot;</span>,<span class="string">&quot;æƒŠè›°&quot;</span>,<span class="string">&quot;æ˜¥åˆ†&quot;</span>,</span><br><span class="line">        <span class="string">&quot;æ¸…æ˜&quot;</span>,<span class="string">&quot;è°·é›¨&quot;</span>,<span class="string">&quot;ç«‹å¤&quot;</span>,<span class="string">&quot;å°æ»¡&quot;</span>,<span class="string">&quot;èŠ’ç§&quot;</span>,<span class="string">&quot;å¤è‡³&quot;</span>,</span><br><span class="line">        <span class="string">&quot;å°æš‘&quot;</span>,<span class="string">&quot;å¤§æš‘&quot;</span>,<span class="string">&quot;ç«‹ç§‹&quot;</span>,<span class="string">&quot;å¤„æš‘&quot;</span>,<span class="string">&quot;ç™½éœ²&quot;</span>,<span class="string">&quot;ç§‹åˆ†&quot;</span>,</span><br><span class="line">        <span class="string">&quot;å¯’éœ²&quot;</span>,<span class="string">&quot;éœœé™&quot;</span>,<span class="string">&quot;ç«‹å†¬&quot;</span>,<span class="string">&quot;å°é›ª&quot;</span>,<span class="string">&quot;å¤§é›ª&quot;</span>,<span class="string">&quot;å†¬è‡³&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">DifferenceInMonth</span>=<span class="keyword">new</span> <span class="title class_">Array</span>(</span><br><span class="line">        <span class="number">1272060</span>, <span class="number">1275495</span>, <span class="number">1281180</span>, <span class="number">1289445</span>, <span class="number">1299225</span>, <span class="number">1310355</span>,</span><br><span class="line">        <span class="number">1321560</span>, <span class="number">1333035</span>, <span class="number">1342770</span>, <span class="number">1350855</span>, <span class="number">1356420</span>, <span class="number">1359045</span>,</span><br><span class="line">        <span class="number">1358580</span>, <span class="number">1355055</span>, <span class="number">1348695</span>, <span class="number">1340040</span>, <span class="number">1329630</span>, <span class="number">1318455</span>,</span><br><span class="line">        <span class="number">1306935</span>, <span class="number">1297380</span>, <span class="number">1286865</span>, <span class="number">1278430</span>, <span class="number">1274550</span>, <span class="number">1271556</span>);</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">DifferenceInYear</span>=<span class="number">31556926</span>;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">BeginTime</span>=<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1901</span>/<span class="number">1</span>/<span class="number">1</span>);</span><br><span class="line">  <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="number">947120460000</span>);</span><br><span class="line">     <span class="keyword">for</span>(;<span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>()&lt;<span class="title class_">BeginTime</span>.<span class="title function_">getFullYear</span>();)&#123;</span><br><span class="line">        <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="title class_">BeginTime</span>.<span class="title function_">getTime</span>()-<span class="title class_">DifferenceInYear</span>*<span class="number">1000</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span>(;<span class="title class_">DateGL</span>.<span class="title function_">getFullYear</span>()&gt;<span class="title class_">BeginTime</span>.<span class="title function_">getFullYear</span>();)&#123;</span><br><span class="line">        <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="title class_">BeginTime</span>.<span class="title function_">getTime</span>()+<span class="title class_">DifferenceInYear</span>*<span class="number">1000</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> M=<span class="number">0</span>;<span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()&gt;<span class="title class_">BeginTime</span>.<span class="title function_">getMonth</span>();M++)&#123;</span><br><span class="line">        <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="title class_">BeginTime</span>.<span class="title function_">getTime</span>()+<span class="title class_">DifferenceInMonth</span>[M]*<span class="number">1000</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>()&gt;<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>())&#123;</span><br><span class="line">        <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="title class_">BeginTime</span>.<span class="title function_">getTime</span>()+<span class="title class_">DifferenceInMonth</span>[M]*<span class="number">1000</span>);</span><br><span class="line">        M++;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>()&gt;<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>())&#123;</span><br><span class="line">        <span class="title class_">BeginTime</span>.<span class="title function_">setTime</span>(<span class="title class_">BeginTime</span>.<span class="title function_">getTime</span>()+<span class="title class_">DifferenceInMonth</span>[M]*<span class="number">1000</span>);</span><br><span class="line">        M==<span class="number">23</span>?M=<span class="number">0</span>:M++;</span><br><span class="line">     &#125;</span><br><span class="line">  <span class="keyword">var</span> <span class="variable constant_">JQ</span>=<span class="string">&quot; &quot;</span>;</span><br><span class="line">  <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>()==<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>())&#123;</span><br><span class="line">    <span class="variable constant_">JQ</span>+=<span class="string">&quot;   ä»Šå¤© &lt;font color=&#x27;#8B0000&#x27;&gt;&quot;</span>+<span class="title class_">SolarTermStr</span>[M]+<span class="string">&quot;&lt;/font&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>()==<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>()-<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="variable constant_">JQ</span>+=<span class="string">&quot;ã€€ æ˜å¤© &lt;font color=&#x27;red&#x27;&gt;&lt;b&gt;&quot;</span>+<span class="title class_">SolarTermStr</span>[M]+<span class="string">&quot;&lt;/b&gt;&lt;/font&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getDate</span>()==<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>()-<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="variable constant_">JQ</span>+=<span class="string">&quot;ã€€ åå¤© &lt;font color=&#x27;red&#x27;&gt;&lt;b&gt;&quot;</span>+<span class="title class_">SolarTermStr</span>[M]+ <span class="string">&quot;&lt;/b&gt;&lt;/font&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="variable constant_">JQ</span>=<span class="string">&quot;   &quot;</span>;</span><br><span class="line">   <span class="keyword">if</span>(<span class="title class_">DateGL</span>.<span class="title function_">getMonth</span>()==<span class="title class_">BeginTime</span>.<span class="title function_">getMonth</span>())&#123;</span><br><span class="line">      <span class="variable constant_">JQ</span>+=<span class="string">&quot; æœ¬æœˆ&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="variable constant_">JQ</span>+=<span class="string">&quot; ä¸‹æœˆ&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable constant_">JQ</span>+=<span class="title class_">BeginTime</span>.<span class="title function_">getDate</span>()+<span class="string">&quot;æ—¥&quot;</span>+<span class="string">&quot;&lt;font color=&#x27;blue&#x27;&gt;&quot;</span>+<span class="title class_">SolarTermStr</span>[M]+<span class="string">&quot;&lt;/font&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="variable constant_">JQ</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ã€ä»£ç æœªæŸ¥åˆ°ä½œè€…ï¼Œå› æ­¤æ²¡åŠæ³•æ³¨æ˜æ¥æºï¼ã€‘<br>å…¶ä¸­å…¬å†œå†è½¬æ¢16è¿›åˆ¶æ•°ç»„è¯´æ˜ï¼š  </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”¨1997å¹´ä¸¾ä¾‹:</span></span><br><span class="line"><span class="comment">// CnDataå‰å››ä¸ªæ•°æ®æ˜¯ 0x16 0x2a 0xda 0x00</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå­—èŠ‚0x16å…±8ä½</span></span><br><span class="line"><span class="comment">// ç¬¬1ä½è¡¨ç¤ºç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ[0]è¿˜æ˜¯è…Šæœˆ[1]</span></span><br><span class="line"><span class="comment">// å7ä½è¡¨ç¤ºç¬¬ä¸€å¤©çš„æ—¥æœŸ  </span></span><br><span class="line"><span class="comment">//å³ï¼š  </span></span><br><span class="line"><span class="comment">// 0x16 = 0001 0110  1997å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ22ï¼Œå…¶ä¸­22å¯¹åº”åä¸ƒä½001 0110ï¼Œå·¦è¾¹ç¬¬ä¸€ä½0ï¼Œå¯¹åº”å†¬æœˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸‰å­—èŠ‚0x2a 0xda</span></span><br><span class="line"><span class="comment">// 0x2a 0xda = 0010 1010 1101 1010  å…±16ä½ ä½™ä¸‹4ä½å¯ç»§ç»­è¡¨ç¤ºåé¢è¿ç»­å››ä¸ªæœˆæƒ…å†µ</span></span><br><span class="line"><span class="comment">// å‰12ä½,æ¯ä¸€ä½è¡¨ç¤ºå…¨å¹´å¤§å°æœˆæƒ…å†µ å°æœˆ29å¤©[0], å¤§æœˆ30å¤©[1]</span></span><br><span class="line"><span class="comment">// å†¬ è…Š æ­£ äºŒ   ä¸‰ å›› äº” å…­   ä¸ƒ å…« ä¹ å   å†¬ è…Š æ­£ äºŒ</span></span><br><span class="line"><span class="comment">// å° å° å¤§ å°   å¤§ å° å¤§ å°   å¤§ å¤§ å° å¤§   å¤§ å° å¤§ å°</span></span><br><span class="line"><span class="comment">//  0  0 1  0    1  0  1  0   1  1  0  1   1  0  1 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬å››ä¸ªå­—èŠ‚0x00å…±8ä½</span></span><br><span class="line"><span class="comment">// è¡¨ç¤ºé—°æœˆæƒ…å†µ,0è¡¨ç¤ºä¸é—°æœˆ, 1998å¹´0x05è¡¨ç¤ºæ¶¦äº”æœˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¦‚1998å¹´ï¼š</span></span><br><span class="line"><span class="comment">// 0x83,0x49,0xb6,0x05</span></span><br><span class="line"><span class="comment">// 0x83 = 1000 0011  1998å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯è…Šæœˆåˆ3ï¼Œå…¶ä¸­3å¯¹åº”000 0011</span></span><br><span class="line"><span class="comment">// 0x49,0xb6 = 0100 1001 1011 0110</span></span><br><span class="line"><span class="comment">// è…Š æ­£ äºŒ  ä¸‰   å›› äº” æ¶¦äº” å…­   ä¸ƒ å…« ä¹ å   å†¬ è…Š æ­£ äºŒ</span></span><br><span class="line"><span class="comment">// å° å¤§ å°  å°   å¤§ å° å°   å¤§   å¤§ å° å¤§ å¤§   å° å¤§ å¤§ å°</span></span><br><span class="line"><span class="comment">//  0 1  0   0    1  0  0   1    1  0  1  1   0  1  1  0</span></span><br><span class="line"><span class="comment">//  0x05 = æ¶¦äº”æœˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶ä»–å¯¹åº”ï¼š</span></span><br><span class="line"><span class="comment">// 0x83 = 1000 0011  1998å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯è…Šæœˆåˆ3ï¼Œå…¶ä¸­3å¯¹åº”000 0011</span></span><br><span class="line"><span class="comment">// 0x0e = 0000 1110  1999å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ14ï¼Œå…¶ä¸­14å¯¹åº”000 1110</span></span><br><span class="line"><span class="comment">// 0x19 = 0001 1001  2000å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ25ï¼Œå…¶ä¸­25å¯¹åº”001 1001</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 0x87 = 1000 0111  2020å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯è…Šæœˆåˆ7ï¼Œå…¶ä¸­7å¯¹åº”000 0111</span></span><br><span class="line"><span class="comment">// 0x12 = 0001 0010  2021å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ18ï¼Œå…¶ä¸­25å¯¹åº”001 0010</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2021å¹´</span></span><br><span class="line"><span class="comment">// 0x12,0xba,0x55,0x00</span></span><br><span class="line"><span class="comment">// 0x12 = 0001 0010ï¼Œ2021å¹´ç¬¬ä¸€ä¸ªæœˆæ˜¯å†¬æœˆ18ï¼Œå…¶ä¸­å†¬æœˆå¯¹åº”--0ï¼Œ18å¯¹åº”--001 0010ï¼Œ</span></span><br><span class="line"><span class="comment">// 0x5a,0xaa = 0101 1010 1010 1010 </span></span><br><span class="line"><span class="comment">// 0x00 = æ— é—°æœˆ</span></span><br></pre></td></tr></table></figure>
<h1 id="äºŒã€htmlé¡µé¢å¼•ç”¨"><a href="#äºŒã€htmlé¡µé¢å¼•ç”¨" class="headerlink" title="äºŒã€htmlé¡µé¢å¼•ç”¨"></a>äºŒã€<code>html</code>é¡µé¢å¼•ç”¨</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>å…¬å†œå†è½¬æ¢åŠ24èŠ‚æ°”è®¡ç®—<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;./js/date_new.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> ä»Šå¤©æ˜¯  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span>RunGLNLJQ();<span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å…¬å†œå†è½¬æ¢</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ é™¤å½“å‰ç›®å½•ä¸‹éæ–‡ä»¶å¤¹æ–‡ä»¶å‘½ä»¤</title>
    <url>/2020/11/22/%E5%88%A0%E9%99%A4%E9%9D%9E%E6%96%87%E4%BB%B6%E5%A4%B9%E6%96%87%E4%BB%B6%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åˆ é™¤å½“å‰ç›®å½•ä¸‹éæ–‡ä»¶å¤¹æ–‡ä»¶å‘½ä»¤<br><code>ls --file-type | grep -v &quot;/$&quot; | xargs rm -f</code><br>è¯´æ˜ï¼š</p>
<h1 id="1ã€ls-file-type-gt-åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹"><a href="#1ã€ls-file-type-gt-åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹" class="headerlink" title="1ã€ls --file-type ==&gt; åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹"></a>1ã€<code>ls --file-type</code> ==&gt; åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/ç¨‹åºè®¾è®¡/Cè¯­è¨€$ <span class="built_in">ls</span> --file-type </span><br><span class="line">åˆ¤æ–­/  åˆ é™¤éæ–‡ä»¶å¤¹å‘½ä»¤  æ•°æ®ç±»å‹/  æ•°ç»„/  å¾ªç¯/  æŒ‡é’ˆ/  ç»¼åˆç»ƒä¹ /  c_lan/</span><br></pre></td></tr></table></figure>
<h1 id="2ã€-grep-v-quot-quot-gt-ç®¡é“å‘½ä»¤ï¼Œè¿‡æ»¤æ‰æ–‡ä»¶å¤¹"><a href="#2ã€-grep-v-quot-quot-gt-ç®¡é“å‘½ä»¤ï¼Œè¿‡æ»¤æ‰æ–‡ä»¶å¤¹" class="headerlink" title="2ã€| grep -v &quot;/$&quot; ==&gt; ç®¡é“å‘½ä»¤ï¼Œè¿‡æ»¤æ‰æ–‡ä»¶å¤¹"></a>2ã€<code>| grep -v &quot;/$&quot;</code> ==&gt; ç®¡é“å‘½ä»¤ï¼Œè¿‡æ»¤æ‰æ–‡ä»¶å¤¹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/ç¨‹åºè®¾è®¡/Cè¯­è¨€$ <span class="built_in">ls</span> --file-type | grep -v <span class="string">&quot;/$&quot;</span></span><br><span class="line">åˆ é™¤éæ–‡ä»¶å¤¹å‘½ä»¤</span><br></pre></td></tr></table></figure>
<h1 id="3ã€xargs-gt-eXtended-ARGumentS"><a href="#3ã€xargs-gt-eXtended-ARGumentS" class="headerlink" title="3ã€xargs ==&gt; eXtended ARGumentS,"></a>3ã€<code>xargs</code> ==&gt; eXtended ARGumentS,</h1><p>ç”¨äºç»™å…¶ä»–å‘½ä»¤ä¼ é€’å‚æ•°çš„ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œé€šè¿‡<code>xargs</code>ä¼ é€’ç»™åé¢å‘½ä»¤<code>rm</code>å‚æ•°ï¼Œåˆ é™¤ç¬¦åˆå‰é¢ç®¡é“ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/ç¨‹åºè®¾è®¡/Cè¯­è¨€$ <span class="built_in">ls</span> --file-type | grep -v <span class="string">&quot;/$&quot;</span> | xargs <span class="built_in">rm</span> -f</span><br><span class="line">user@user-pc:~/æ–‡æ¡£/ç¨‹åºè®¾è®¡/Cè¯­è¨€$ <span class="built_in">ls</span> --file-type</span><br><span class="line">åˆ¤æ–­/  æ•°æ®ç±»å‹/  æ•°ç»„/  å¾ªç¯/  æŒ‡é’ˆ/  ç»¼åˆç»ƒä¹ /  c_lan/</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸€äº›ç”¨æ³•ä¸¾ä¾‹ï¼š"><a href="#ä¸€äº›ç”¨æ³•ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸€äº›ç”¨æ³•ä¸¾ä¾‹ï¼š"></a>ä¸€äº›ç”¨æ³•ä¸¾ä¾‹ï¼š</h1><p>1ã€åˆ›å»º<code>t1</code>ã€<code>t2</code>ã€<code>t3</code>ä¸‰ä¸ªæ–‡ä»¶å¤¹<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">ls</span> -al</span><br><span class="line">æ€»ç”¨é‡ 8</span><br><span class="line">drwxr-xr-x  2 user user 4096 11æœˆ 24 17:47 .</span><br><span class="line">drwxr-xr-x 11 user user 4096 11æœˆ 18 13:18 ..</span><br><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">echo</span> <span class="string">&#x27;t1 t2 t3&#x27;</span> | xargs <span class="built_in">mkdir</span></span><br><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">ls</span> -al</span><br><span class="line">æ€»ç”¨é‡ 20</span><br><span class="line">drwxr-xr-x  5 user user 4096 11æœˆ 24 17:50 .</span><br><span class="line">drwxr-xr-x 11 user user 4096 11æœˆ 18 13:18 ..</span><br><span class="line">drwxr-xr-x  2 user user 4096 11æœˆ 24 17:50 t1</span><br><span class="line">drwxr-xr-x  2 user user 4096 11æœˆ 24 17:50 t2</span><br><span class="line">drwxr-xr-x  2 user user 4096 11æœˆ 24 17:50 t3</span><br></pre></td></tr></table></figure><br>2ã€åˆ›å»ºæ–‡æœ¬<code>test.txt</code>åˆ†è¡Œè¾“å…¥<code>one two three</code>ï¼Œç„¶åè¯»å–æ ¹æ®<code>test.txt</code>å†…å®¹å¹¶æ ¹æ®å†…å®¹åˆ›å»º<code>one two three</code>ä¸‰ä¸ªæ–‡ä»¶å¤¹<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">touch</span> test.txt &amp;&amp; <span class="built_in">echo</span> -e <span class="string">&#x27;one\ntwo\nthree&#x27;</span> &gt; test.txt</span><br><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">cat</span> test.txt | xargs -I file sh -c <span class="string">&#x27;echo file; mkdir file&#x27;</span></span><br><span class="line"><span class="comment"># ä»¥ä¸Šå‘½ä»¤åˆå¹¶ä¸ºï¼š</span></span><br><span class="line"><span class="comment"># touch test.txt &amp;&amp; echo -e &#x27;one\ntwo\nthree&#x27; &gt; test.txt &amp;&amp; cat test.txt | xargs -I file sh -c &#x27;echo file; mkdir file&#x27;</span></span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">ls</span></span><br><span class="line">one  test.txt  three  two</span><br></pre></td></tr></table></figure><br><code>-I</code> ==&gt; æŒ‡å®šæ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²<br><code>-I file</code> ==&gt; <code>file</code>æ˜¯å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦<br>åé¢å‘½ä»¤è¡Œä¸­<code>file</code>å°†è¢«æ›¿æ¢å‰é¢ä¼ é€’è¿‡æ¥çš„<code>one</code>ã€<code>two</code>ã€<code>three</code>æ›¿æ¢<br>3ã€åˆ é™¤<code>*.txt</code>æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">ls</span> --file-type | grep <span class="string">&quot;txt&quot;</span> | xargs <span class="built_in">rm</span></span><br><span class="line"><span class="comment"># ls --file-type | grep -v &quot;/$&quot; | xargs rm  // é’ˆå¯¹ä¾‹2çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">user@user-pc:~/æ–‡æ¡£/test$ <span class="built_in">ls</span></span><br><span class="line">one  three  two</span><br></pre></td></tr></table></figure></p>
<p><code>xargs</code>è¯¦ç»†ä»‹ç»å¯æŸ¥è¯¢ï¼š<br><a href="http://c.biancheng.net/linux/xargs.html">xargså‘½ä»¤_Linux xargså‘½ä»¤ï¼šä¸€ä¸ªç»™å…¶ä»–å‘½ä»¤ä¼ é€’å‚æ•°çš„è¿‡æ»¤å™¨</a></p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>å‘½ä»¤</category>
      </categories>
      <tags>
        <tag>Grep</tag>
        <tag>Xargs</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Debian10ä¸Šé…ç½®Hexo+Githubåšä¸ªäººåšå®¢</title>
    <url>/2020/12/19/%E5%9C%A8Debian10%E4%B8%8A%E9%85%8D%E7%BD%AEHexo+Github%E5%81%9A%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨<code>Debian10</code>ä¸Šé…ç½®<code>Hexo+Github</code>åšä¸ªäººåšå®¢  </p>
<h1 id="ä¸€ã€nvmå®‰è£…node"><a href="#ä¸€ã€nvmå®‰è£…node" class="headerlink" title="ä¸€ã€nvmå®‰è£…node"></a>ä¸€ã€<code>nvm</code>å®‰è£…<code>node</code></h1><h2 id="å®‰è£…nvm"><a href="#å®‰è£…nvm" class="headerlink" title="å®‰è£…nvm"></a>å®‰è£…<code>nvm</code></h2><p>å‘½ä»¤ï¼š<br><code>cURL</code>:<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br></pre></td></tr></table></figure><br>æˆ–è€…<code>wget</code>:<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£å†³nvmå®‰è£…æˆåŠŸåï¼Œä½†å‘½ä»¤ä¸å¯ç”¨-command-not-found"><a href="#è§£å†³nvmå®‰è£…æˆåŠŸåï¼Œä½†å‘½ä»¤ä¸å¯ç”¨-command-not-found" class="headerlink" title="è§£å†³nvmå®‰è£…æˆåŠŸåï¼Œä½†å‘½ä»¤ä¸å¯ç”¨(command not found)"></a>è§£å†³<code>nvm</code>å®‰è£…æˆåŠŸåï¼Œä½†å‘½ä»¤ä¸å¯ç”¨(<code>command not found</code>)</h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><br><del>è¾“å…¥ä»¥ä¸‹å†…å®¹</del>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span>~~</span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span></span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span>  <span class="comment"># This loads nvm</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span>  <span class="comment"># This loads nvm bash_completion</span></span><br></pre></td></tr></table></figure><br><del>æŸ¥çœ‹è¾“å…¥å†…å®¹ï¼š</del><br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/.nvm$ <span class="built_in">cat</span> .bash_profile</span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span></span><br></pre></td></tr></table></figure><br>åŠ è½½ç¯å¢ƒå˜é‡ï¼Œä½¿å…¶ç”Ÿæ•ˆã€‚<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£å†³node-æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•"><a href="#è§£å†³node-æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•" class="headerlink" title="è§£å†³node: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•"></a>è§£å†³<code>node: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</code></h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm install -g hexo-cli</span><br><span class="line"><span class="comment">##/usr/bin/env: â€œnodeâ€: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</span></span><br></pre></td></tr></table></figure>
<p>ç”¨<code>ln -s</code>å‘½ä»¤è®¾ç½®ä¸€ä¸ªè½¯é“¾æ¥<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s ~/.nvm/versions/node/v14.15.2/bin/node /usr/bin/node</span><br></pre></td></tr></table></figure></p>
<h2 id="å®‰è£…node"><a href="#å®‰è£…node" class="headerlink" title="å®‰è£…node"></a>å®‰è£…<code>node</code></h2><h3 id="æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š"><a href="#æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š" class="headerlink" title="æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š"></a>æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nvm ls-remote</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">      v16.13.0   (LTS: Gallium)</span><br><span class="line">       v16.13.1   (Latest LTS: Gallium)</span><br><span class="line">        v17.0.0</span><br><span class="line">        v17.0.1</span><br><span class="line">        v17.1.0</span><br><span class="line">        v17.2.0</span><br></pre></td></tr></table></figure>
<h3 id="å®‰è£…node-1"><a href="#å®‰è£…node-1" class="headerlink" title="å®‰è£…node"></a>å®‰è£…<code>node</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvm install 16.13.1</span><br><span class="line">Downloading and installing node v16.13.1...</span><br><span class="line">Downloading https://nodejs.org/dist/v16.13.1/node-v16.13.1-linux-x64.tar.xz...</span><br><span class="line"><span class="comment">######################################################################### 100.0%</span></span><br><span class="line">Computing checksum with <span class="built_in">sha256sum</span></span><br><span class="line">Checksums matched!</span><br><span class="line">Now using node v16.13.1 (npm v8.1.2)</span><br><span class="line">Creating default <span class="built_in">alias</span>: default -&gt; 16.13.1 (-&gt; v16.13.1)</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥çœ‹å·²å®‰è£…node"><a href="#æŸ¥çœ‹å·²å®‰è£…node" class="headerlink" title="æŸ¥çœ‹å·²å®‰è£…node"></a>æŸ¥çœ‹å·²å®‰è£…<code>node</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nvm list</span><br><span class="line">-&gt;     v16.13.1</span><br><span class="line">default -&gt; 16.13.1 (-&gt; v16.13.1)</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨æŸä¸ªå·²å®‰è£…nodeç‰ˆæœ¬"><a href="#ä½¿ç”¨æŸä¸ªå·²å®‰è£…nodeç‰ˆæœ¬" class="headerlink" title="ä½¿ç”¨æŸä¸ªå·²å®‰è£…nodeç‰ˆæœ¬"></a>ä½¿ç”¨æŸä¸ªå·²å®‰è£…<code>node</code>ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nvm use 14.18.2</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥çœ‹npmç‰ˆæœ¬"><a href="#æŸ¥çœ‹npmç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹npmç‰ˆæœ¬"></a>æŸ¥çœ‹<code>npm</code>ç‰ˆæœ¬</h2><p>nodeå·²ç»é™„å¸¦å®‰è£…npmï¼Œæ— éœ€å•ç‹¬å®‰è£…,æŸ¥çœ‹å…¶ç‰ˆæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm -v</span><br><span class="line">8.1.2</span><br></pre></td></tr></table></figure><br>å¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œè¿è¡ŒæŒ‡ä»¤<br><code>npm install -g npm</code><br>å¦‚æœæƒ³æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œè¿è¡ŒæŒ‡ä»¤<br><code>npm -g install npm@6.8.0</code>  </p>
<p><a href="https://github.com/nvm-sh/nvm"><code>nvm</code>å¼€æºé¡¹ç›®åœ°å€</a></p>
<h2 id="å…¶ä»–å‡çº§nodejsæ–¹æ³•ï¼š"><a href="#å…¶ä»–å‡çº§nodejsæ–¹æ³•ï¼š" class="headerlink" title="å…¶ä»–å‡çº§nodejsæ–¹æ³•ï¼š"></a>å…¶ä»–å‡çº§<code>nodejs</code>æ–¹æ³•ï¼š</h2><h4 id="ï¼ˆ1ï¼‰ç”¨nå‡çº§nodejs"><a href="#ï¼ˆ1ï¼‰ç”¨nå‡çº§nodejs" class="headerlink" title="ï¼ˆ1ï¼‰ç”¨nå‡çº§nodejs"></a>ï¼ˆ1ï¼‰ç”¨<code>n</code>å‡çº§<code>nodejs</code></h4><p> å…¨å±€å®‰è£…n<br><code>npm install -g n</code><br> å‡çº§åˆ°æœ€æ–°ç¨³å®šç‰ˆ<br><code>n stable</code><br> å‡çº§åˆ°æœ€æ–°ç‰ˆ<br><code>n latest</code><br> å‡çº§åˆ°å®šåˆ¶ç‰ˆ<br><code>n v7.10.0</code><br> åˆ‡æ¢ä½¿ç”¨ç‰ˆæœ¬<br><code>n 7.10.0 (ENTER)</code><br> åˆ é™¤åˆ¶å®šç‰ˆæœ¬<br><code>n rm 7.10.0</code><br>ç”¨åˆ¶å®šçš„ç‰ˆæœ¬æ‰§è¡Œè„šæœ¬<br><code>n use 7.10.0 some.js</code>  </p>
<h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…<code>git</code></h2><p>å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/.nvm$ npm install --lts  <span class="comment">##é•¿æœŸæ”¯æŒç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><br>å°†<code>Debian10.1</code>ä¸­é»˜è®¤çš„<code>node</code>æ›´æ”¹æ–‡ä»¶åï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mv</span> /usr/bin/node /usr/bin/node10</span><br></pre></td></tr></table></figure><br>åœ¨<code>/etc/profile</code>,æ·»åŠ æ–°çš„<code>node</code>è·¯å¾„ <code>/usr/local/bin</code></p>
<p><code>export PATH=$PATH:/usr/local/bin</code></p>
<h1 id="äºŒã€å®‰è£…Nextä¸»é¢˜å¹¶éƒ¨ç½²åˆ°githubã€å«ä»wordpressä¸­å¯¼å‡ºã€‘"><a href="#äºŒã€å®‰è£…Nextä¸»é¢˜å¹¶éƒ¨ç½²åˆ°githubã€å«ä»wordpressä¸­å¯¼å‡ºã€‘" class="headerlink" title="äºŒã€å®‰è£…Nextä¸»é¢˜å¹¶éƒ¨ç½²åˆ°githubã€å«ä»wordpressä¸­å¯¼å‡ºã€‘"></a>äºŒã€å®‰è£…<code>Next</code>ä¸»é¢˜å¹¶éƒ¨ç½²åˆ°<code>github</code>ã€å«ä»<code>wordpress</code>ä¸­å¯¼å‡ºã€‘</h1><h2 id="1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š"><a href="#1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š" class="headerlink" title="1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š"></a>1ã€æŒ‰ç…§<code>Github</code>æç¤ºï¼Œåˆ›å»º<code>SSHç§˜é’¥</code>ï¼š</h2><p>ï¼ˆ1ï¼‰å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/.ssh</span><br><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line">user@user-pc:~/.ssh$ ssh-keygen -t rsa -C <span class="string">&quot;é‚®ç®±åœ°å€&quot;</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/ç”¨æˆ·å/.ssh/id_rsa): </span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/ç”¨æˆ·å/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/ç”¨æˆ·å/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:0NY9YEJ+aCViuJzyv**juiZ8 é‚®ç®±åœ°å€</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 2048]----+</span></span><br><span class="line"><span class="string">|     .o.*o++.    |</span></span><br><span class="line"><span class="string">|    .. * B=o     |</span></span><br><span class="line"><span class="string">|  o. o      o    |</span></span><br><span class="line"><span class="string">| ..o+o *     .   |</span></span><br><span class="line"><span class="string">|   o*.o So .     |</span></span><br><span class="line"><span class="string">| . =.o. .        |</span></span><br><span class="line"><span class="string">|  * .... . .     |</span></span><br><span class="line"><span class="string">| oo.o..          |</span></span><br><span class="line"><span class="string">| .o=             |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br><span class="line"><span class="string">user@user-pc:~/.ssh$ ls -a</span></span><br><span class="line"><span class="string">.  ..  id_rsa  id_rsa.pub</span></span><br><span class="line"><span class="string">user@user-pc:~/.ssh$ cat id_rsa.pub</span></span><br><span class="line"><span class="string">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDXoLe6b+9fvDT/L8hcz***************eh+GK4vVv+1dyv9 æ³¨å†Œgithubçš„é‚®ç®±</span></span><br></pre></td></tr></table></figure></p>
<p>ï¼ˆ2ï¼‰æ‰“å¼€<code>https://github.com/settings/keys</code>ï¼Œç‚¹å‡»<code>New SSH key</code>æ–°å¢ <code>SSH KEY</code>ï¼Œtittle<code>debian10</code>å†…å®¹å¦‚ä¸Š<br>ï¼ˆ3ï¼‰æ–°å»ºå¹¶é…ç½®<code>github</code>ä»“åº“<br>  â‘ æ‰“å¼€<code>https://github.com/</code>ç™»å½•åï¼Œåœ¨å³ä¸Šè§’ç‚¹å‡»<code>+</code>==&gt;<code>New repository</code>==&gt;<code>Repository name</code>è¾“å…¥ï¼š<code>XXX.github.io</code>==&gt;<code>Create repository</code><br>  â‘¡è¿›å…¥æ–°ä»“åº“ï¼Œ<code>Add file</code>==&gt;æ–‡ä»¶å<code>CNAME</code>,å†…å®¹<code>ä½ çš„åŸŸå</code>ï¼ˆåŸŸåéœ€è‡ªå·±æ³¨å†Œï¼Œæ²¡åŸŸåå°±ç›´æ¥ç”¨<code>XXX.github.io</code>è®¿é—®ç½‘é¡µï¼‰ã€‚<br>  â‘¢ç‚¹å‡»ä»“åº“å³è¾¹<code>Settins</code>==&gt;ç½‘é¡µä¸‹æ–¹<code>pages</code>==&gt;<code>Source</code>é€‰æ‹©<code>master</code>(å› ä¸ºç½‘é¡µæ–‡ä»¶ä¸Šä¼ æ˜¯ä¼ åˆ°<code>master</code>åˆ†æ”¯)==&gt;<code>Custom domain</code>æ ¹æ®ä¸Šé¢<code>ä½ çš„åŸŸå</code>å¡«å†™ã€‚  </p>
<p>å…³äºåŸŸåè§£æåœ¨ä¸»æœºè¿è¥å•†å¤„å¡«å†™ï¼Œæ¯”å¦‚<code>WWW</code>æˆ–è€…<code>@</code>ç­‰ï¼Œè®°å½•å€¼å¡«å†™<code>XXX.github.io</code>.  </p>
<p>ï¼ˆ4ï¼‰åœ¨ç”µè„‘ä¸Šé…ç½®<code>git</code><br>åœ¨<code>debian</code>ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;æ³¨å†Œgithubçš„ç”¨æˆ·å&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;æ³¨å†Œgithubçš„é‚®ç®±&quot;</span></span><br></pre></td></tr></table></figure><br>å…¶ä»–å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git config --list  æŸ¥çœ‹gité…ç½®</span><br><span class="line">ssh -T git@github.com æŸ¥çœ‹ä¸gitçš„è¿æ¥</span><br><span class="line">[sudo] yk çš„å¯†ç ï¼š</span><br><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br></pre></td></tr></table></figure><br>è¿æ¥æç¤ºé”™è¯¯è§£å†³æ–¹æ³•ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/.ssh$ sudo vim config</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">User æ³¨å†Œgithubçš„é‚®ç®±</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure><br>è®¾ç½®å’Œå–æ¶ˆä»£ç†:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy ä½ çš„ä»£ç†åœ°å€</span><br><span class="line">git config --global https.proxy ä½ çš„ä»£ç†åœ°å€</span><br></pre></td></tr></table></figure><br><strong><code>http://</code>ä¹Ÿå¯ä»¥æ”¹æˆ<code>sockets5://</code>,ä½†æ˜¯åŒºåˆ«åœ¨äºï¼š<code>socks5</code>ä¸æ”¯æŒé€šè¿‡<code>pubkey</code>å…å¯†ç™»å½•<code>github</code>ï¼Œæ¯æ¬¡æäº¤ä»£ç åªèƒ½è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ,<code>http</code>å¯ä»¥æ”¯æŒå…å¯†ç™»å½•ã€‚</strong><br>å–æ¶ˆä»£ç†ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy </span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy </span><br></pre></td></tr></table></figure></p>
<h2 id="2ã€å®‰è£…hexo"><a href="#2ã€å®‰è£…hexo" class="headerlink" title="2ã€å®‰è£…hexo"></a>2ã€å®‰è£…<code>hexo</code></h2><p>å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo npm install -g hexo-cli</span><br><span class="line">npm WARN deprecated fsevents@2.1.3: Please update to v 2.2.x</span><br><span class="line">/usr/local/bin/hexo -&gt; /usr/local/lib/node_modules/hexo-cli/bin/hexo</span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹"><a href="#3ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹" class="headerlink" title="3ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹"></a>3ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web$ sudo <span class="built_in">mkdir</span> gitblog</span><br><span class="line">user@user-pc:~/www/html/php-web$ <span class="built_in">cd</span> gitblog</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo hexo init   <span class="comment">##åˆå§‹åŒ–hexoè®¾ç½®</span></span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm install</span><br><span class="line"></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install urix</span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install resolve-url</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶å¤¹å‡ºç°<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml     #é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package.json    #åº”ç”¨ç¨‹åºæ•°æ®</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ source          #ç½‘ç«™å†…å®¹</span><br><span class="line">|   â”œâ”€â”€ _drafts     #è‰ç¨¿</span><br><span class="line">|   â””â”€â”€ _posts      #æ–‡ç« </span><br><span class="line">â””â”€â”€ themes          #ä¸»é¢˜</span><br></pre></td></tr></table></figure></p>
<h2 id="4ã€å®‰è£…Nextä¸»é¢˜"><a href="#4ã€å®‰è£…Nextä¸»é¢˜" class="headerlink" title="4ã€å®‰è£…Nextä¸»é¢˜"></a>4ã€å®‰è£…<code>Next</code>ä¸»é¢˜</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/gitblogs$ sudo git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<p>å®‰è£…ä¸€äº›å¿…å¤‡æ’ä»¶ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">// user@user-pc:~/www/html/php-web/gitblog$ sudo npm i hexo-renderer-multi-markdown-it --save --ignore-scripts <span class="comment"># å®‰è£…å¿…å¤‡æ’ä»¶,`--ignore-scripts` è§£å†³å®‰è£…ä¾èµ–å¤±è´¥é—®é¢˜,  </span></span><br><span class="line">//ä½†æ˜¯å®‰è£…æ­¤æ’ä»¶ä¼šå‡ºç°æ•°å­¦å…¬å¼é‡å¤è§£æ  </span><br><span class="line"></span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm i hexo-autoprefixer --save</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm i hexo-algoliasearch --save</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm i hexo-symbols-count-time --save</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm i hexo-feed --save</span><br><span class="line"></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm uninstall hexo-renderer-marked --save</span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install hexo-renderer-kramed --save</span><br><span class="line"></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm uninstall hexo-math --save  <span class="comment">#åœæ­¢ä½¿ç”¨ hexo-math</span></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install hexo-renderer-mathjax --save  <span class="comment">#ç„¶åå®‰è£… hexo-renderer-mathjax åŒ…ï¼š</span></span><br><span class="line"></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install hexo-generator-search --save</span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install hexo-generator-searchdb --save  <span class="comment"># æœ¬åœ°æœç´¢ #</span></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install hexo-tag-cloud@^2.1.* --save   <span class="comment">##æ ‡ç­¾äº‘</span></span><br><span class="line">user@user-pc:~/www/gitblogs$ sudo npm install eslint --save  <span class="comment">##é˜…è¯»æ—¶é•¿ä¾èµ–</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5ã€å¼€å¯æ ‡ç­¾äº‘ï¼š"><a href="#5ã€å¼€å¯æ ‡ç­¾äº‘ï¼š" class="headerlink" title="5ã€å¼€å¯æ ‡ç­¾äº‘ï¼š"></a>5ã€å¼€å¯æ ‡ç­¾äº‘ï¼š</h2><p><code>swig</code> ç”¨æˆ· (<code>Next</code>ä¸»é¢˜åœ¨åˆ—)  </p>
<p>åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹æ‰¾åˆ°æ–‡ä»¶ <code>theme/next/layout/_macro/sidebar.swig</code>, ç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; src=&quot;/js/tagcloud.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; src=&quot;/js/tagcanvas.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;div class=&quot;widget-wrap&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;widget-title&quot;&gt;Tag Cloud&lt;/h3&gt;</span><br><span class="line">    &lt;div id=&quot;myCanvasContainer&quot; class=&quot;widget tagcloud&quot;&gt;</span><br><span class="line">        &lt;canvas width=&quot;260&quot; height=&quot;280&quot; id=&quot;resCanvas&quot; style=&quot;width=100%&quot;&gt;</span><br><span class="line">            &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">        &lt;/canvas&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="6ã€ä»-Wordpress-è¿ç§»ï¼ˆæ²¡æœ‰ç”¨wordpresså»ºç«™å¯æ— é¡»æ­¤æ­¥ï¼‰"><a href="#6ã€ä»-Wordpress-è¿ç§»ï¼ˆæ²¡æœ‰ç”¨wordpresså»ºç«™å¯æ— é¡»æ­¤æ­¥ï¼‰" class="headerlink" title="6ã€ä» Wordpress è¿ç§»ï¼ˆæ²¡æœ‰ç”¨wordpresså»ºç«™å¯æ— é¡»æ­¤æ­¥ï¼‰"></a>6ã€ä» <code>Wordpress</code> è¿ç§»ï¼ˆæ²¡æœ‰ç”¨<code>wordpress</code>å»ºç«™å¯æ— é¡»æ­¤æ­¥ï¼‰</h2><p>ï¼ˆ1ï¼‰é¦–å…ˆå®‰è£… <code>hexo-migrator-wordpress</code> æ’ä»¶ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo npm install hexo-migrator-wordpress --save</span><br></pre></td></tr></table></figure><br>ç™»å½•<code>Wordpress</code> åå°ï¼Œåœ¨<code>å·¥å…·</code>-<code>å¯¼å‡º</code>ä¸­å¯¼å‡ºæ‰€æœ‰è®°å½•ã€‚<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ user@user-pc:~/www/html/php-web/gitblog$ sudo hexo migrate wordpress &lt;<span class="built_in">source</span>&gt;</span><br></pre></td></tr></table></figure><br><code>source</code> æ˜¯ <code>Wordpress</code> å¯¼å‡ºæ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼š<code>/media/yk/æ–‡æ¡£/BackUp/æ•°æ®å¤‡ä»½/Linuxç›¸å…³/Debianç½‘ç«™æ–‡ç« å¤‡ä»½/lifeinpieces.WordPress.2020-12-16.xml</code>ã€‚  </p>
<p>æ–‡ç« å¯¼å…¥åˆ°<code>_posts</code> ç›®å½•ä¸­äº†ï¼  </p>
<h2 id="7ã€æäº¤åˆ°github"><a href="#7ã€æäº¤åˆ°github" class="headerlink" title="7ã€æäº¤åˆ°github"></a>7ã€æäº¤åˆ°<code>github</code></h2><p>å®‰è£…æ”¯æŒï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog/owenyk.github.io$ sudo npm install hexo-deployer-git --unsafe-perm</span><br></pre></td></tr></table></figure><br>æäº¤å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo hexo generate</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo hexo deploy</span><br></pre></td></tr></table></figure></p>
<h3 id="ä¸€äº›é—®é¢˜ï¼š"><a href="#ä¸€äº›é—®é¢˜ï¼š" class="headerlink" title="ä¸€äº›é—®é¢˜ï¼š"></a>ä¸€äº›é—®é¢˜ï¼š</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$  git remote add origin git@github.com:<span class="comment">#####/#####.github.io.git</span></span><br><span class="line">fatal: ä¸æ˜¯ä¸€ä¸ª git ä»“åº“ï¼ˆæˆ–è€…ç›´è‡³æŒ‚è½½ç‚¹ / çš„ä»»ä½•çˆ¶ç›®å½•ï¼‰</span><br><span class="line">åœæ­¢åœ¨æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œï¼ˆæœªè®¾ç½® GIT_DISCOVERY_ACROSS_FILESYSTEMï¼‰</span><br></pre></td></tr></table></figure>
<p>è§£å†³ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo git init</span><br><span class="line">å·²åˆå§‹åŒ–ç©ºçš„ Git ä»“åº“äº /home/yk/www/html/php-web/gitblog/.git/</span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo git remote add origin git@github.com:<span class="comment">###/###.github.io.git</span></span><br><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo git remote -v</span><br><span class="line">origin	git@github.com:<span class="comment">###/###.github.io.git (fetch)</span></span><br><span class="line">origin	git@github.com:<span class="comment">###/###.github.io.git (push)</span></span><br></pre></td></tr></table></figure></p>
<p>æç¤ºï¼š<code>This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@0. I&#39;ll try to do my best with it!</code><br>è§£å†³ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/gitblogs$ sudo <span class="built_in">rm</span> -rf node_modules package-lock.json &amp;&amp; npm install</span><br></pre></td></tr></table></figure></p>
<h2 id="8ã€æ¢æœºæ“ä½œ"><a href="#8ã€æ¢æœºæ“ä½œ" class="headerlink" title="8ã€æ¢æœºæ“ä½œ"></a>8ã€æ¢æœºæ“ä½œ</h2><h3 id="1-ã€åœ¨ä½ çš„åšå®¢Repositoryä¸­æ–°å»ºä¸€ä¸ªhexoåˆ†æ”¯ï¼Œåå­—è‡ªå®šï¼š"><a href="#1-ã€åœ¨ä½ çš„åšå®¢Repositoryä¸­æ–°å»ºä¸€ä¸ªhexoåˆ†æ”¯ï¼Œåå­—è‡ªå®šï¼š" class="headerlink" title="(1)ã€åœ¨ä½ çš„åšå®¢Repositoryä¸­æ–°å»ºä¸€ä¸ªhexoåˆ†æ”¯ï¼Œåå­—è‡ªå®šï¼š"></a>(1)ã€åœ¨ä½ çš„åšå®¢<code>Repository</code>ä¸­æ–°å»ºä¸€ä¸ª<code>hexo</code>åˆ†æ”¯ï¼Œåå­—è‡ªå®šï¼š</h3><h3 id="2-ã€ç„¶ååœ¨settingä¸­è®¾ç½®é»˜è®¤åˆ†æ”¯ä¸ºhexoï¼Œä¾¿äºæ¨é€ï¼š"><a href="#2-ã€ç„¶ååœ¨settingä¸­è®¾ç½®é»˜è®¤åˆ†æ”¯ä¸ºhexoï¼Œä¾¿äºæ¨é€ï¼š" class="headerlink" title="(2)ã€ç„¶ååœ¨settingä¸­è®¾ç½®é»˜è®¤åˆ†æ”¯ä¸ºhexoï¼Œä¾¿äºæ¨é€ï¼š"></a>(2)ã€ç„¶ååœ¨<code>setting</code>ä¸­è®¾ç½®é»˜è®¤åˆ†æ”¯ä¸º<code>hexo</code>ï¼Œä¾¿äºæ¨é€ï¼š</h3><h3 id="3-ã€æ–°å»ºç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š"><a href="#3-ã€æ–°å»ºç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š" class="headerlink" title="(3)ã€æ–°å»ºç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š"></a>(3)ã€æ–°å»ºç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog$ sudo git <span class="built_in">clone</span> https://github.com/owenyk/owenyk.github.io.git</span><br></pre></td></tr></table></figure>
<h3 id="4-ã€æŠŠé™¤äº†-git-æ–‡ä»¶å¤¹å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ æ‰ï¼ˆè¿™äº›æ˜¯ç¼–è¯‘åçš„ç½‘é¡µæ–‡ä»¶ï¼‰"><a href="#4-ã€æŠŠé™¤äº†-git-æ–‡ä»¶å¤¹å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ æ‰ï¼ˆè¿™äº›æ˜¯ç¼–è¯‘åçš„ç½‘é¡µæ–‡ä»¶ï¼‰" class="headerlink" title="(4)ã€æŠŠé™¤äº†.git æ–‡ä»¶å¤¹å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ æ‰ï¼ˆè¿™äº›æ˜¯ç¼–è¯‘åçš„ç½‘é¡µæ–‡ä»¶ï¼‰"></a>(4)ã€æŠŠé™¤äº†<code>.git</code> æ–‡ä»¶å¤¹å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ æ‰ï¼ˆè¿™äº›æ˜¯ç¼–è¯‘åçš„ç½‘é¡µæ–‡ä»¶ï¼‰</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">user@user-pc:~/www/html/php-web/gitblog/owenyk.github.io$ sudo <span class="built_in">rm</span> -rf [^.]*</span><br></pre></td></tr></table></figure>
<h3 id="5-ã€æŠŠä¹‹å‰æˆ‘ä»¬å†™çš„åšå®¢æºæ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿‡æ¥ï¼Œé™¤äº†-deploy-gitï¼ˆç¼–è¯‘åçš„æ–‡ä»¶ç›®å½•ï¼‰ã€‚"><a href="#5-ã€æŠŠä¹‹å‰æˆ‘ä»¬å†™çš„åšå®¢æºæ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿‡æ¥ï¼Œé™¤äº†-deploy-gitï¼ˆç¼–è¯‘åçš„æ–‡ä»¶ç›®å½•ï¼‰ã€‚" class="headerlink" title="(5)ã€æŠŠä¹‹å‰æˆ‘ä»¬å†™çš„åšå®¢æºæ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿‡æ¥ï¼Œé™¤äº†.deploy_gitï¼ˆç¼–è¯‘åçš„æ–‡ä»¶ç›®å½•ï¼‰ã€‚"></a>(5)ã€æŠŠä¹‹å‰æˆ‘ä»¬å†™çš„åšå®¢æºæ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿‡æ¥ï¼Œé™¤äº†<code>.deploy_git</code>ï¼ˆç¼–è¯‘åçš„æ–‡ä»¶ç›®å½•ï¼‰ã€‚</h3><p>å…¶ä¸­ï¼Œ<code>.gitignore</code>ï¼ˆè®¾ç½®ä¸éœ€è¦<code>git</code>çš„æ–‡ä»¶æˆ–ç›®å½•ï¼‰æ–‡ä»¶ä¸­ä¸­éœ€è¦è®¾ç½®éƒ¨åˆ†ä¸éœ€è¦ä¸Šä¼ çš„ç›®å½•ï¼š<br>åˆ é™¤é¢˜ä¸­æœ‰ä¸€ä¸ª<code>.git</code>ç›®å½•<br>å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo git commit â€“m <span class="string">&#x27;add branch&#x27;</span></span><br><span class="line"></span><br><span class="line">sudo git checkout -b hexo_backup --track origin / hexo_backup</span><br></pre></td></tr></table></figure></p>
<h2 id="9ã€æ•°å­¦å…¬å¼æ˜¾ç¤ºä¸æ­£å¸¸é—®é¢˜ï¼š"><a href="#9ã€æ•°å­¦å…¬å¼æ˜¾ç¤ºä¸æ­£å¸¸é—®é¢˜ï¼š" class="headerlink" title="9ã€æ•°å­¦å…¬å¼æ˜¾ç¤ºä¸æ­£å¸¸é—®é¢˜ï¼š"></a>9ã€æ•°å­¦å…¬å¼æ˜¾ç¤ºä¸æ­£å¸¸é—®é¢˜ï¼š</h2><h3 id="ç¬¬ä¸€æ­¥ï¼š-ä½¿ç”¨Kramedä»£æ›¿Marked"><a href="#ç¬¬ä¸€æ­¥ï¼š-ä½¿ç”¨Kramedä»£æ›¿Marked" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š ä½¿ç”¨Kramedä»£æ›¿Marked"></a>ç¬¬ä¸€æ­¥ï¼š ä½¿ç”¨<code>Kramed</code>ä»£æ›¿<code>Marked</code></h3><p><code>hexo</code> é»˜è®¤çš„æ¸²æŸ“å¼•æ“æ˜¯ <code>marked</code>ï¼Œä½†æ˜¯ <code>marked</code> ä¸æ”¯æŒ <code>mathjax</code>ã€‚ <code>kramed</code> æ˜¯åœ¨ <code>marked</code> çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… <code>kramed</code>.<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><br>ç„¶åï¼Œæ›´æ”¹<code>&lt;your-project-dir&gt;/node_modules/hexo-renderer-kramed/lib/renderer.js</code>ï¼Œæ›´æ”¹ï¼š<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatText</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="comment">// Fit kramed&#x27;s rule: $$ + \1 + $$</span></span><br><span class="line">    <span class="keyword">return</span> text.<span class="title function_">replace</span>(<span class="regexp">/`\$(.*?)\$`/g</span>, <span class="string">&#x27;$$$$$1$$$$&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºï¼š<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatText</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬äºŒæ­¥-åœæ­¢ä½¿ç”¨-hexo-math"><a href="#ç¬¬äºŒæ­¥-åœæ­¢ä½¿ç”¨-hexo-math" class="headerlink" title="ç¬¬äºŒæ­¥: åœæ­¢ä½¿ç”¨ hexo-math"></a>ç¬¬äºŒæ­¥: åœæ­¢ä½¿ç”¨ <code>hexo-math</code></h3><p>é¦–å…ˆï¼Œå¦‚æœä½ å·²ç»å®‰è£… <code>hexo-math</code>, è¯·å¸è½½å®ƒï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-math --save`</span><br></pre></td></tr></table></figure><br>ç„¶åå®‰è£… <code>hexo-renderer-mathjax</code> åŒ…ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-mathjax --save</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬ä¸‰æ­¥-æ›´æ–°-Mathjax-çš„-CDN-é“¾æ¥"><a href="#ç¬¬ä¸‰æ­¥-æ›´æ–°-Mathjax-çš„-CDN-é“¾æ¥" class="headerlink" title="ç¬¬ä¸‰æ­¥: æ›´æ–° Mathjax çš„ CDN é“¾æ¥"></a>ç¬¬ä¸‰æ­¥: æ›´æ–° <code>Mathjax</code> çš„ <code>CDN</code> é“¾æ¥</h3><p>é¦–å…ˆï¼Œæ‰“å¼€<code>&lt;path-to-your-project&gt;/node_modules/hexo-renderer-mathjax/mathjax.html</code></p>
<p>ç„¶åï¼ŒæŠŠ<code>&lt;script&gt;</code>æ›´æ”¹ä¸ºï¼š<br><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="ç¬¬å››æ­¥-æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™"><a href="#ç¬¬å››æ­¥-æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™" class="headerlink" title="ç¬¬å››æ­¥: æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™"></a>ç¬¬å››æ­¥: æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™</h3><p>å› ä¸º <code>hexo</code> é»˜è®¤çš„è½¬ä¹‰è§„åˆ™ä¼šå°†ä¸€äº›å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚ <code>_</code>è½¬ä¸º <code>&lt;em&gt;</code>, æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹é»˜è®¤çš„è§„åˆ™è¿›è¡Œä¿®æ”¹.<br>é¦–å…ˆï¼Œ æ‰“å¼€<code>&lt;path-to-your-project/node_modules/kramed/lib/rules/inline.js</code>,</p>
<p>ç„¶åï¼ŒæŠŠ:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure><br>æ›´æ”¹ä¸º:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([`*\[\]()# +\-.!_&gt;])/</span>,</span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line">æŠŠ</span><br><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><br></pre></td></tr></table></figure><br>æ›´æ”¹ä¸º:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">em</span>: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬äº”æ­¥-å¼€å¯mathjax"><a href="#ç¬¬äº”æ­¥-å¼€å¯mathjax" class="headerlink" title="ç¬¬äº”æ­¥: å¼€å¯mathjax"></a>ç¬¬äº”æ­¥: å¼€å¯<code>mathjax</code></h3><p>åœ¨ä¸»é¢˜<code>_config.yml</code> ä¸­å¼€å¯ <code>Mathjax</code>ï¼Œ æ‰¾åˆ° <code>mathjax</code> å­—æ®µæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸€æ­¥å¯é€‰ï¼Œåœ¨åšå®¢ä¸­å¼€å¯ <code>Mathjax</code>ï¼Œï¼Œ æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Testing</span> <span class="string">Mathjax</span> <span class="string">with</span> <span class="string">Hexo</span>  </span><br><span class="line"><span class="attr">category:</span> <span class="string">Uncategorized</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2017</span><span class="string">/05/03</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>hexo</code> ä¸­ä½¿ç”¨ <code>Mathjax</code> æ¥ä¹¦å†™æ•°å­¦å…¬å¼ã€‚</p>
<p><a name="div1"></a></p>
<h2 id="10ã€æ”¹å˜tagå› ä¸ºå¤§å°å†™é—®é¢˜è€Œ404çš„é—®é¢˜"><a href="#10ã€æ”¹å˜tagå› ä¸ºå¤§å°å†™é—®é¢˜è€Œ404çš„é—®é¢˜" class="headerlink" title="10ã€æ”¹å˜tagå› ä¸ºå¤§å°å†™é—®é¢˜è€Œ404çš„é—®é¢˜"></a>10ã€æ”¹å˜<code>tag</code>å› ä¸ºå¤§å°å†™é—®é¢˜è€Œ<code>404</code>çš„é—®é¢˜</h2><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„<code>.deploy_git/.git/config</code>æ–‡ä»¶é…ç½®ä¸­å¿½ç•¥å¤§å°å†™é€‰é¡¹<code>ignorecase = true</code>æ”¹æˆ<code>ignorecase = false</code>ï¼ˆæ³¨æ„ï¼š<code>.git</code>æ˜¯éšè—æ–‡ä»¶å¤¹ï¼Œè®°å¾—è°ƒä¸€ä¸‹æ˜¾ç¤ºéšè—æ–‡ä»¶å¤¹ï¼‰ã€‚</p>
<h2 id="11ã€Windowsä¸Šéƒ¨ç½²æ—¶å‡ºç°warning-LF-will-be-replaced-by-CRLF-in-xxxxxxçš„è­¦å‘Šé—®é¢˜"><a href="#11ã€Windowsä¸Šéƒ¨ç½²æ—¶å‡ºç°warning-LF-will-be-replaced-by-CRLF-in-xxxxxxçš„è­¦å‘Šé—®é¢˜" class="headerlink" title="11ã€Windowsä¸Šéƒ¨ç½²æ—¶å‡ºç°warning: LF will be replaced by CRLF in xxxxxxçš„è­¦å‘Šé—®é¢˜"></a>11ã€<code>Windows</code>ä¸Šéƒ¨ç½²æ—¶å‡ºç°<code>warning: LF will be replaced by CRLF in xxxxxx</code>çš„è­¦å‘Šé—®é¢˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h2><p><a href="https://www.jianshu.com/p/6a29f5243ab4">æ¢ç»ˆç«¯æ›´æ–°hexoåšå®¢ï¼š</a><br><a href="https://blog.csdn.net/nightwishh/article/details/99647545">gitæŠ¥é”™ssh: connect to host github.com port 22: Connection timed out:</a><br><a href="https://zhuanlan.zhihu.com/p/149575559">Hexoåšå®¢å»ºç«‹æ ‡ç­¾äº‘åŠæ•ˆæœå±•ç¤º:</a><br><a href="https://blog.csdn.net/jomes_wang/article/details/111628334">hexoåšå®¢æœ¬åœ°æœç´¢å¤±æ•ˆï¼Œä¸€ç›´è½¬åœˆ:</a><br><a href="https://www.jianshu.com/p/e8d433a2c5b7">å¦‚ä½•åœ¨ hexo ä¸­æ”¯æŒ Mathjaxï¼Ÿï¼š</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Hexo</category>
        <category>Nextä¸»é¢˜</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>Nvm</tag>
        <tag>Debian10</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Debian11ä¸Šå®‰è£…clash</title>
    <url>/2021/12/15/%E5%9C%A8Debian11%E4%B8%8A%E5%AE%89%E8%A3%85clash%E7%9A%84%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…goç¯å¢ƒ"><a href="#å®‰è£…goç¯å¢ƒ" class="headerlink" title="å®‰è£…goç¯å¢ƒ"></a>å®‰è£…<code>go</code>ç¯å¢ƒ</h1><p>å‚è§<a href="../../../../2021/12/15/åœ¨Debian11ä¸Šå®‰è£…goç¯å¢ƒ/">åœ¨Debian11ä¸Šå®‰è£…goç¯å¢ƒ</a></p>
<h1 id="ä¸ºä¾èµ–åŒ…è®¾ç½®ä»£ç†"><a href="#ä¸ºä¾èµ–åŒ…è®¾ç½®ä»£ç†" class="headerlink" title="ä¸ºä¾èµ–åŒ…è®¾ç½®ä»£ç†"></a>ä¸ºä¾èµ–åŒ…è®¾ç½®ä»£ç†</h1><p>ç»ˆç«¯çª—å£è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…¶ç”¨Go ModulesåŠŸèƒ½</span></span><br><span class="line">go <span class="built_in">env</span> -w GO111MODULE=on</span><br><span class="line"><span class="comment"># é…ç½® GOPROXY ç¯å¢ƒå˜é‡</span></span><br><span class="line">go <span class="built_in">env</span> -w GOPROXY=https://goproxy.cn</span><br></pre></td></tr></table></figure></p>
<h1 id="å®‰è£…clash"><a href="#å®‰è£…clash" class="headerlink" title="å®‰è£…clash"></a>å®‰è£…<code>clash</code></h1><p>ç»ˆç«¯çª—å£è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">go install github.com/Dreamacro/clash@latest</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¿®æ”¹clashé…ç½®"><a href="#ä¿®æ”¹clashé…ç½®" class="headerlink" title="ä¿®æ”¹clashé…ç½®"></a>ä¿®æ”¹<code>clash</code>é…ç½®</h1><p>é»˜è®¤é…ç½®ç›®å½•æ˜¯ <code>$HOME/.config/clash</code>ï¼Œä¸‹è½½è®¢é˜…é…ç½®ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -O config.yaml https://ä½ å¾—åˆ°çš„è®¢é˜…ç½‘å€/Clash.yml</span><br></pre></td></tr></table></figure><br>é…ç½®æ–‡ä»¶çš„åç§°æ˜¯<code>config.yaml</code>ï¼Œå¦‚æœè¦ä½¿ç”¨å…¶ä»–ç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨ <code>-d</code> æ§åˆ¶é…ç½®ç›®å½•ã€‚<br>ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºé…ç½®ç›®å½•ï¼Œå‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clash -d .  <span class="comment"># æ³¨æ„â€œ.â€</span></span><br></pre></td></tr></table></figure><br>åœ¨é»˜è®¤é…ç½®ç›®å½•å¯åŠ¨å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clash</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸‹è½½-mmdb"><a href="#ä¸‹è½½-mmdb" class="headerlink" title="ä¸‹è½½.mmdb"></a>ä¸‹è½½<code>.mmdb</code></h1><p><code>Country.mmdb</code>ä¸ºå…¨çƒIPåº“ï¼Œå¯ä»¥å®ç°å„ä¸ªå›½å®¶çš„IPä¿¡æ¯è§£æå’Œåœ°ç†å®šä½ï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶<code>clash</code>æ˜¯æ— æ³•è¿è¡Œçš„ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -O Country.mmdb https://www.sub-speeder.com/client-download/Country.mmdb</span><br></pre></td></tr></table></figure></p>
<p>é™„<code>config.yaml</code>çš„<a href="https://raw.githubusercontent.com/ssrsub/ssr/master/Clash.yml">è®¢é˜…åœ°å€ï¼š</a></p>
<h1 id="è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="è®¾ç½®å¼€æœºå¯åŠ¨"></a>è®¾ç½®å¼€æœºå¯åŠ¨</h1><h2 id="ç§»åŠ¨clashåˆ°-usr-bin-æ–‡ä»¶å¤¹ä¸‹å¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™"><a href="#ç§»åŠ¨clashåˆ°-usr-bin-æ–‡ä»¶å¤¹ä¸‹å¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™" class="headerlink" title="ç§»åŠ¨clashåˆ°/usr/bin/æ–‡ä»¶å¤¹ä¸‹å¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™"></a>ç§»åŠ¨<code>clash</code>åˆ°<code>/usr/bin/</code>æ–‡ä»¶å¤¹ä¸‹å¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™</h2><p>ä¹Ÿå¯ä»¥ä¸ç§»åŠ¨ï¼Œä½†æ˜¯æ³¨æ„è®¾ç½®ç¨‹åºè·¯å¾„ä¸º<code>clash</code>æ‰€åœ¨è·¯å¾„ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mv</span> ~/gopath/bin/clash /usr/bin/</span><br><span class="line">sudo <span class="built_in">chmod</span> +x /usr/bin/clash</span><br></pre></td></tr></table></figure></p>
<h2 id="åˆ›å»ºclash-serviceæ–‡ä»¶"><a href="#åˆ›å»ºclash-serviceæ–‡ä»¶" class="headerlink" title="åˆ›å»ºclash@.serviceæ–‡ä»¶"></a>åˆ›å»º<code>clash@.service</code>æ–‡ä»¶</h2><p>åœ¨<code>/lib/systemd/system/</code>ç›®å½•ä¸‹åˆ›å»º<code>clash@.service</code>æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /lib/systemd/system/clash@.service</span><br></pre></td></tr></table></figure></p>
<p>å†™å…¥ä»¥ä¸‹å†…å®¹(ä¸ç”¨ä¿®æ”¹)å¹¶ä¿å­˜:<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=A rule based proxy in Go for %i.</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=%i</span><br><span class="line">Restart=on-abort</span><br><span class="line">ExecStart=/usr/bin/clash</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></p>
<h2 id="é‡æ–°åŠ è½½systemdæ¨¡å—"><a href="#é‡æ–°åŠ è½½systemdæ¨¡å—" class="headerlink" title="é‡æ–°åŠ è½½systemdæ¨¡å—"></a>é‡æ–°åŠ è½½<code>systemd</code>æ¨¡å—</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure>
<h2 id="å¯åŠ¨clashæœåŠ¡"><a href="#å¯åŠ¨clashæœåŠ¡" class="headerlink" title="å¯åŠ¨clashæœåŠ¡"></a>å¯åŠ¨<code>clash</code>æœåŠ¡</h2><p><strong><code>user</code> è¡¨ç¤ºçš„æ˜¯å½“å‰ç”¨æˆ·å</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl start clash@user</span><br></pre></td></tr></table></figure></p>
<h2 id="è®¾ç½®å¼€æœºè‡ªå¯"><a href="#è®¾ç½®å¼€æœºè‡ªå¯" class="headerlink" title="è®¾ç½®å¼€æœºè‡ªå¯"></a>è®¾ç½®å¼€æœºè‡ªå¯</h2><p><strong><code>user</code> è¡¨ç¤ºçš„æ˜¯å½“å‰ç”¨æˆ·å</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> clash@user</span><br><span class="line">  Created symlink /etc/systemd/system/multi-user.target.wants/clash@user.service â†’ /lib/systemd/system/clash@.service.</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://github.com/Sitoi/SystemdClash">Linux Clash æ•™ç¨‹</a><br><a href="https://zhuanlan.zhihu.com/p/420381244">åœ¨ARM-ubuntuä¸Šå®‰è£…å’Œä½¿ç”¨clash</a><br><a href="https://github.com/Dreamacro/clash/wiki">clash wiki</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Clash</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>Clash</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Debian11ä¸Šå®‰è£…goç¯å¢ƒ</title>
    <url>/2021/12/15/%E5%9C%A8Debian11%E4%B8%8A%E5%AE%89%E8%A3%85go%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dl.google.com/go/go1.17.5.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>
<h1 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar zxvf  go1.17.5.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>
<h1 id="ç§»åŠ¨è§£å‹goæ–‡ä»¶å¤¹åˆ°è¦é…ç½®çš„è·¯å¾„"><a href="#ç§»åŠ¨è§£å‹goæ–‡ä»¶å¤¹åˆ°è¦é…ç½®çš„è·¯å¾„" class="headerlink" title="ç§»åŠ¨è§£å‹goæ–‡ä»¶å¤¹åˆ°è¦é…ç½®çš„è·¯å¾„"></a>ç§»åŠ¨è§£å‹<code>go</code>æ–‡ä»¶å¤¹åˆ°è¦é…ç½®çš„è·¯å¾„</h1><p>æœ¬äººæ”¾åœ¨<code>~/local/</code>æ–‡ä»¶å¤¹ä¸‹<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mv</span> go ~/local/</span><br></pre></td></tr></table></figure></p>
<h1 id="é…ç½®å…¨å±€å˜é‡"><a href="#é…ç½®å…¨å±€å˜é‡" class="headerlink" title="é…ç½®å…¨å±€å˜é‡"></a>é…ç½®å…¨å±€å˜é‡</h1><p>æ ¹æ®è‡ªå·±ä½¿ç”¨çš„<code>Shell</code>æ˜¯<code>bash</code>è¿˜æ˜¯<del><code>zsh</code></del>ï¼Œå¯¹<code>~/.bashrc</code>å’Œ<del><code>/.zshrc</code></del>è¿›è¡Œç¼–è¾‘ï¼Œè¿™é‡Œæœ¬äººå®‰è£…å¯¹<code>~/.bashrc</code>è¿›è¡Œç¼–è¾‘ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¿®æ”¹~/.bashrc</span></span><br><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure></p>
<h1 id="æ·»åŠ Gopathè·¯å¾„"><a href="#æ·»åŠ Gopathè·¯å¾„" class="headerlink" title="æ·»åŠ Gopathè·¯å¾„"></a>æ·»åŠ <code>Gopath</code>è·¯å¾„</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GOROOT=~/local/go #GOROOTæ˜¯ç³»ç»Ÿä¸Šå®‰è£…Goè½¯ä»¶åŒ…çš„ä½ç½®ã€‚</span><br><span class="line">export GOROOT</span><br><span class="line">export PATH=$PATH:$GOROOT/bin</span><br><span class="line"></span><br><span class="line">GOPATH=~/gopath  #GOPATHæ˜¯å·¥ä½œç›®å½•çš„ä½ç½®ã€‚</span><br><span class="line">export GOPATH</span><br><span class="line">export PATH=$PATH:$GOPATH/bin</span><br></pre></td></tr></table></figure>
<h1 id="æ¿€æ´»é…ç½®"><a href="#æ¿€æ´»é…ç½®" class="headerlink" title="æ¿€æ´»é…ç½®"></a>æ¿€æ´»é…ç½®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">go version</span><br><span class="line"><span class="comment"># è¾“å‡º go version go1.17.5 linux/amd64</span></span><br></pre></td></tr></table></figure>
<p>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://www.cnblogs.com/on-the-way-w/p/14481482.html">Debian10 å®‰è£…Goç¯å¢ƒ</a></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Go</category>
      </categories>
      <tags>
        <tag>Debian11</tag>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Debianä¸Šå®‰è£…LANMPåŠåœ¨Win10ä¸‹å®‰è£…MariaDBçš„zipç‰ˆæœ¬</title>
    <url>/2020/11/15/%E5%9C%A8Debian%E4%B8%8A%E5%AE%89%E8%A3%85LANMP%E5%8F%8A%E5%9C%A8Win10%E4%B8%8B%E5%AE%89%E8%A3%85MariaDB%E7%9A%84zip%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€å®‰è£…Apache"><a href="#ä¸€ã€å®‰è£…Apache" class="headerlink" title="ä¸€ã€å®‰è£…Apache"></a>ä¸€ã€å®‰è£…<code>Apache</code></h1><h2 id="ä¸€-ã€å®‰è£…apacheå‘½ä»¤ï¼š"><a href="#ä¸€-ã€å®‰è£…apacheå‘½ä»¤ï¼š" class="headerlink" title="(ä¸€)ã€å®‰è£…apacheå‘½ä»¤ï¼š"></a>(ä¸€)ã€å®‰è£…<code>apache</code>å‘½ä»¤ï¼š</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install apache2`   </span><br></pre></td></tr></table></figure>
<p><code>Apache</code>å®‰è£…å®Œæˆåï¼Œå®‰è£…ç¨‹åºå°†ç«‹å³è§¦å‘<code>systemd</code>ç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨å¯åŠ¨<code>Apache2</code>æœåŠ¡ï¼Œå¹¶ä½¿å…¶åœ¨ç³»ç»Ÿå¼•å¯¼æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚<br>è¦æ£€æŸ¥<code>Apache</code>æœåŠ¡æ˜¯å¦å·²å¯åŠ¨å¹¶æ­£å¸¸è¿è¡Œï¼Œè¯·è¿è¡Œä»¥ä¸‹<code>systemctl</code>å‘½ä»¤ã€‚<br><code># systemctl status apache2</code><br>å…¶ä»–å¸¸ç”¨å‘½ä»¤<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># systemctl start apache2.service</span></span><br><span class="line"><span class="comment"># systemctl restart apache2.service</span></span><br><span class="line"><span class="comment"># systemctl stop apache2.service</span></span><br><span class="line"><span class="comment"># systemctl reload apache2.service</span></span><br><span class="line"><span class="comment"># systemctl status apache2.service</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆäºŒï¼‰ã€ä¿®æ”¹apacheç½‘ç«™æœåŠ¡è·¯å¾„ä¸ºè‡ªå·±ç½‘ç«™ç›®å½•"><a href="#ï¼ˆäºŒï¼‰ã€ä¿®æ”¹apacheç½‘ç«™æœåŠ¡è·¯å¾„ä¸ºè‡ªå·±ç½‘ç«™ç›®å½•" class="headerlink" title="ï¼ˆäºŒï¼‰ã€ä¿®æ”¹apacheç½‘ç«™æœåŠ¡è·¯å¾„ä¸ºè‡ªå·±ç½‘ç«™ç›®å½•"></a>ï¼ˆäºŒï¼‰ã€ä¿®æ”¹<code>apache</code>ç½‘ç«™æœåŠ¡è·¯å¾„ä¸ºè‡ªå·±ç½‘ç«™ç›®å½•</h2><h3 id="ï¼ˆ1ï¼‰ä¿®æ”¹-etc-apache2-sites-available-000-default-conf"><a href="#ï¼ˆ1ï¼‰ä¿®æ”¹-etc-apache2-sites-available-000-default-conf" class="headerlink" title="ï¼ˆ1ï¼‰ä¿®æ”¹ /etc/apache2/sites-available/000-default.conf"></a>ï¼ˆ1ï¼‰ä¿®æ”¹ <code>/etc/apache2/sites-available/000-default.conf</code></h3><p><strong>ä¸å»ºè®®ç›´æ¥ä¿®æ”¹</strong>,è€Œæ˜¯æ–°å»ºç½‘ç«™é…ç½®æ–‡ä»¶å¹¶ç›‘å¬<code>8080</code>ç«¯å£ï¼š<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apache2/sites-available/wpweb.conf</span><br></pre></td></tr></table></figure><br>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;VirtualHost *:8080&gt;  </span><br><span class="line">  #ServerName www.example.com  </span><br><span class="line">  ServerAdmin webmaster@localhost  </span><br><span class="line">  DocumentRoot ~/www/html/php-web/  </span><br><span class="line">  ErrorLog ~/www/html/php-web/wordpress/logs/error.log  </span><br><span class="line">  CustomLog ~/www/html/php-web/wordpress/logs/access.log combined  </span><br><span class="line">&lt;/VirtualHost&gt;  </span><br></pre></td></tr></table></figure><br>å¯ä»¥å°†ç½‘ç«™é…ç½®å‘½åä¸ºï¼š<code>ç½‘ç«™å.conf</code></p>
<h3 id="ï¼ˆ2ï¼‰-ä¿®æ”¹-etc-apache2-apache2-conf"><a href="#ï¼ˆ2ï¼‰-ä¿®æ”¹-etc-apache2-apache2-conf" class="headerlink" title="ï¼ˆ2ï¼‰###ä¿®æ”¹ /etc/apache2/apache2.conf"></a>ï¼ˆ2ï¼‰###ä¿®æ”¹ <code>/etc/apache2/apache2.conf</code></h3><p>[ä¸å»ºè®®ç›´æ¥ä¿®æ”¹]<br>å°† <code>&lt;Directory /var/www/&gt;</code> æ”¹ä¸º <code>&lt;Directory ä½ çš„è·¯å¾„&gt;</code><br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">####&lt;Directory /var/www/&gt;</span></span><br><span class="line"><span class="comment">#####Options Indexes FollowSymLinks</span></span><br><span class="line"><span class="comment">#####AllowOverride None</span></span><br><span class="line"><span class="comment">#####Require all granted</span></span><br><span class="line"><span class="comment">######&lt;/Directory&gt;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="1ã€‹åœ¨ports-confæ·»åŠ æ–°å¢ç›‘å¬ç«¯å£"><a href="#1ã€‹åœ¨ports-confæ·»åŠ æ–°å¢ç›‘å¬ç«¯å£" class="headerlink" title="1ã€‹åœ¨ports.confæ·»åŠ æ–°å¢ç›‘å¬ç«¯å£"></a>1ã€‹åœ¨<code>ports.conf</code>æ·»åŠ æ–°å¢ç›‘å¬ç«¯å£</h4><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apache2/ports.conf</span><br></pre></td></tr></table></figure><br>åœ¨<code>Linsten</code>ä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><code>Listen 8080</code>  </p>
<h4 id="2ã€‹æ–°å»ºç½‘ç«™çš„æ—¥å­æ–‡ä»¶å¤¹ï¼š"><a href="#2ã€‹æ–°å»ºç½‘ç«™çš„æ—¥å­æ–‡ä»¶å¤¹ï¼š" class="headerlink" title="2ã€‹æ–°å»ºç½‘ç«™çš„æ—¥å­æ–‡ä»¶å¤¹ï¼š"></a>2ã€‹æ–°å»ºç½‘ç«™çš„æ—¥å­æ–‡ä»¶å¤¹ï¼š</h4><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p ~/www/html/php-web/wordpress/logs/</span><br></pre></td></tr></table></figure></p>
<h4 id="3ã€‹å¯ç”¨é…ç½®ï¼š"><a href="#3ã€‹å¯ç”¨é…ç½®ï¼š" class="headerlink" title="3ã€‹å¯ç”¨é…ç½®ï¼š"></a>3ã€‹å¯ç”¨é…ç½®ï¼š</h4><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo a2ensite wpweb.conf</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆä¸‰ï¼‰å®‰è£…libapache2-mod-fastcgiæ¨¡å—å¯ç”¨php-fpmç®¡ç†"><a href="#ï¼ˆä¸‰ï¼‰å®‰è£…libapache2-mod-fastcgiæ¨¡å—å¯ç”¨php-fpmç®¡ç†" class="headerlink" title="ï¼ˆä¸‰ï¼‰å®‰è£…libapache2-mod-fastcgiæ¨¡å—å¯ç”¨php-fpmç®¡ç†"></a>ï¼ˆä¸‰ï¼‰å®‰è£…<code>libapache2-mod-fastcgi</code>æ¨¡å—å¯ç”¨<code>php-fpm</code>ç®¡ç†</h2><p><a href="https://packages.debian.org/jessie/i386/libapache2-mod-fastcgi/download">æ¨¡å—æºåœ°å€ä¸‹è½½</a></p>
<h3 id="ï¼ˆ1ï¼‰æ·»åŠ å®‰è£…æºï¼š"><a href="#ï¼ˆ1ï¼‰æ·»åŠ å®‰è£…æºï¼š" class="headerlink" title="ï¼ˆ1ï¼‰æ·»åŠ å®‰è£…æºï¼š"></a>ï¼ˆ1ï¼‰æ·»åŠ å®‰è£…æºï¼š</h3><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><br>æ·»åŠ æºåœ°å€ï¼š<code>deb http://ftp.cn.debian.org/debian buster main non-free</code><br>æ ¹æ®é€Ÿåº¦å¯ä»¥é€‰æ‹©ç½‘é¡µå„åœ°åŒºåœ°å€ã€‚</p>
<h3 id="ï¼ˆ2ï¼‰å®‰è£…fastcgiæ¨¡å—å’Œphp7-4æ”¯æŒæ¨¡å—"><a href="#ï¼ˆ2ï¼‰å®‰è£…fastcgiæ¨¡å—å’Œphp7-4æ”¯æŒæ¨¡å—" class="headerlink" title="ï¼ˆ2ï¼‰å®‰è£…fastcgiæ¨¡å—å’Œphp7.4æ”¯æŒæ¨¡å—:"></a>ï¼ˆ2ï¼‰å®‰è£…<code>fastcgiæ¨¡å—</code>å’Œ<code>php7.4æ”¯æŒæ¨¡å—</code>:</h3><h4 id="1ã€‹å®‰è£…æ¨¡å—åŠæ·»åŠ æ¨¡å—æ”¯æŒå‘½ä»¤ï¼š"><a href="#1ã€‹å®‰è£…æ¨¡å—åŠæ·»åŠ æ¨¡å—æ”¯æŒå‘½ä»¤ï¼š" class="headerlink" title="1ã€‹å®‰è£…æ¨¡å—åŠæ·»åŠ æ¨¡å—æ”¯æŒå‘½ä»¤ï¼š"></a>1ã€‹å®‰è£…æ¨¡å—åŠæ·»åŠ æ¨¡å—æ”¯æŒå‘½ä»¤ï¼š</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install libapache2-mod-fastcgi php7.4-fpm    <span class="comment">#å®‰è£…æ¨¡å—</span></span><br><span class="line">sudo a2enmod actions    <span class="comment">#å¯ç”¨æ¨¡å—æ“ä½œ</span></span><br><span class="line">sudo vim /etc/apache2/conf-available/php7.4-fpm.conf    <span class="comment">#æ·»åŠ æ”¯æŒ</span></span><br></pre></td></tr></table></figure>
<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&lt;IfModule</span> <span class="string">mod_fastcgi.c&gt;</span></span><br><span class="line">   <span class="string">AddHandler</span> <span class="string">php7.4-fcgi</span> <span class="string">.php</span></span><br><span class="line">   <span class="string">Action</span> <span class="string">php7.4-fcgi</span> <span class="string">/php7.4-fcgi</span></span><br><span class="line">   <span class="string">Alias</span> <span class="string">/php7.4-fcgi</span> <span class="string">/usr/lib/cgi-bin/php7.4-fcgi</span></span><br><span class="line">   <span class="string">FastCgiExternalServer</span> <span class="string">/usr/lib/cgi-bin/php7.4-fcgi</span> <span class="string">-socket</span> <span class="string">/var/run/php/php7.4-fpm.sock</span> <span class="string">-pass-header</span> <span class="string">Authorization</span></span><br><span class="line"><span class="string">&lt;/IfModule&gt;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="2ã€‹æ£€æŸ¥ç”¨æˆ·ç»„"><a href="#2ã€‹æ£€æŸ¥ç”¨æˆ·ç»„" class="headerlink" title="2ã€‹æ£€æŸ¥ç”¨æˆ·ç»„"></a>2ã€‹æ£€æŸ¥ç”¨æˆ·ç»„</h4><p>æŸ¥çœ‹<code>/etc/php/7.4/fpm/pool.d/www.conf</code> æ–‡ä»¶ä¸­ç”¨æˆ·å’Œç”¨æˆ·ç»„æ˜¯å¦ä¸º<code>www-data</code>ã€‚<br>ä¸æ˜¯å°±æ”¹ä¸ºè¯¥ç”¨æˆ·åå’Œç”¨æˆ·ç»„ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æƒé™é—®é¢˜ã€‚</p>
<h2 id="ï¼ˆå››ï¼‰éªŒè¯é…ç½®"><a href="#ï¼ˆå››ï¼‰éªŒè¯é…ç½®" class="headerlink" title="ï¼ˆå››ï¼‰éªŒè¯é…ç½®:"></a>ï¼ˆå››ï¼‰éªŒè¯é…ç½®:</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apache2ctl configtest</span><br><span class="line">Syntax OK</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆäº”ï¼‰é‡å¯apacheæœåŠ¡å™¨"><a href="#ï¼ˆäº”ï¼‰é‡å¯apacheæœåŠ¡å™¨" class="headerlink" title="ï¼ˆäº”ï¼‰é‡å¯apacheæœåŠ¡å™¨"></a>ï¼ˆäº”ï¼‰é‡å¯<code>apache</code>æœåŠ¡å™¨</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service apache2 restart</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">sudo systemctl restart apache2</span><br></pre></td></tr></table></figure>
<h3 id="å¯èƒ½çš„é—®é¢˜ï¼š"><a href="#å¯èƒ½çš„é—®é¢˜ï¼š" class="headerlink" title="å¯èƒ½çš„é—®é¢˜ï¼š"></a>å¯èƒ½çš„é—®é¢˜ï¼š</h3><p><code>403 Forbiden</code> æˆ–è€… <code>You don&#39;t have permission to access / on this server</code><br>ä¿®æ”¹ä½ çš„è·¯å¾„ç›®å½•æƒé™ä¸ºå¯è¯»å†™<br>ï¼ˆ1ï¼‰<code>chown -R www-data:www-data  ç½‘ç«™ç›®å½•å</code><br>ï¼ˆ2ï¼‰ä¿®æ”¹<code>apache2.conf</code>é…ç½®æ–‡ä»¶ï¼›å°† <code>&lt;Directory /&gt;</code>ä¸­çš„â€<code>Require all denied</code>â€œä¿®æ”¹æˆâ€<code>Require all granted</code>â€œï¼›<br>æœ€åé‡å¯<code>apache2</code><br>å¸¸ç”¨å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">chown</span> www-data:www-data ~/www/html/php-web/ -R <span class="comment">#ä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•æ‰€æœ‰æƒé™æ”¹ä¸ºApacheè¿›ç¨‹ç”¨æˆ·</span></span><br><span class="line">sudo apache2ctl configtest <span class="comment">#æµ‹è¯•Apache2é…ç½®</span></span><br><span class="line">sudo a2ensite wordpress.conf <span class="comment">#å¯ç”¨é…ç½®</span></span><br><span class="line">sudo a2dissite wordpress.conf <span class="comment">#å–æ¶ˆé…ç½®</span></span><br><span class="line">a2enmod rewrite  <span class="comment">#å¯ç”¨ä¼ªé™æ€é‡å†™urlåŠŸèƒ½</span></span><br></pre></td></tr></table></figure><br>[å…³äºä¸ºé™æ€å¯èƒ½å‡ºç°æ— åæ˜ æˆ–è¯»å–<code>.htaccess</code>çš„é—®é¢˜]<br><code>sudo vim /etc/apache2/apache2.conf</code><br>å°†å…¶ä¸­çš„ï¼š<br><code>AllowOverride None</code><br>ä¿®æ”¹ä¸ºï¼š<br><code>AllowOverride All</code><br>ä¸Šé¢çš„ <code>/etc/apache2/sites-enabled/000-default</code> å®åˆ™ä¸º <code>/etc/apache2/sites-available/default</code> çš„è¿æ¥ã€‚<br>è€Œ <code>AllowwOverride None</code> åˆ™ä¼šå®Œå…¨å¿½ç•¥ <code>.htaccess</code> æ–‡ä»¶ï¼Œè‡ªç„¶å…¶ä¸­æ‰€å®šä¹‰çš„ <code>rewrite</code> è§„åˆ™ä¹Ÿå°±ä¸èƒ½ç”Ÿæ•ˆäº†ã€‚  </p>
<p>å…¶ä»–å†…å®¹å¯å‚è€ƒï¼š<br><a href="https://www.linode.com/docs/web-servers/apache/install-php-fpm-and-apache-on-debian-8/">Install PHP-FPM and Apache on Debian 8</a><br><a href="https://blog.csdn.net/z_qifa/article/details/74202771">debianä¸‹ä¸ºapacheå¯ç”¨rewriteæ¨¡å—</a></p>
<h1 id="äºŒã€å®‰è£…nginxå®˜ç½‘ç¨³å®šç‰ˆ-nginx1-16-1-å¹¶é…ç½®å’Œapache2å…±å­˜"><a href="#äºŒã€å®‰è£…nginxå®˜ç½‘ç¨³å®šç‰ˆ-nginx1-16-1-å¹¶é…ç½®å’Œapache2å…±å­˜" class="headerlink" title="äºŒã€å®‰è£…nginxå®˜ç½‘ç¨³å®šç‰ˆ[nginx1.16.1]å¹¶é…ç½®å’Œapache2å…±å­˜"></a>äºŒã€å®‰è£…<code>nginxå®˜ç½‘ç¨³å®šç‰ˆ[nginx1.16.1]</code>å¹¶é…ç½®å’Œ<code>apache2</code>å…±å­˜</h1><h2 id="ï¼ˆä¸€ï¼‰æ›´æ–°æºå¹¶å®‰è£…nginx"><a href="#ï¼ˆä¸€ï¼‰æ›´æ–°æºå¹¶å®‰è£…nginx" class="headerlink" title="ï¼ˆä¸€ï¼‰æ›´æ–°æºå¹¶å®‰è£…nginx"></a>ï¼ˆä¸€ï¼‰æ›´æ–°æºå¹¶å®‰è£…<code>nginx</code></h2><h3 id="å‘½ä»¤ï¼š"><a href="#å‘½ä»¤ï¼š" class="headerlink" title="å‘½ä»¤ï¼š"></a>å‘½ä»¤ï¼š</h3><p><code>sudo apt install curl gnupg2 ca-certificates lsb-release   #å®‰è£…å¿…è¦çš„æ”¯æŒåŒ…</code><br>æ‰“å¼€å®‰è£…æºåˆ—è¡¨:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><br>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><code>deb http://nginx.org/packages/debian/ buster nginx #å®‰è£…ç¨³å®šç‰ˆæœ¬</code><br>æˆ–è€…æœ‰å®‰è£…ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;deb http://nginx.org/packages/debian `lsb_release -cs` nginx&quot;</span> \ | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nginx.list</span><br><span class="line">```  </span><br><span class="line">ä¸Šè¿°å‘½ä»¤å°†ç›´æ¥åœ¨`/etc/apt/sources.list.d`ä¸‹æ–°å»º`nginx`å®‰è£…æº</span><br><span class="line">```bash</span><br><span class="line">sudo curl -fsSL https://nginx.org/keys/nginx_signing.key | sudo apt-key add -   <span class="comment">#æ·»åŠ nginxçš„keyåˆ°ç³»ç»Ÿ</span></span><br><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure></p>
<h3 id="å› 80ç«¯å£è¢«å…ˆå®‰è£…çš„apache2å ç”¨ï¼Œå®‰è£…å®Œå¯åŠ¨ä¼šæç¤ºé”™è¯¯ï¼Œ"><a href="#å› 80ç«¯å£è¢«å…ˆå®‰è£…çš„apache2å ç”¨ï¼Œå®‰è£…å®Œå¯åŠ¨ä¼šæç¤ºé”™è¯¯ï¼Œ" class="headerlink" title="å› 80ç«¯å£è¢«å…ˆå®‰è£…çš„apache2å ç”¨ï¼Œå®‰è£…å®Œå¯åŠ¨ä¼šæç¤ºé”™è¯¯ï¼Œ"></a>å› <code>80</code>ç«¯å£è¢«å…ˆå®‰è£…çš„<code>apache2</code>å ç”¨ï¼Œå®‰è£…å®Œå¯åŠ¨ä¼šæç¤ºé”™è¯¯ï¼Œ</h3><p>ä¿®æ”¹<code>/etc/nginx/nginx/conf.d/default.conf</code>çš„é»˜è®¤ç«¯å£<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/nginx/conf.d/default.conf</span><br></pre></td></tr></table></figure><br>ä¿®æ”¹ï¼š<code>listen 80 default_server;</code>ä¸ºï¼š<code>listen 8090 default_server;</code></p>
<h3 id="ä¿®æ”¹nginxç›®å½•ä¸‹nginx-conf"><a href="#ä¿®æ”¹nginxç›®å½•ä¸‹nginx-conf" class="headerlink" title="ä¿®æ”¹nginxç›®å½•ä¸‹nginx.conf"></a>ä¿®æ”¹<code>nginx</code>ç›®å½•ä¸‹<code>nginx.conf</code></h3><p>ç¬¬äºŒè¡Œ<br><code>user  nginx;</code>æ”¹ä¸ºï¼š<br><code>user  www-data;</code><br>å› ä¸ºå‰é¢<code>apache2</code>çš„è®¾ç½®ä¸­<code>php7.4-fpm</code>çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ä¸º<code>www-data</code>ã€‚<br>æ–‡ä»¶ä½äºï¼š<code>/etc/php/7.4/fpm/pool.d/www.conf</code>ä»¶ä¸­ç”¨æˆ·å’Œç”¨æˆ·ç»„ä¸º<code>www-data</code>ã€‚</p>
<h2 id="ï¼ˆäºŒï¼‰æ·»åŠ ç½‘ç«™é…ç½®ï¼š"><a href="#ï¼ˆäºŒï¼‰æ·»åŠ ç½‘ç«™é…ç½®ï¼š" class="headerlink" title="ï¼ˆäºŒï¼‰æ·»åŠ ç½‘ç«™é…ç½®ï¼š"></a>ï¼ˆäºŒï¼‰æ·»åŠ ç½‘ç«™é…ç½®ï¼š</h2><p>æ‹·è´ä¸€ä»½é…ç½®åˆ°<code>conf.d</code>æ–‡ä»¶å¤¹ï¼š<br>å‘½ä»¤:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/nginx/nginx.conf /etc/nginx/conf.d/nginxsite1.conf</span><br></pre></td></tr></table></figure><br>ä¿®æ”¹<code>nginxsite1.conf</code>çš„é…ç½®ï¼š<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/nginx/conf.d/nginxsite1.conf</span><br></pre></td></tr></table></figure><br>åˆ é™¤å…¨éƒ¨å†…å®¹ï¼Œæ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       8091;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    #charset koi8-r;</span><br><span class="line">    #access_log  /var/log/nginx/host.access.log  main;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root   ~/www/html/nginx-web;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">    #error_page  404              /404.html;</span><br><span class="line">    # redirect server error pages to the static page /50x.html</span><br><span class="line">    #</span><br><span class="line">    error_page   500 502 503 504  /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root   /usr/share/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">    #</span><br><span class="line">    #location ~ \.php$ &#123;</span><br><span class="line">    #    proxy_pass   http://127.0.0.1;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">    #</span><br><span class="line">    location ~ \.php$ &#123;</span><br><span class="line">        root           ~/www/html/nginx-web/;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    #   # With php-fpm (or other unix sockets):</span><br><span class="line">        fastcgi_pass unix:/run/php/php7.4-fpm.sock;  </span><br><span class="line">    #   # With php-cgi (or other tcp sockets):</span><br><span class="line">    #    fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # deny access to .htaccess files, if Apache&#x27;s document root</span><br><span class="line">    # concurs with nginx&#x27;s one</span><br><span class="line">    #</span><br><span class="line">    #location ~ /\.ht &#123;</span><br><span class="line">    #    deny  all;</span><br><span class="line">    #&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆä¸‰ï¼‰é‡å¯æœåŠ¡å™¨"><a href="#ï¼ˆä¸‰ï¼‰é‡å¯æœåŠ¡å™¨" class="headerlink" title="ï¼ˆä¸‰ï¼‰é‡å¯æœåŠ¡å™¨"></a>ï¼ˆä¸‰ï¼‰é‡å¯æœåŠ¡å™¨</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo nginx -t <span class="comment">#æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">sudosystemctl start/restart nginx  <span class="comment">#å¯åŠ¨/é‡å¯æœåŠ¡å™¨</span></span><br><span class="line">sudosystemctl stop/status nginx  <span class="comment">#åœæ­¢æœåŠ¡å™¨/æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€</span></span><br></pre></td></tr></table></figure></p>
<h3 id="æµ‹è¯•Nginxå®‰è£…ç»“æœ"><a href="#æµ‹è¯•Nginxå®‰è£…ç»“æœ" class="headerlink" title="æµ‹è¯•Nginxå®‰è£…ç»“æœ"></a>æµ‹è¯•<code>Nginx</code>å®‰è£…ç»“æœ</h3><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ ï¼š<code>http://localhost:8090/index.nginx-debian.html</code><br>å…¶ä¸­<code>index.nginx-debian.html</code>ä¸º<code>nginx</code>åœ¨<code>debian</code>çš„é»˜è®¤é¦–é¡µ<br>å‡ºç°ï¼šâ€œ<code>Welcome to nginx!</code>â€åˆ™å®‰è£…æˆåŠŸã€‚</p>
<h3 id="æµ‹è¯•PHPç½‘é¡µ"><a href="#æµ‹è¯•PHPç½‘é¡µ" class="headerlink" title="æµ‹è¯•PHPç½‘é¡µ"></a>æµ‹è¯•<code>PHP</code>ç½‘é¡µ</h3><p>æ–°å»º<code>php</code>ç½‘é¡µï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">phpinfo</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><br>ä¿å­˜å¹¶å‘½åä¸ºï¼š<code>info.php</code><br>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ ï¼š<code>http://localhost:8091/info.php</code><br>å‡ºç°<code>php</code>ä¿¡æ¯é¡µé¢ï¼Œåˆ™å®‰è£…å®Œæˆã€‚</p>
<h3 id="nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ"><a href="#nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ" class="headerlink" title="nginxåŠ å…¥åˆ°systemctlæœåŠ¡è¿è¡Œ"></a><code>nginx</code>åŠ å…¥åˆ°<code>systemctl</code>æœåŠ¡è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vim /usr/lib/systemd/system/nginx.service</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nginx</span><br><span class="line">After=network.target</span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/etc/nginx/logs/nginx.pid</span><br><span class="line">ExecStart=/etc/nginx/sbin/nginx</span><br><span class="line">ExecReload=/etc/nginx/sbin/nginx -s reload</span><br><span class="line">ExecStop=/etc/nginx/sbin/nginx -s stop</span><br><span class="line">PrivateTmp=true</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><br>é‡æ–°åŠ è½½æœåŠ¡é…ç½®ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload  <span class="comment"># é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo systemctl start/stop/reload nginx <span class="comment">#å¼€å¯ã€åœæ­¢ã€é‡æ–°åŠ è½½nginx</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å¯èƒ½çš„ä¸€äº›æƒ…å†µ"><a href="#å¯èƒ½çš„ä¸€äº›æƒ…å†µ" class="headerlink" title="å¯èƒ½çš„ä¸€äº›æƒ…å†µ"></a>å¯èƒ½çš„ä¸€äº›æƒ…å†µ</h3><p>1ã€è‹¥å› ä¸ºå› ä¸ºå®‰è£…æºé€ æˆç‰ˆæœ¬å‡çº§é”™è¯¯ï¼š<br>å¦‚å‡ºç°ï¼š<code>dpkg-deb: å­è¿›ç¨‹ ç²˜è´´ è¢«ä¿¡å·(æ–­å¼€çš„ç®¡é“) ç»ˆæ­¢äº† å¯¼è‡´æ— æ³•ç»§ç»­å®‰è£…</code>,è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨<code>dpkg</code>å¼ºåˆ¶è¦†ç›–è§£å†³ã€‚<br>æ‰¾åˆ°å®‰è£…åŒ…ä½ç½® <code>cd /var/cache/apt/archives</code> ä¹‹åå¼ºåˆ¶å®‰è£… <code>dpkg -i --force-overwrite xxx.deb</code>å³å¯ã€‚<br>2ã€è‹¥å‡ºç°æ‰“å¼€<code>php</code>é¡µé¢ç©ºç™½ï¼Œè¯·æ£€æŸ¥é…ç½®(<code>nginxsite1.conf</code>)ä¸­ç½‘ç«™è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚<br>3ã€ä¸€äº›å‘½ä»¤[åœ¨<code>nginx1.16.1</code>ä¸­æœªç”¨åˆ°]<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/nginxsite1 /etc/nginx/sites-enabled/nginxsite1  <span class="comment">#å»ºç«‹è½¯é“¾æ¥</span></span><br><span class="line">sudo dpkg --get-selections | grep nginx   // æŸ¥çœ‹å‰©ä½™çš„ä¸nginxç›¸å…³çš„è½¯ä»¶åŒ…</span><br><span class="line">sudo aptã€€--purge remove nginx           // å¸è½½nginx(ä¸ä¿ç•™é…ç½®æ–‡ä»¶)</span><br><span class="line">sudo apt autoremove                     // å¸è½½è‡ªåŠ¨å®‰è£…çš„è½¯ä»¶åŒ…</span><br><span class="line">sudo apt install net-tools               //å®‰è£…ç½‘ç»œé…ç½®å·¥å…·</span><br><span class="line">sudo netstat -nlp |grep ç«¯å£å·           //æŸ¥è¯¢ç«¯å£å ç”¨æƒ…å†µ</span><br></pre></td></tr></table></figure></p>
<p>æ›´å¤šå†…å®¹å‚è€ƒï¼š<a href="http://nginx.org/en/linux_packages.html#Debian">Installation instructions for debian</a></p>
<h1 id="ä¸‰ã€å®‰è£…PHP"><a href="#ä¸‰ã€å®‰è£…PHP" class="headerlink" title="ä¸‰ã€å®‰è£…PHP"></a>ä¸‰ã€å®‰è£…<code>PHP</code></h1><p><strong>å®‰è£…é¦–è¦æ¡ä»¶</strong><br>ä½¿ç”¨<code>shell</code>è®¿é—®æƒé™ç™»å½•<code>Debian10</code>ç³»ç»Ÿï¼Œå¯¹äºè¿œç¨‹ç³»ç»Ÿï¼Œä½¿ç”¨<code>SSH</code>è¿æ¥ã€‚<code>Windows</code>ç”¨æˆ·å¯ä»¥ä½¿ç”¨<code>Putty</code>æˆ–å…¶ä»–æ›¿ä»£åº”ç”¨ç¨‹åºè¿›è¡Œ<code>SSH</code>è¿æ¥ã€‚</p>
<h2 id="ï¼ˆä¸€ï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚"><a href="#ï¼ˆä¸€ï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚" class="headerlink" title="ï¼ˆä¸€ï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚"></a>ï¼ˆä¸€ï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br></pre></td></tr></table></figure>
<h2 id="ï¼ˆäºŒï¼‰åœ¨Debian10ä¸Šè®¾ç½®PPA"><a href="#ï¼ˆäºŒï¼‰åœ¨Debian10ä¸Šè®¾ç½®PPA" class="headerlink" title="ï¼ˆäºŒï¼‰åœ¨Debian10ä¸Šè®¾ç½®PPA"></a>ï¼ˆäºŒï¼‰åœ¨<code>Debian10</code>ä¸Šè®¾ç½®<code>PPA</code></h2><p>åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé¦–å…ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…ã€‚ç„¶åå¯¼å…¥åŒ…ç­¾åå¯†é’¥ã€‚ä¹‹åï¼Œä¸ºç³»ç»Ÿä¸Šçš„<code>PHP</code>åŒ…é…ç½®<code>PPA</code>ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt -y install software-properties-common apt-transport-https lsb-release ca-certificates</span><br><span class="line">wget -q https://packages.sury.org/php/apt.gpg -O- | sudo apt-key add -</span><br><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;deb https://packages.sury.org/php/ buster main&quot;</span> | <span class="built_in">tee</span> /etc/apt/sources.list.d/php.list</span><br><span class="line">sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://mirror.xtom.com.hk/sury/php/apt.gpg</span><br><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;deb https://mirror.xtom.com.hk/sury/php/ buster main&quot;</span> | <span class="built_in">tee</span> /etc/apt/sources.list.d/php.list</span><br></pre></td></tr></table></figure><br>è‹¥æç¤º<code>tee: /etc/apt/sources.list.d/php.list: æƒé™ä¸å¤Ÿ</code><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb https://packages.sury.org/php/ buster main`</span><br><span class="line">deb https://mirror.xtom.com.hk/sury/php/ buster main</span><br></pre></td></tr></table></figure><br>å¯ç”¨å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list.d/php.list</span><br></pre></td></tr></table></figure><br>æ‰‹åŠ¨åˆ›å»ºæ·»åŠ <code>phpå®‰è£…æº</code>ï¼šâ€œ<code>deb https://packages.sury.org/php/ buster main</code>â€<br><code>Debian10</code>ç³»ç»Ÿå·²ç»å‡†å¤‡å¥½å®‰è£…<code>PHP</code>äº†ã€‚</p>
<h2 id="ï¼ˆä¸‰ï¼‰åœ¨Debian10ä¸Šå®‰è£…ç¨³å®šç‰ˆPHP7-4"><a href="#ï¼ˆä¸‰ï¼‰åœ¨Debian10ä¸Šå®‰è£…ç¨³å®šç‰ˆPHP7-4" class="headerlink" title="ï¼ˆä¸‰ï¼‰åœ¨Debian10ä¸Šå®‰è£…ç¨³å®šç‰ˆPHP7.4"></a>ï¼ˆä¸‰ï¼‰åœ¨<code>Debian10</code>ä¸Šå®‰è£…ç¨³å®šç‰ˆ<code>PHP7.4</code></h2><p>è¿˜å¯ä»¥åœ¨ç³»ç»Ÿä¸Šå®‰è£…ç¨³å®šçš„<code>PHP</code>ç‰ˆæœ¬ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨<code>Debian10</code>å®‰è£…<code>php7.4</code>ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install php7.4</span><br></pre></td></tr></table></figure><br>åŒæ—¶å®‰è£…æ‰€éœ€çš„<code>PHP</code>æ¨¡å—ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install php7.4-cli php7.4-common php7.4-curl php7.4-gd php7.4-json php7.4-mbstring php7.4-mysql php7.4-xml</span><br></pre></td></tr></table></figure><br>å®‰è£…åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯å·²å®‰è£…å’Œè¿è¡Œçš„<code>PHP</code>ç‰ˆæœ¬<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">php -v</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆå››ï¼‰åˆ‡æ¢phpç‰ˆæœ¬ä¸ºé»˜è®¤ç”¨äºApacheå’Œå‘½ä»¤è¡Œï¼ˆå¯å¤šç‰ˆæœ¬PHPå…±å­˜ï¼‰"><a href="#ï¼ˆå››ï¼‰åˆ‡æ¢phpç‰ˆæœ¬ä¸ºé»˜è®¤ç”¨äºApacheå’Œå‘½ä»¤è¡Œï¼ˆå¯å¤šç‰ˆæœ¬PHPå…±å­˜ï¼‰" class="headerlink" title="ï¼ˆå››ï¼‰åˆ‡æ¢phpç‰ˆæœ¬ä¸ºé»˜è®¤ç”¨äºApacheå’Œå‘½ä»¤è¡Œï¼ˆå¯å¤šç‰ˆæœ¬PHPå…±å­˜ï¼‰"></a>ï¼ˆå››ï¼‰åˆ‡æ¢<code>php</code>ç‰ˆæœ¬ä¸ºé»˜è®¤ç”¨äº<code>Apache</code>å’Œå‘½ä»¤è¡Œï¼ˆå¯å¤šç‰ˆæœ¬<code>PHP</code>å…±å­˜ï¼‰</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo a2dismod php7.3</span><br><span class="line">sudo a2enmod php7.4        <span class="comment">##ä»¥ä¸Šä¸¤å‘½ä»¤ç”¨äºé…ç½®apacheçš„ä¸€ä¸ªæ¨¡å—,ç¦ç”¨/å¯ç”¨</span></span><br><span class="line">sudo update-alternatives --<span class="built_in">set</span> php /usr/bin/php7.4  <span class="comment">##è¯¥å‘½ä»¤ç”¨äºå¤„ç† Linux ç³»ç»Ÿä¸­è½¯ä»¶ç‰ˆæœ¬çš„åˆ‡æ¢</span></span><br></pre></td></tr></table></figure>
<p><strong><code>PHP</code>æœ€æ–°ç‰ˆ<code>PHP8.1.0</code>å·²ç»äº2021å¹´11æœˆ25æ—¥å‘å¸ƒï¼Œæºå®‰è£…å¯å‚ç…§å¦‚ä¸Šæ–¹æ³•ï¼Œæ³¨æ„å¯¹åº”ç‰ˆæœ¬å·ï¼Œå…¶ç¼–è¯‘å®‰è£…å¯å‚è€ƒï¼š</strong><br><a href="../../../../2021/11/28/Debian11ç¼–è¯‘å®‰è£…PHP8.1.0ç‰ˆ/">Debian11ç¼–è¯‘å®‰è£…PHP8.1.0ç‰ˆ</a></p>
<h2 id="ï¼ˆäº”ï¼‰å®‰è£…imagick"><a href="#ï¼ˆäº”ï¼‰å®‰è£…imagick" class="headerlink" title="ï¼ˆäº”ï¼‰å®‰è£…imagick"></a>ï¼ˆäº”ï¼‰å®‰è£…<code>imagick</code></h2><h3 id="1-ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤"><a href="#1-ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤" class="headerlink" title="1. ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤"></a>1. ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install imagemagick</span><br><span class="line">sudo apt install libmagickcore-dev libmagickwand-dev     <span class="comment">##å¤±æ•ˆsudo apt install imagemagick-devel </span></span><br><span class="line">sudo apt install pkg-config</span><br><span class="line">sudo apt install php-pear </span><br><span class="line">sudo pecl channel-update pecl.php.net  <span class="comment">#æ›´æ–°pecl</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…<code>php-pear</code>æ˜¯ä¸ºäº†ä½¿ç”¨<code>pecl</code> ä¸­çš„ <code>phpize</code><br><code>sudo apt install php7.4-dev</code></p>
<h3 id="2-å®‰è£…Cè¯­è¨€ç¼–è¯‘å™¨"><a href="#2-å®‰è£…Cè¯­è¨€ç¼–è¯‘å™¨" class="headerlink" title="2. å®‰è£…Cè¯­è¨€ç¼–è¯‘å™¨"></a>2. å®‰è£…<code>Cè¯­è¨€ç¼–è¯‘å™¨</code></h3><p><code>sudo apt install gcc</code><br>å¦‚æœè£…ä¸äº†gccå°±ç”¨è¿™ä¸ªå‘½ä»¤ï¼š<br><code>sudo apt install gcc gcc- c++ autoconf automake</code></p>
<h3 id="3-å®‰è£…imagick"><a href="#3-å®‰è£…imagick" class="headerlink" title="3. å®‰è£…imagick"></a>3. å®‰è£…<code>imagick</code></h3><p><code>sudo pecl install imagick</code></p>
<h3 id="4-åŠ è½½imagickåˆ°php"><a href="#4-åŠ è½½imagickåˆ°php" class="headerlink" title="4. åŠ è½½imagickåˆ°php"></a>4. åŠ è½½<code>imagick</code>åˆ°<code>php</code></h3><p>åœ¨<code>/etc/php/7.4/apache2/php.ini</code> åŠ ä¸Š<code>extension=imagick.so</code>  </p>
<h3 id="5-é‡å¯service-httpd-restart"><a href="#5-é‡å¯service-httpd-restart" class="headerlink" title="5. é‡å¯service httpd restart"></a>5. é‡å¯<code>service httpd restart</code></h3><h3 id="6-æŸ¥çœ‹å®‰è£…ç»“æœ"><a href="#6-æŸ¥çœ‹å®‰è£…ç»“æœ" class="headerlink" title="6. æŸ¥çœ‹å®‰è£…ç»“æœ"></a>6. æŸ¥çœ‹å®‰è£…ç»“æœ</h3><p>ä½¿ç”¨ <code>phpinfo()</code> æˆ–è¿è¡Œ <code>php -m | grep imagick</code> æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<p>å…¶ä»–æ“ä½œï¼š<br>åœæ­¢<code>PHP</code>ï¼š<code>sudo pkill php-fpm</code><br>æŸ¥çœ‹<code>9000</code>ç«¯å£ï¼š<code>netstat -lnt | grep 9000</code>  </p>
<p>å¯åŠ¨<code>PHP</code>ï¼šå¦‚æœä¿®æ”¹è¿‡é…ç½®æ–‡ä»¶ï¼Œä¸€å®šè¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶æ‰è¡Œ<br><code>/usr/sbin/php-fpm7.4 -c /etc/php/7.4/apache2/php.ini</code><br>æŸ¥çœ‹<code>9000</code>ç«¯å£ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">netstat -tunlp | grep 9000</span><br><span class="line">tcp        0      0 127.0.0.1:9000              0.0.0.0:*                   LISTEN</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://www.cnblogs.com/i6010/articles/10974575.html">linuxä¸‹ å®‰è£… ImageMagick åŠå…¶ php imagickæ‰©å±•</a><br>å…¶ä»–å®‰è£…æºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://www.dotdeb.org/dotdeb.gpg</span><br><span class="line">sudo apt-key add dotdeb.gpg</span><br></pre></td></tr></table></figure><br>æºï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb http://packages.dotdeb.org buster all</span><br><span class="line">deb-src http://packages.dotdeb.org buster all</span><br></pre></td></tr></table></figure></p>
<h1 id="å››ã€åœ¨Debian-10ä¸Šå®‰è£…MariaDB"><a href="#å››ã€åœ¨Debian-10ä¸Šå®‰è£…MariaDB" class="headerlink" title="å››ã€åœ¨Debian 10ä¸Šå®‰è£…MariaDB"></a>å››ã€åœ¨<code>Debian 10</code>ä¸Šå®‰è£…<code>MariaDB</code></h1><p><code>Apache Web</code>æœåŠ¡å™¨å¯åŠ¨å¹¶è¿è¡Œåï¼Œæ‚¨éœ€è¦å®‰è£…æ•°æ®åº“ç³»ç»Ÿæ‰èƒ½ä¿ç•™å’Œç®¡ç†æ‚¨ç½‘ç«™çš„æ•°æ®ã€‚</p>
<h2 id="ï¼ˆä¸€ï¼‰è¦å®‰è£…MariaDBï¼Œè¯·ä½¿ç”¨Debiançš„aptåŒ…ç®¡ç†å™¨ã€‚"><a href="#ï¼ˆä¸€ï¼‰è¦å®‰è£…MariaDBï¼Œè¯·ä½¿ç”¨Debiançš„aptåŒ…ç®¡ç†å™¨ã€‚" class="headerlink" title="ï¼ˆä¸€ï¼‰è¦å®‰è£…MariaDBï¼Œè¯·ä½¿ç”¨Debiançš„aptåŒ…ç®¡ç†å™¨ã€‚"></a>ï¼ˆä¸€ï¼‰è¦å®‰è£…<code>MariaDB</code>ï¼Œè¯·ä½¿ç”¨<code>Debian</code>çš„<code>apt</code>åŒ…ç®¡ç†å™¨ã€‚</h2><p><code>sudo apt install mariadb-server</code></p>
<h2 id="ï¼ˆäºŒï¼‰å®‰è£…MariaDBåï¼Œå»ºè®®è¿è¡Œä»¥ä¸‹å®‰å…¨è„šæœ¬ï¼Œ"><a href="#ï¼ˆäºŒï¼‰å®‰è£…MariaDBåï¼Œå»ºè®®è¿è¡Œä»¥ä¸‹å®‰å…¨è„šæœ¬ï¼Œ" class="headerlink" title="ï¼ˆäºŒï¼‰å®‰è£…MariaDBåï¼Œå»ºè®®è¿è¡Œä»¥ä¸‹å®‰å…¨è„šæœ¬ï¼Œ"></a>ï¼ˆäºŒï¼‰å®‰è£…<code>MariaDB</code>åï¼Œå»ºè®®è¿è¡Œä»¥ä¸‹å®‰å…¨è„šæœ¬ï¼Œ</h2><p>è¯¥è„šæœ¬å°†åˆ é™¤ä¸€äº›ä¸å®‰å…¨çš„é»˜è®¤è®¾ç½®å¹¶ç¦ç”¨å¯¹æ•°æ®åº“ç³»ç»Ÿçš„è®¿é—®ã€‚<br>å‘½ä»¤ï¼š<br><code>sudo mysql_secure_installation</code><br>ä¸Šè¿°å®‰å…¨è„šæœ¬å°†å¼•å¯¼æ‚¨å®Œæˆä»¥ä¸‹ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­å¯¹<code>MariaDB</code>è®¾ç½®è¿›è¡Œä¸€äº›æ›´æ”¹ã€‚<br>å‡é€‰æ‹©ï¼š<code>y</code><br>è‹¥æç¤ºï¼š<code>ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;</code><br>è¯·ç”¨ç®¡ç†å‘˜æƒé™é‡æ–°è¿è¡Œä¸Šè¿°å‘½ä»¤ã€‚</p>
<h2 id="ï¼ˆä¸‰ï¼‰å¦‚æœè¦åˆ›å»ºåä¸ºwpDBçš„æ•°æ®åº“å’Œç”¨æˆ·åå’Œå¯†ç å‡ä¸ºwpadminä¸”å…·æœ‰æ•°æ®åº“å®Œå…¨æƒé™çš„ç”¨æˆ·ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚"><a href="#ï¼ˆä¸‰ï¼‰å¦‚æœè¦åˆ›å»ºåä¸ºwpDBçš„æ•°æ®åº“å’Œç”¨æˆ·åå’Œå¯†ç å‡ä¸ºwpadminä¸”å…·æœ‰æ•°æ®åº“å®Œå…¨æƒé™çš„ç”¨æˆ·ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚" class="headerlink" title="ï¼ˆä¸‰ï¼‰å¦‚æœè¦åˆ›å»ºåä¸ºwpDBçš„æ•°æ®åº“å’Œç”¨æˆ·åå’Œå¯†ç å‡ä¸ºwpadminä¸”å…·æœ‰æ•°æ®åº“å®Œå…¨æƒé™çš„ç”¨æˆ·ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚"></a>ï¼ˆä¸‰ï¼‰å¦‚æœè¦åˆ›å»ºåä¸º<code>wpDB</code>çš„æ•°æ®åº“å’Œç”¨æˆ·åå’Œå¯†ç å‡ä¸º<code>wpadmin</code>ä¸”å…·æœ‰æ•°æ®åº“å®Œå…¨æƒé™çš„ç”¨æˆ·ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mysql -u root -pÃ—Ã—Ã—Ã—Ã—Ã—</span><br><span class="line">  MariaDB [(none)]&gt; CREATE DATABASE wpDB;</span><br><span class="line">  MariaDB [(none)]&gt; grant all on wpDB.* to <span class="string">&#x27;wpadmin&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified by <span class="string">&#x27;wpadmin&#x27;</span> with grant option;</span><br><span class="line">  MariaDB [(none)]&gt; FLUSH PRIVILEGES;</span><br><span class="line">  MariaDB [(none)]&gt; <span class="built_in">exit</span>;</span><br></pre></td></tr></table></figure><br>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ç”¨æˆ·å‡­æ®ç™»å½•<code>MariaDB</code>æ¥ç¡®è®¤æ–°ç”¨æˆ·æ˜¯å¦å…·æœ‰æ•°æ®åº“çš„å®Œå…¨æƒé™ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -uwpadmin -pwpadmin</span><br><span class="line">  MariaDB [(none)]&gt; SHOW DATABASES;</span><br></pre></td></tr></table></figure></p>
<h1 id="äº”ã€åœ¨windowsä¸‹å®‰è£…madiadbæ•°æ®åº“zipç‰ˆæœ¬"><a href="#äº”ã€åœ¨windowsä¸‹å®‰è£…madiadbæ•°æ®åº“zipç‰ˆæœ¬" class="headerlink" title="äº”ã€åœ¨windowsä¸‹å®‰è£…madiadbæ•°æ®åº“zipç‰ˆæœ¬"></a>äº”ã€åœ¨<code>windows</code>ä¸‹å®‰è£…<code>madiadb</code>æ•°æ®åº“<code>zip</code>ç‰ˆæœ¬</h1><h2 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1. ä¸‹è½½"></a>1. ä¸‹è½½</h2><p><a href="https://mariadb.org/download/">mariadbä¸‹è½½åœ°å€ï¼š</a> é€‰æ‹©<code>windows</code>å’Œ<code>zip</code></p>
<h2 id="2-è§£å‹"><a href="#2-è§£å‹" class="headerlink" title="2. è§£å‹"></a>2. è§£å‹</h2><p>æ¯”å¦‚ï¼šè§£å‹åˆ°<code>D:\mariadb</code>ã€‚</p>
<h2 id="3-æœåŠ¡å®‰è£…"><a href="#3-æœåŠ¡å®‰è£…" class="headerlink" title="3. æœåŠ¡å®‰è£…"></a>3. æœåŠ¡å®‰è£…</h2><p>éœ€è¦åœ¨<code>windows</code>ä¸­çš„å®‰è£…ä¸€ä¸ªåå­—ä¸º<code>MariaDB</code>çš„æœåŠ¡ï¼š<br>åœ¨<code>dç›˜</code>ä¸‹æ–°å»ºä¸€ä¸ª<code>data</code>çš„æ–‡ä»¶å¤¹ã€‚<br>ç”¨æˆ·ç®¡ç†å‘˜èº«ä»½å¯åŠ¨<code>powershell</code>ã€‚<br>é”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br><code>D:\mariadb\bin&gt; .\mysql_install_db.exe --datadir=D:\data --service=MariaDB --password=123</code></p>
<p>ã€<code>tip: --datadir= å¦‚æœæŒ‡å®šä¸åŒçš„è·¯å¾„ï¼Œé…åˆmy.iniæ–‡ä»¶è®¾ç½®ä¸åŒçš„ç«¯å£ï¼Œå³å¯ä»¥å®Œæˆå¤šä¸ªMariaDBçš„æœåŠ¡å®ä¾‹ã€‚</code>ã€‘<br>æœåŠ¡å¯åŠ¨ï¼š<br>æ–¹æ³•ä¸€ï¼š<code>win+R</code>â€”&gt;è¿è¡Œ<code>services.msc</code>ï¼Œç„¶ååœ¨æœåŠ¡åˆ—è¡¨ä¸­æ‰¾åˆ°<code>MariaDB</code>ï¼Œç‚¹å‡»è¿è¡Œã€‚<br>æ–¹æ³•äºŒï¼šåœ¨ã€Šç®¡ç†å‘˜çš„<code>POWERSHELL</code>ã€‹ä¸­ï¼Œè¿è¡Œ<code>net start MariaDB</code><br>å®¢æˆ·ç«¯æ¥å…¥ï¼š<br> <code>.\mariadb.exe -uroot -P3306 -p</code></p>
<h2 id="4-æ³¨æ„ï¼šå¯ä»¥ä¿®æ”¹ç«¯å£çš„æ–¹å¼ï¼š"><a href="#4-æ³¨æ„ï¼šå¯ä»¥ä¿®æ”¹ç«¯å£çš„æ–¹å¼ï¼š" class="headerlink" title="4. æ³¨æ„ï¼šå¯ä»¥ä¿®æ”¹ç«¯å£çš„æ–¹å¼ï¼š"></a>4. æ³¨æ„ï¼šå¯ä»¥ä¿®æ”¹ç«¯å£çš„æ–¹å¼ï¼š</h2><p>åœ¨<code>D:\data\my.ini</code>æ–‡ä»¶ä¸­,åŠ å…¥<code>port=xxxx</code><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">datadir=D:/data</span><br><span class="line">port=3306</span><br><span class="line">[client]</span><br><span class="line">plugin-dir=D:/mariadb/lib/plugin</span><br></pre></td></tr></table></figure><br>ä½œè€…ï¼šJohnYuCN<br>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/68aac1d2f304|">win10ä¸­MariaDBçš„zipå‹ç¼©ç‰ˆçš„å®‰è£…å’Œä½¿ç”¨ï¼ˆå¤šæœåŠ¡å®ä¾‹ï¼‰</a></p>
<h1 id="å…­ã€å®‰è£…wordpress"><a href="#å…­ã€å®‰è£…wordpress" class="headerlink" title="å…­ã€å®‰è£…wordpress"></a>å…­ã€å®‰è£…<code>wordpress</code></h1><p>[éœ€ç§‘å­¦å·¥å…·ï¼Œå¦åˆ™æ‰“å¼€ç½‘é¡µå¯èƒ½ä¼šå‡ºç°ï¼š<code>429 Too Many Requests</code>é”™è¯¯]</p>
<h2 id="ï¼ˆä¸€ï¼‰ä¸‹è½½"><a href="#ï¼ˆä¸€ï¼‰ä¸‹è½½" class="headerlink" title="ï¼ˆä¸€ï¼‰ä¸‹è½½"></a>ï¼ˆä¸€ï¼‰ä¸‹è½½</h2><p><a href="https://wordpress.org/latest.tar.gz">ä¸‹è½½åœ°å€ï¼š</a><br>ä¸‹è½½åè§£å‹åˆ°ç½‘ç«™ç›®å½•</p>
<h2 id="ï¼ˆäºŒï¼‰å®‰è£…"><a href="#ï¼ˆäºŒï¼‰å®‰è£…" class="headerlink" title="ï¼ˆäºŒï¼‰å®‰è£…"></a>ï¼ˆäºŒï¼‰å®‰è£…</h2><p>åœ¨æ•°æ®åº“ä¸­å»ºç«‹ç½‘ç«™æ•°æ®åº“ï¼Œåé¢ä¾ç…§å®‰è£…æŒ‡å¼•å¡«å†™å°±å¯ä»¥äº†ã€‚<br>æ³¨æ„äº‹é¡¹ï¼š<br>1ã€è‹¥å®‰è£…ä¸ºè‹±æ–‡ç‰ˆåè¦åˆ‡æ¢ä¸­æ–‡ç‰ˆéœ€è¦åœ¨ï¼š<code>wp-config.php</code>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br> åœ¨è®¾ç½®ä¸­åˆ‡æ¢ä¸ºä¸­æ–‡<br><code>define(&#39;WPLANG&#39;,&#39;zh_CN&#39;);</code><br>å–æ¶ˆåˆ‡æ¢ä¸ºä¸­æ–‡åå‡çº§åæœ¬åœ°ç½‘ç«™éœ€è¦å¡«å†™FTPä¿¡æ¯æç¤º<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">define(&quot;FS_METHOD&quot;,&quot;direct&quot;);</span><br><span class="line">define(&quot;FS_CHMOD_DIR&quot;, 0777);</span><br><span class="line">define(&quot;FS_CHMOD_FILE&quot;, 0777);</span><br></pre></td></tr></table></figure><br>2ã€å‡çº§ä¸­è‹¥å‡ºç°æ— æ³•å†™å…¥ç›®å½•æ–‡ä»¶ï¼Œåˆ™éœ€è¦å¯¹ç½‘ç«™ç›®å½•æˆæƒ[<code>apache2</code>è¿è¡Œçš„<code>www-data</code>ç”¨æˆ·æƒé™]ï¼š<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">chown</span> -R www-data:www-data  ç½‘ç«™ç›®å½•å</span><br></pre></td></tr></table></figure><br>[æˆäºˆè¯¥æƒé™ä¹Ÿèƒ½è§£å†³éœ€è¦FTPä¿¡æ¯çš„æç¤º]<br>3ã€è§£å†³æ›´æ–°æç¤ºå¦ä¸€æ›´æ–°å­˜åœ¨çš„é—®é¢˜<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mysql -u wpadmin -pwpadmin</span><br><span class="line">MariaDB [(none)]&gt; show databases</span><br><span class="line">MariaDB [(none)]&gt; use wpDB;</span><br><span class="line">MariaDB [wpDB]&gt; delete from wp_options <span class="built_in">where</span> option_name=<span class="string">&#x27;core_updater.lock&#x27;</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="ï¼ˆä¸‰ï¼‰è‹¥æ›´æ¢ç«¯å£éœ€æ›´æ”¹æ•°æ®åº“ä¸­wp-optionsä¸­çš„ç«¯å£é…ç½®"><a href="#ï¼ˆä¸‰ï¼‰è‹¥æ›´æ¢ç«¯å£éœ€æ›´æ”¹æ•°æ®åº“ä¸­wp-optionsä¸­çš„ç«¯å£é…ç½®" class="headerlink" title="ï¼ˆä¸‰ï¼‰è‹¥æ›´æ¢ç«¯å£éœ€æ›´æ”¹æ•°æ®åº“ä¸­wp_optionsä¸­çš„ç«¯å£é…ç½®"></a>ï¼ˆä¸‰ï¼‰è‹¥æ›´æ¢ç«¯å£éœ€æ›´æ”¹æ•°æ®åº“ä¸­<code>wp_options</code>ä¸­çš„ç«¯å£é…ç½®</h2><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MariaDB [wpDBtest]&gt; update wp_options <span class="built_in">set</span> option_value= <span class="string">&quot;http://localhost:8090/wordpress&quot;</span> <span class="built_in">where</span> option_name <span class="keyword">in</span>(<span class="string">&quot;siteurl&quot;</span>,<span class="string">&quot;home&quot;</span>);</span><br><span class="line">MariaDB [wpDBtest]&gt; select * from wp_options <span class="built_in">where</span> option_name <span class="keyword">in</span>(<span class="string">&quot;siteurl&quot;</span>,<span class="string">&quot;home&quot;</span>);  //æŸ¥çœ‹ä¿®æ”¹æƒ…å†µ</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Nginx</category>
        <category>MariaDB</category>
        <category>Apache2</category>
        <category>Wordpress</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Nginx</tag>
        <tag>MariaDB</tag>
        <tag>Debian10</tag>
        <tag>Apache2</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Windows10ä¸Šä¸ºpowershellé…ç½®oh-my-posh</title>
    <url>/2022/03/05/%E5%9C%A8Windows10%E4%B8%8A%E4%B8%BApowershell%E9%85%8D%E7%BD%AEoh-my-posh/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS C:\Windows\system32&gt; Install-Module oh-my-posh -Scope CurrentUser   </span><br><span class="line">éœ€è¦ä½¿ç”¨ NuGet æä¾›ç¨‹åºæ¥ç»§ç»­æ“ä½œ</span><br><span class="line">PowerShellGet éœ€è¦ä½¿ç”¨ NuGet æä¾›ç¨‹åºâ€œ2.8.5.201â€æˆ–æ›´é«˜ç‰ˆæœ¬æ¥ä¸åŸºäº NuGet</span><br><span class="line">çš„å­˜å‚¨åº“äº¤äº’ã€‚å¿…é¡»åœ¨â€œC:\Program</span><br><span class="line">Files\PackageManagement\ProviderAssembliesâ€æˆ–â€œC:\Users\xxxxx\AppData\Local\PackageManagement\ProviderAssemb</span><br><span class="line">liesâ€ä¸­æä¾› NuGet æä¾›ç¨‹åºã€‚ä¹Ÿå¯ä»¥é€šè¿‡è¿è¡Œ <span class="string">&#x27;Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201</span></span><br><span class="line"><span class="string"> -Force&#x27;</span> å®‰è£… NuGet æä¾›ç¨‹åºã€‚æ˜¯å¦è¦è®© PowerShellGet ç«‹å³å®‰è£…å¹¶å¯¼å…¥ NuGet æä¾›ç¨‹åº?</span><br><span class="line">[Y] æ˜¯(Y)  [N] å¦(N)  [S] æš‚åœ(S)  [?] å¸®åŠ© (é»˜è®¤å€¼ä¸ºâ€œYâ€): y</span><br><span class="line"></span><br><span class="line">ä¸å—ä¿¡ä»»çš„å­˜å‚¨åº“</span><br><span class="line">ä½ æ­£åœ¨ä»ä¸å—ä¿¡ä»»çš„å­˜å‚¨åº“å®‰è£…æ¨¡å—ã€‚å¦‚æœä½ ä¿¡ä»»è¯¥å­˜å‚¨åº“ï¼Œè¯·é€šè¿‡è¿è¡Œ Set-PSRepository cmdlet æ›´æ”¹å…¶</span><br><span class="line">InstallationPolicy å€¼ã€‚æ˜¯å¦ç¡®å®è¦ä»â€œPSGalleryâ€å®‰è£…æ¨¡å—?</span><br><span class="line">[Y] æ˜¯(Y)  [A] å…¨æ˜¯(A)  [N] å¦(N)  [L] å…¨å¦(L)  [S] æš‚åœ(S)  [?] å¸®åŠ© (é»˜è®¤å€¼ä¸ºâ€œNâ€): y</span><br><span class="line"></span><br><span class="line">PS C:\Windows\system32&gt; Install-Module posh-git -Scope CurrentUser</span><br><span class="line">ä¸å—ä¿¡ä»»çš„å­˜å‚¨åº“</span><br><span class="line">ä½ æ­£åœ¨ä»ä¸å—ä¿¡ä»»çš„å­˜å‚¨åº“å®‰è£…æ¨¡å—ã€‚å¦‚æœä½ ä¿¡ä»»è¯¥å­˜å‚¨åº“ï¼Œè¯·é€šè¿‡è¿è¡Œ Set-PSRepository cmdlet æ›´æ”¹å…¶</span><br><span class="line">InstallationPolicy å€¼ã€‚æ˜¯å¦ç¡®å®è¦ä»â€œPSGalleryâ€å®‰è£…æ¨¡å—?</span><br><span class="line">[Y] æ˜¯(Y)  [A] å…¨æ˜¯(A)  [N] å¦(N)  [L] å…¨å¦(L)  [S] æš‚åœ(S)  [?] å¸®åŠ© (é»˜è®¤å€¼ä¸ºâ€œNâ€): y</span><br></pre></td></tr></table></figure>
<h1 id="è®¾ç½®æ‰§è¡Œæƒé™"><a href="#è®¾ç½®æ‰§è¡Œæƒé™" class="headerlink" title="è®¾ç½®æ‰§è¡Œæƒé™"></a>è®¾ç½®æ‰§è¡Œæƒé™</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS C:\Windows\system32&gt; set-ExecutionPolicy RemoteSigned</span><br><span class="line"></span><br><span class="line">æ‰§è¡Œç­–ç•¥æ›´æ”¹</span><br><span class="line">æ‰§è¡Œç­–ç•¥å¯å¸®åŠ©ä½ é˜²æ­¢æ‰§è¡Œä¸ä¿¡ä»»çš„è„šæœ¬ã€‚æ›´æ”¹æ‰§è¡Œç­–ç•¥å¯èƒ½ä¼šäº§ç”Ÿå®‰å…¨é£é™©ï¼Œå¦‚</span><br><span class="line">https:/go.microsoft.com/fwlink/?LinkID=135170 ä¸­çš„ about_Execution_Policies</span><br><span class="line">å¸®åŠ©ä¸»é¢˜æ‰€è¿°ã€‚æ˜¯å¦è¦æ›´æ”¹æ‰§è¡Œç­–ç•¥?</span><br><span class="line">[Y] æ˜¯(Y)  [A] å…¨æ˜¯(A)  [N] å¦(N)  [L] å…¨å¦(L)  [S] æš‚åœ(S)  [?] å¸®åŠ© (é»˜è®¤å€¼ä¸ºâ€œNâ€): y</span><br><span class="line">PS C:\Windows\system32&gt; Import-Module oh-my-posh</span><br><span class="line">Downloading oh-my-posh executable <span class="keyword">for</span> 7.31.1</span><br><span class="line"> æ­£åœ¨å†™å…¥ Web è¯·æ±‚         </span><br><span class="line">  æ­£åœ¨å†™å…¥è¯·æ±‚æµ... (å·²å†™å…¥å­—èŠ‚æ•°: 15066734) </span><br></pre></td></tr></table></figure>
<h1 id="æŸ¥çœ‹é…ç½®ç¯å¢ƒå¹¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"><a href="#æŸ¥çœ‹é…ç½®ç¯å¢ƒå¹¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="æŸ¥çœ‹é…ç½®ç¯å¢ƒå¹¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡"></a>æŸ¥çœ‹é…ç½®ç¯å¢ƒå¹¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS C:\Windows\system32&gt; <span class="variable">$env</span>:POSH_PATH</span><br><span class="line">C:\Users\xxxxx\AppData\Local\oh-my-posh</span><br></pre></td></tr></table></figure>
<p>ä¾æ¬¡æ“ä½œï¼š<code>æ¡Œé¢</code>å³é”®â€”&gt;<code>å±æ€§</code>â€”&gt;<code>é«˜çº§ç³»ç»Ÿè®¾ç½®</code>â€”&gt;<code>ç¯å¢ƒå˜é‡</code>â€”&gt;<code>æ–°å»º</code>ï¼Œå°†ä»¥ä¸Šè·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚</p>
<h1 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Export-PoshTheme -FilePath <span class="string">&quot;~/.mt.omp.json&quot;</span> -Format json</span><br><span class="line">PS C:\Users\yk&gt; notepad <span class="variable">$profile</span></span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Import-Module posh-git </span><br><span class="line">Import-Module oh-my-posh</span><br><span class="line"># oh-my-posh --init --shell pwsh --config https<span class="punctuation">:</span><span class="comment">//raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v$(oh-my-posh --version)/themes/mt.omp.json | Invoke-Expression</span></span><br><span class="line"># Set-PoshPrompt Paradox</span><br><span class="line">Set-PoshPrompt mt</span><br></pre></td></tr></table></figure></p>
<h1 id="ä½¿é…ç½®ç”Ÿæ•ˆ"><a href="#ä½¿é…ç½®ç”Ÿæ•ˆ" class="headerlink" title="ä½¿é…ç½®ç”Ÿæ•ˆ"></a>ä½¿é…ç½®ç”Ÿæ•ˆ</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS C:\Users\yk&gt; . <span class="variable">$profile</span></span><br></pre></td></tr></table></figure>
<h1 id="ä¸‹è½½å®‰è£…å­—ä½“"><a href="#ä¸‹è½½å®‰è£…å­—ä½“" class="headerlink" title="ä¸‹è½½å®‰è£…å­—ä½“"></a>ä¸‹è½½å®‰è£…å­—ä½“</h1><p><a href="https://www.nerdfonts.com/font-downloads">ä¸‹è½½åœ°å€ï¼š</a><br>æœ¬äººå®‰è£…çš„æ˜¯<a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Mononoki.zip">Mononoki</a>å’Œ<a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/SourceCodePro.zip">SourceCodePro</a>.<br>ä¸‹è½½åè§£å‹ï¼Œè¿›å…¥è§£å‹æ–‡ä»¶å¤¹ï¼Œ<code>å…¨é€‰</code>â€”&gt;<code>å³é”®</code>â€”&gt;<code>å®‰è£…</code>,å¯ä»¥é€‰æ‹©ä¸ºæ‰€æœ‰ç”¨æˆ·å®‰è£…ã€‚</p>
<h1 id="é…ç½®powershellç»ˆç«¯"><a href="#é…ç½®powershellç»ˆç«¯" class="headerlink" title="é…ç½®powershellç»ˆç«¯"></a>é…ç½®<code>powershell</code>ç»ˆç«¯</h1><p>æ‰“å¼€<code>powershell</code>ç»ˆç«¯ï¼Œé¡¶éƒ¨å³é”®<code>å±æ€§</code>â€”&gt;<code>å­—ä½“</code>ï¼Œè®¾ç½®ä¸ºåˆšä¸‹è½½å®‰è£…çš„å­—ä½“ã€‚</p>
<p>åœ¨<a href="https://github.com/microsoft/terminal"><code>windowç»ˆç«¯</code></a>ä¸Šå¯å‚è€ƒå®‰è£…ã€‚</p>
<h1 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h1><p>1ã€<a href="https://github.com/JanDeDobbeleer/oh-my-posh">oh-my-poshå¼€æºåœ°å€</a><br>2ã€<a href="https://ohmyposh.dev/docs/installation/windows">oh-my-poshå®˜ç½‘</a><br>3ã€<a href="https://docs.microsoft.com/zh-cn/windows/terminal/tutorials/custom-prompt-setup#customize-your-wsl-prompt-with-oh-my-posh">æ•™ç¨‹ï¼šä½¿ç”¨ Oh My Posh ä¸º PowerShell æˆ– WSL è®¾ç½®è‡ªå®šä¹‰æç¤ºç¬¦</a><br>4ã€<a href="https://www.zhihu.com/question/330813656">win10 terminalé…è‰²å¯ä»¥å¥½çœ‹åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿèƒ½åˆ†äº«ä½ çš„profile.jsonå—?</a></p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
        <category>Windows</category>
        <category>ç»ˆç«¯</category>
      </categories>
      <tags>
        <tag>Powershell</tag>
        <tag>Windows terminal</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Windows10ä¸Šé…ç½®Hexo+Githubåšä¸ªäººåšå®¢</title>
    <url>/2021/12/03/%E5%9C%A8Windows10%E4%B8%8A%E9%85%8D%E7%BD%AEHexo+Github%E5%81%9A%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸€ã€å®‰è£…wgetç”¨äºä¸‹è½½-å¯é€‰"><a href="#ä¸€ã€å®‰è£…wgetç”¨äºä¸‹è½½-å¯é€‰" class="headerlink" title="ä¸€ã€å®‰è£…wgetç”¨äºä¸‹è½½(å¯é€‰)"></a>ä¸€ã€å®‰è£…<code>wget</code>ç”¨äºä¸‹è½½(å¯é€‰)</h1><p><a href="https://eternallybored.org/misc/wget/">wgetçš„windowsç‰ˆæœ¬ä¸‹è½½åœ°å€</a><br>æ ¹æ®ç³»ç»ŸåŠä¸ªäººéœ€è¦é€‰æ‹©ç‰ˆæœ¬ï¼Œå°†ä¸‹è½½çš„<code>exe</code>æ”¾åˆ°<code>C:\Windows\System32</code>æ–‡ä»¶å¤¹é‡Œã€‚</p>
<h1 id="äºŒã€å®‰è£…nvm-å¯é€‰"><a href="#äºŒã€å®‰è£…nvm-å¯é€‰" class="headerlink" title="äºŒã€å®‰è£…nvm(å¯é€‰)"></a>äºŒã€å®‰è£…<code>nvm</code>(å¯é€‰)</h1><p>ç”¨äºç®¡ç†<code>node</code>ç‰ˆæœ¬<br><a href="https://github.com/coreybutler/nvm-windows/releases"><code>nvm</code>ä¸‹è½½åœ°å€</a></p>
<h2 id="1ã€é…ç½®nvmå’Œnodeç¯å¢ƒå˜é‡ä¸‹è½½nvm-setup-zip"><a href="#1ã€é…ç½®nvmå’Œnodeç¯å¢ƒå˜é‡ä¸‹è½½nvm-setup-zip" class="headerlink" title="1ã€é…ç½®nvmå’Œnodeç¯å¢ƒå˜é‡ä¸‹è½½nvm-setup.zip"></a>1ã€<del>é…ç½®<code>nvm</code>å’Œ<code>node</code>ç¯å¢ƒå˜é‡</del>ä¸‹è½½<code>nvm-setup.zip</code></h2><p>â‘ <del><code>win(å›¾æ ‡)+r</code>â€”&gt;è¾“å…¥<code>sysdm.cpl</code>â€”&gt;<code>é«˜çº§</code>â€”&gt;<code>ç¯å¢ƒå˜é‡</code>â€”&gt;<code>ç”¨æˆ·å˜é‡path</code>â€”&gt;<code>æ–°å»º</code>è¾“å…¥<code>%NVM_HOME%</code>,ç»§ç»­<code>æ–°å»º</code>è¾“å…¥<code>%NVM_SYMLINK%</code></del><br>â‘¡<del><code>åœ¨ç³»ç»Ÿå˜é‡</code>â€”&gt;æ–°å»ºâ€”&gt;å˜é‡å<code>NVM_HOME</code>ï¼Œè·¯å¾„<code>D:\Programs\nvm-noinstall</code>(æ ¹æ®è‡ªå·±è§£å‹åæ”¾ç½®çš„ç›®å½•ä¿®æ”¹)â€”&gt;ç¡®å®šåï¼Œæ–°å»ºâ€”&gt;å˜é‡å<code>NVM_SYMLINK</code>,è·¯å¾„<code>D:\Program Files\nodejs</code>(nodejså®‰è£…è·¯å¾„)</del><font color='red'><strong>è§£å‹å®‰è£…ï¼Œæ³¨æ„å®‰è£…æ—¶è·¯å¾„é€‰æ‹©ä¸€ä¸ªæ˜¯<code>nvm</code>å®‰è£…è·¯å¾„ï¼Œä¸€ä¸ªæ˜¯<code>nodejs</code>è·¯å¾„ï¼Œè·¯å¾„ä¸èƒ½æœ‰ç©ºæ ¼ä¸­æ–‡ã€‚</strong></font><br>â‘¢<del>åœ¨<code>D:\Programs\nvm-noinstall</code>æ–‡ä»¶å¤¹æ–°å»ºsettings.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</del><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root: D:\Programs\nvm</span><br><span class="line">path: D:\Programs\nodejs</span><br></pre></td></tr></table></figure><br>â‘£æ‰“å¼€ç»ˆç«¯è®¾ç½®å›½å†…å®‰è£…æº<br>å‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS D:\Programs\nvm&gt; nvm node_mirror https://npm.taobao.org/mirrors/node/</span><br><span class="line">PS D:\Programs\nvm&gt; nvm npm_mirror https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure><br>â‘¤æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬<br>å‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS D:\Programs\nvm&gt; nvm <span class="built_in">ls</span> available</span><br></pre></td></tr></table></figure><br>ç»“æœå¦‚å›¾ï¼š<br><img src="\pic\2021\12\nvmå®‰è£…node.png" alt="nvmå®‰è£…node.png"><br>å®‰è£…å¹¶ä½¿ç”¨<code>16.13.1</code>ç‰ˆæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS D:\Programs\nvm&gt; nvm install 16.13.1</span><br><span class="line">PS D:\Programs\nvm&gt; nvm list</span><br><span class="line"></span><br><span class="line">    16.13.1</span><br><span class="line">PS D:\Programs\nvm&gt; nvm use 16.13.1</span><br><span class="line">Now using node v16.13.1 (64-bit)</span><br></pre></td></tr></table></figure><br><strong>å¦‚æœä¸å®‰è£…<code>nvm</code>åˆ™éœ€è¦åˆ°<a href="https://nodejs.org/en/"><code>nodejs</code>å®˜ç½‘</a>ä¸‹è½½å®‰è£…<code>nodejs</code></strong></p>
<h1 id="ä¸‰ã€åˆ›å»ºSSHå¯†é’¥"><a href="#ä¸‰ã€åˆ›å»ºSSHå¯†é’¥" class="headerlink" title="ä¸‰ã€åˆ›å»ºSSHå¯†é’¥"></a>ä¸‰ã€åˆ›å»º<code>SSH</code>å¯†é’¥</h1><h2 id="1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š"><a href="#1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š" class="headerlink" title="1ã€æŒ‰ç…§Githubæç¤ºï¼Œåˆ›å»ºSSHç§˜é’¥ï¼š"></a>1ã€æŒ‰ç…§<code>Github</code>æç¤ºï¼Œåˆ›å»º<code>SSH</code>ç§˜é’¥ï¼š</h2><p>ï¼ˆ1ï¼‰å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">PS D:Programs\nvm&gt; <span class="built_in">mkdir</span> ~/.ssh</span><br><span class="line">PS D:Programs\nvm&gt; <span class="built_in">cd</span> ~/.ssh</span><br><span class="line">PS C:\Users\XXX\.ssh&gt; ssh-keygen -t rsa -C <span class="string">&quot;é‚®ç®±åœ°å€&quot;</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/ç”¨æˆ·å/.ssh/id_rsa): </span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/ç”¨æˆ·å/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/ç”¨æˆ·å/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:0NY9YEJ+aCViuJzyv**juiZ8 é‚®ç®±åœ°å€</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 2048]----+</span></span><br><span class="line"><span class="string">|     .o.*o++.    |</span></span><br><span class="line"><span class="string">|    .. * B=o     |</span></span><br><span class="line"><span class="string">|  o. o      o    |</span></span><br><span class="line"><span class="string">| ..o+o *     .   |</span></span><br><span class="line"><span class="string">|   o*.o So .     |</span></span><br><span class="line"><span class="string">| . =.o. .        |</span></span><br><span class="line"><span class="string">|  * .... . .     |</span></span><br><span class="line"><span class="string">| oo.o..          |</span></span><br><span class="line"><span class="string">| .o=             |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br><span class="line"><span class="string">PS C:\Users\XXX\.ssh&gt; ls</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Directory: C:\Users\XXX\.ssh</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Mode                 LastWriteTime         Length Name</span></span><br><span class="line"><span class="string">----                 -------------         ------ ----</span></span><br><span class="line"><span class="string">-a---          2020-12-13    16:22           2602 id_rsa</span></span><br><span class="line"><span class="string">-a---          2020-12-13    16:22            572 id_rsa.pub</span></span><br><span class="line"><span class="string">-a---          2020-12-25    16:30           1596 known_hosts</span></span><br><span class="line"><span class="string">PS C:\Users\XXX\.ssh&gt; cat id_rsa.pub</span></span><br><span class="line"><span class="string">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDXoLe6b+9fvDT/L8hcz***************eh+GK4vVv+1dyv9 æ‚¨æ³¨å†Œgithubçš„é‚®ç®±</span></span><br></pre></td></tr></table></figure></p>
<p>ï¼ˆ2ï¼‰æ‰“å¼€<code>https://github.com/settings/keys</code>ï¼Œç‚¹å‡»<code>New SSH key</code>æ–°å¢ <code>SSH KEY</code>ï¼Œ<code>tittle</code>å¡«å…¥<code>win10</code>å†…å®¹å¦‚ä¸Šï¼š<code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDXoLe6b+9fvDT/L8hcz***************eh+GK4vVv+1dyv9 æ‚¨æ³¨å†Œgithubçš„é‚®ç®±</code><br>ï¼ˆ3ï¼‰æ–°å»ºå¹¶é…ç½®<code>github</code>ä»“åº“<br>  â‘ æ‰“å¼€<code>https://github.com/</code>ç™»å½•åï¼Œåœ¨å³ä¸Šè§’ç‚¹å‡»<code>+</code>==&gt;<code>New repository</code>==&gt;<code>Repository name</code>è¾“å…¥ï¼š<code>XXX.github.io</code>==&gt;<code>Create repository</code><br>  â‘¡è¿›å…¥æ–°ä»“åº“ï¼Œ<code>Add file</code>==&gt;æ–‡ä»¶å<code>CNAME</code>,å†…å®¹<code>ä½ çš„åŸŸå</code>ï¼ˆåŸŸåéœ€è‡ªå·±æ³¨å†Œï¼Œæ²¡åŸŸåå°±ç›´æ¥ç”¨<code>XXX.github.io</code>è®¿é—®ç½‘é¡µï¼‰ã€‚<br>  â‘¢ç‚¹å‡»ä»“åº“å³è¾¹<code>Settins</code>==&gt;ç½‘é¡µä¸‹æ–¹<code>pages</code>==&gt;<code>Source</code>é€‰æ‹©<code>master</code>(å› ä¸ºç½‘é¡µæ–‡ä»¶ä¸Šä¼ æ˜¯ä¼ åˆ°<code>master</code>åˆ†æ”¯)==&gt;<code>Custom domain</code>æ ¹æ®ä¸Šé¢<code>ä½ çš„åŸŸå</code>å¡«å†™ã€‚  </p>
<p>å…³äºåŸŸåè§£æåœ¨ä¸»æœºè¿è¥å•†å¤„å¡«å†™ï¼Œæ¯”å¦‚<code>WWW</code>æˆ–è€…<code>@</code>ç­‰ï¼Œè®°å½•å€¼å¡«å†™<code>XXX.github.io</code>.  </p>
<h1 id="å››ã€å®‰è£…å¹¶é…ç½®git"><a href="#å››ã€å®‰è£…å¹¶é…ç½®git" class="headerlink" title="å››ã€å®‰è£…å¹¶é…ç½®git"></a>å››ã€å®‰è£…å¹¶é…ç½®<code>git</code></h1><h2 id="1ã€å®‰è£…git"><a href="#1ã€å®‰è£…git" class="headerlink" title="1ã€å®‰è£…git"></a>1ã€å®‰è£…<code>git</code></h2><p><a href="https://git-scm.com/download/win">ä¸‹è½½åœ°å€</a>ã€æ³¨æ„ä¼šè‡ªåŠ¨ä¸‹è½½ã€‘<br>ä½ å¯ä»¥ä½¿ç”¨<code>Git Chocolatey</code>åŒ…è‡ªåŠ¨å®‰è£…<a href="https://community.chocolatey.org/packages/git#testingResults">ä¸‹è½½åœ°å€</a> </p>
<h2 id="2ã€åœ¨ç”µè„‘ä¸Šé…ç½®git"><a href="#2ã€åœ¨ç”µè„‘ä¸Šé…ç½®git" class="headerlink" title="2ã€åœ¨ç”µè„‘ä¸Šé…ç½®git"></a>2ã€åœ¨ç”µè„‘ä¸Šé…ç½®<code>git</code></h2><p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">PS C:\Users\XXX\.ssh&gt; git config --global user.name <span class="string">&quot;æ³¨å†Œgithubçš„ç”¨æˆ·å&quot;</span></span><br><span class="line">PS C:\Users\XXX\.ssh&gt; git config --global user.email <span class="string">&quot;æ³¨å†Œgithubçš„é‚®ç®±&quot;</span></span><br></pre></td></tr></table></figure><br>å…¶ä»–å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">PS C:\Users\XXX\.ssh&gt; git config --global -l  <span class="comment"># æŸ¥çœ‹gité…ç½®</span></span><br><span class="line">core.editor=<span class="string">&quot;D:\Program Files (x86)\Sublime Text 3\sublime_text.exe&quot;</span> -w</span><br><span class="line">core.autocrlf=<span class="literal">false</span></span><br><span class="line">user.name=ä½ è®¾ç½®çš„ç”¨æˆ·å</span><br><span class="line">user.email=ä½ githubçš„é‚®ç®±åœ°å€ </span><br><span class="line">PS C:\Users\XXX\.ssh&gt; ssh -T git@github.com  <span class="comment"># æŸ¥çœ‹ä¸gitçš„è¿æ¥</span></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;github.com (52.192.72.89)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:p2QAMXNIC1TJYWeIOttrVc98/R1BUFWu3/LiyKgUfQM.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>github.com,XXX.XXX.XXX.XXX<span class="string">&#x27; (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">Hi owenyk! You&#x27;</span>ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><br>è®¾ç½®å’Œå–æ¶ˆä»£ç†:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy ä½ çš„ä»£ç†åœ°å€</span><br><span class="line">git config --global https.proxy ä½ çš„ä»£ç†åœ°å€</span><br></pre></td></tr></table></figure><br><strong>ä»£ç†åœ°å€ä¸­<code>http://</code>ä¹Ÿå¯ä»¥æ”¹æˆ<code>sockets5://</code>,ä½†æ˜¯åŒºåˆ«åœ¨äºï¼š<code>socks5</code>ä¸æ”¯æŒé€šè¿‡<code>pubkey</code>å…å¯†ç™»å½•<code>github</code>ï¼Œæ¯æ¬¡æäº¤ä»£ç åªèƒ½è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ,<code>http</code>å¯ä»¥æ”¯æŒå…å¯†ç™»å½•ã€‚</strong><br>å–æ¶ˆä»£ç†ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy </span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy </span><br></pre></td></tr></table></figure></p>
<h1 id="äº”ã€å®‰è£…hexo"><a href="#äº”ã€å®‰è£…hexo" class="headerlink" title="äº”ã€å®‰è£…hexo"></a>äº”ã€å®‰è£…<code>hexo</code></h1><h2 id="1ã€å®‰è£…hexoå‘½ä»¤ï¼š"><a href="#1ã€å®‰è£…hexoå‘½ä»¤ï¼š" class="headerlink" title="1ã€å®‰è£…hexoå‘½ä»¤ï¼š"></a>1ã€å®‰è£…<code>hexo</code>å‘½ä»¤ï¼š</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">PS C:\Users\XXX\.ssh&gt; npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<h2 id="2ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹"><a href="#2ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹" class="headerlink" title="2ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹"></a>2ã€åˆ›å»ºå­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">PS C:\Users\XXX\.ssh&gt; <span class="built_in">mkdir</span> E:\WebSites\GitWeb\gitBlog</span><br><span class="line">PS C:\Users\XXX\.ssh&gt; <span class="built_in">cd</span> E:\WebSites\GitWeb\gitBlog</span><br><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; hexo init   <span class="comment">##åˆå§‹åŒ–hexoè®¾ç½®</span></span><br><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install</span><br><span class="line"></span><br><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install urix</span><br><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install resolve-url <span class="comment"># `url`æ ¼å¼ç›¸å…³</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶å¤¹å‡ºç°<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml     #é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package.json    #åº”ç”¨ç¨‹åºæ•°æ®</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ source          #ç½‘ç«™å†…å®¹</span><br><span class="line">|   â”œâ”€â”€ _drafts     #è‰ç¨¿</span><br><span class="line">|   â””â”€â”€ _posts      #æ–‡ç« </span><br><span class="line">â””â”€â”€ themes          #ä¸»é¢˜</span><br></pre></td></tr></table></figure><br>æŸ¥è¯¢ç›¸å…³ä¿¡æ¯ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xx &gt; E:\WebSites\GitWeb\gitBlog &gt; 16.13.2 &gt; â™¥ 15:29 hexo -V</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  ==================================</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•</span><br><span class="line">  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘</span><br><span class="line">  â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•</span><br><span class="line">========================================</span><br><span class="line">NexT version 8.11.1</span><br><span class="line">Documentation: https://theme-next.js.org</span><br><span class="line">========================================</span><br><span class="line">hexo: 6.1.0</span><br><span class="line">hexo-cli: 4.3.0</span><br><span class="line">os: win32 10.0.19045</span><br><span class="line">node: 16.13.2</span><br><span class="line">v8: 9.4.146.24-node.14</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.9</span><br><span class="line">ares: 1.18.1</span><br><span class="line">modules: 93</span><br><span class="line">nghttp2: 1.45.1</span><br><span class="line">napi: 8</span><br><span class="line">llhttp: 6.0.4</span><br><span class="line">openssl: 1.1.1l+quic</span><br><span class="line">cldr: 39.0</span><br><span class="line">icu: 69.1</span><br><span class="line">tz: 2021a</span><br><span class="line">unicode: 13.0</span><br><span class="line">ngtcp2: 0.1.0-DEV</span><br><span class="line">nghttp3: 0.1.0-DEV</span><br></pre></td></tr></table></figure><br>è¯¦è§ï¼š<a href="https://hexo.io/">hexoå®˜ç½‘</a></p>
<h1 id="å…­ã€å®‰è£…next-v8-8-2-ä¸»é¢˜"><a href="#å…­ã€å®‰è£…next-v8-8-2-ä¸»é¢˜" class="headerlink" title="å…­ã€å®‰è£…next[v8.8.2]ä¸»é¢˜"></a>å…­ã€å®‰è£…<code>next[v8.8.2]</code>ä¸»é¢˜</h1><h2 id="1ã€å®‰è£…next"><a href="#1ã€å®‰è£…next" class="headerlink" title="1ã€å®‰è£…next"></a>1ã€å®‰è£…<code>next</code></h2><p><code>Hexo 5.0</code>æˆ–æ›´æ–°ç‰ˆæœ¬<code>npm</code>å®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-theme-next</span><br></pre></td></tr></table></figure>
<p><strong>æˆ–è€…</strong>è¿›å…¥<strong>ç«™ç‚¹æ ¹ç›®å½•</strong>ååˆ©ç”¨<code>git</code>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><br>è¯¦è§ï¼š<a href="https://github.com/next-theme/hexo-theme-next/blob/master/docs/zh-CN/README.md">ä¸»é¢˜ä»‹ç»</a><br><code>NexT</code>å’Œ<code>Hexo</code>ç‰ˆæœ¬çš„å…¼å®¹æ€§  </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Version</th>
<th>Hexo 3.0.0-beta.4æˆ–è€…æ›´æ—©ç‰ˆæœ¬</th>
<th>Hexo 3.0.0-rc.1 ~ 3.9</th>
<th>Hexo 4.0 ~ 4.2.1</th>
<th>Hexo 5.0æˆ–è€…æ›´æ–°ç‰ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td>NexT v0.4.5.1 or æ—©æœŸ</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âŒ Icon (2)</td>
<td>âŒ Icon (2)</td>
</tr>
<tr>
<td>NexT v0.4.5.2 ~ v7.4.1</td>
<td>âš ï¸ Data Files (1)</td>
<td>âœ…</td>
<td>âŒ Icon (2)</td>
<td>âŒ Icon (2)</td>
</tr>
<tr>
<td>NexT v7.4.2 ~ v8.1.0</td>
<td>âš ï¸ Data Files (1)</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>NexT v8.2.0 or åæœŸ</td>
<td>âš ï¸ Nunjucks (3)</td>
<td>âš ï¸ Nunjucks (3)</td>
<td>âš ï¸ Nunjucks (3)</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
</div>
<p>(1): <code>Hexo 3.0.0-beta.4</code>æˆ–è€…æ›´æ—©ç‰ˆæœ¬ä¸æ”¯æŒæ•°æ®æ–‡ä»¶.<br>(2): å›¾æ ‡å¯èƒ½æ— æ³•æ­£å¸¸æ˜¾ç¤º.<br>(3): <code>Nunjucks</code>éœ€è¦æ¸²æŸ“å™¨æ’ä»¶.<br><code>Next</code>å„ç‰ˆæœ¬çš„ä»“åº“  </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å¹´ä»½</th>
<th>ç‰ˆæœ¬</th>
<th>ä»“åº“</th>
</tr>
</thead>
<tbody>
<tr>
<td>2014 ~ 2017</td>
<td>v5</td>
<td><a href="https://github.com/iissnan/hexo-theme-next">https://github.com/iissnan/hexo-theme-next</a></td>
</tr>
<tr>
<td>2018 ~ 2019</td>
<td>v6 ~ v7</td>
<td><a href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a></td>
</tr>
<tr>
<td>2020</td>
<td>v8</td>
<td><a href="https://github.com/next-theme/hexo-theme-next">https://github.com/next-theme/hexo-theme-next</a></td>
</tr>
</tbody>
</table>
</div>
<h2 id="2ã€é…ç½®ä¸»é¢˜ä¸ºnext"><a href="#2ã€é…ç½®ä¸»é¢˜ä¸ºnext" class="headerlink" title="2ã€é…ç½®ä¸»é¢˜ä¸ºnext"></a>2ã€é…ç½®ä¸»é¢˜ä¸º<code>next</code></h2><p>(1)ã€å¤åˆ¶<code>next</code>é…ç½®åˆ°ç«™ç‚¹æ ¹ç›®å½•å¹¶å‘½åä¸º<code>_config.next.yml</code>,æ­¤åä¿®æ”¹<code>next</code>é…ç½®ä¿®æ”¹æ­¤æ–‡ä»¶å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; <span class="built_in">cp</span> E:\WebSites\GitWeb\gitBlog\node_modules\hexo-theme-next\_config.yml _config.next.yml</span><br></pre></td></tr></table></figure><br>(2)ã€ä¿®æ”¹ç«™ç‚¹ç›®å½•ä¸‹<code>_config.yml</code>ä¸­ä¸»é¢˜é…ç½®,æ”¹ä¸º<code>next</code>ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure><br>(3)ã€å¤åˆ¶<code>nextä¸»é¢˜</code>åˆ°<code>ç«™ç‚¹æ ¹ç›®å½•\themes\</code>ï¼Œæ­¤åé…ç½®ä¿®æ”¹æ­¤<code>ä¸»é¢˜æ–‡ä»¶å¤¹</code>é‡Œçš„æ–‡ä»¶å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; <span class="built_in">cp</span> E:\WebSites\GitWeb\gitBlog\node_modules\hexo-theme-next\ \themes\next</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸ƒã€å…¶ä»–ç®€å•ç¾åŒ–é…ç½®"><a href="#ä¸ƒã€å…¶ä»–ç®€å•ç¾åŒ–é…ç½®" class="headerlink" title="ä¸ƒã€å…¶ä»–ç®€å•ç¾åŒ–é…ç½®"></a>ä¸ƒã€å…¶ä»–ç®€å•ç¾åŒ–é…ç½®</h1><h2 id="1ã€æ ‡é¢˜é“¾æ¥é¡¹ç›®"><a href="#1ã€æ ‡é¢˜é“¾æ¥é¡¹ç›®" class="headerlink" title="1ã€æ ‡é¢˜é“¾æ¥é¡¹ç›®"></a>1ã€æ ‡é¢˜é“¾æ¥é¡¹ç›®</h2><p>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¦‚ä¸‹é¡¹ç›®å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br></pre></td></tr></table></figure><br>ç„¶ååœ¨<code>ç«™ç‚¹/source/</code>ç›®å½•ä¸‹æ–°å»ºï¼Œ<code>about</code>ã€<code>tags</code>ã€<code>categories</code>ã€<code>archives</code>å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä»¥<code>index.html</code>å‘½åæ–°å»ºæ–‡ä»¶ï¼š<br>å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š<br><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: about</span><br><span class="line">date: 2020-12-27 08:43:10</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="section">## å…³äºæˆ‘</span></span><br><span class="line">ä½ çš„å†…å®¹</span><br><span class="line">Emailï¼šxxxx</span><br></pre></td></tr></table></figure><br><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2020-12-27 08:47:54</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><br><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2020-12-27 17:15:22</span><br><span class="line">type: categories</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><br><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: archives</span><br><span class="line">date: 2020-12-27 17:15:22</span><br><span class="line">type: archives</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><br>å¦å¤–è‹¥ç«™ç‚¹å›¾ç‰‡ä¹Ÿå­˜äºæ­¤<code>ç«™ç‚¹/source/</code>ç›®å½•ä¸‹ï¼Œåˆ™æ–°å»º<code>pic</code>æ–‡ä»¶å¤¹æ”¾å…¥å›¾ç‰‡ï¼Œåšå›¾ç‰‡é“¾æ¥å³å¯ã€‚</p>
<h2 id="2ã€å®‰è£…sitemap"><a href="#2ã€å®‰è£…sitemap" class="headerlink" title="2ã€å®‰è£…sitemap"></a>2ã€å®‰è£…<code>sitemap</code></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¦‚ä¸‹é¡¹ç›®å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€å®‰è£…æœ¬åœ°æœç´¢"><a href="#3ã€å®‰è£…æœ¬åœ°æœç´¢" class="headerlink" title="3ã€å®‰è£…æœ¬åœ°æœç´¢"></a>3ã€å®‰è£…æœ¬åœ°æœç´¢</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install hexo-generator-searchdb --saved</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¦‚ä¸‹é¡¹ç›®å¹¶ä¿®æ”¹ä¸ºå¦‚ä¸‹ä»¥å¯ç”¨æœ¬åœ°æœç´¢ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>æ‰“å¼€<strong>ç«™ç‚¹é…ç½®</strong>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4ã€æ•°å­¦å…¬å¼"><a href="#4ã€æ•°å­¦å…¬å¼" class="headerlink" title="4ã€æ•°å­¦å…¬å¼"></a>4ã€æ•°å­¦å…¬å¼</h2><h3 id="ç¬¬ä¸€æ­¥ï¼š-ä½¿ç”¨Kramedä»£æ›¿Marked"><a href="#ç¬¬ä¸€æ­¥ï¼š-ä½¿ç”¨Kramedä»£æ›¿Marked" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š ä½¿ç”¨Kramedä»£æ›¿Marked"></a>ç¬¬ä¸€æ­¥ï¼š ä½¿ç”¨<code>Kramed</code>ä»£æ›¿<code>Marked</code></h3><p><code>hexo</code> é»˜è®¤çš„æ¸²æŸ“å¼•æ“æ˜¯ <code>marked</code>ï¼Œä½†æ˜¯ <code>marked</code> ä¸æ”¯æŒ <code>mathjax</code>ã€‚ <code>kramed</code> æ˜¯åœ¨ <code>marked</code> çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… <code>kramed</code>.<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><br>ç„¶åï¼Œæ›´æ”¹<code>&lt;your-project-dir&gt;/node_modules/hexo-renderer-kramed/lib/renderer.js</code>ï¼Œæ›´æ”¹ï¼š<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatText</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="comment">// Fit kramed&#x27;s rule: $$ + \1 + $$</span></span><br><span class="line">    <span class="keyword">return</span> text.<span class="title function_">replace</span>(<span class="regexp">/`\$(.*?)\$`/g</span>, <span class="string">&#x27;$$$$$1$$$$&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ä¸ºï¼š<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatText</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬äºŒæ­¥-åœæ­¢ä½¿ç”¨-hexo-math"><a href="#ç¬¬äºŒæ­¥-åœæ­¢ä½¿ç”¨-hexo-math" class="headerlink" title="ç¬¬äºŒæ­¥: åœæ­¢ä½¿ç”¨ hexo-math"></a>ç¬¬äºŒæ­¥: åœæ­¢ä½¿ç”¨ <code>hexo-math</code></h3><p>é¦–å…ˆï¼Œå¦‚æœä½ å·²ç»å®‰è£… <code>hexo-math</code>, è¯·å¸è½½å®ƒï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-math --save</span><br></pre></td></tr></table></figure><br>ç„¶åå®‰è£… <code>hexo-renderer-mathjax</code> åŒ…ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-mathjax --save</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬ä¸‰æ­¥-æ›´æ–°-Mathjax-çš„-CDN-é“¾æ¥-å¯é€‰"><a href="#ç¬¬ä¸‰æ­¥-æ›´æ–°-Mathjax-çš„-CDN-é“¾æ¥-å¯é€‰" class="headerlink" title="ç¬¬ä¸‰æ­¥: æ›´æ–° Mathjax çš„ CDN é“¾æ¥(å¯é€‰)"></a>ç¬¬ä¸‰æ­¥: æ›´æ–° <code>Mathjax</code> çš„ <code>CDN</code> é“¾æ¥(å¯é€‰)</h3><p>é¦–å…ˆï¼Œæ‰“å¼€<code>&lt;path-to-your-project&gt;/node_modules/hexo-renderer-mathjax/mathjax.html</code></p>
<p>ç„¶åï¼ŒæŠŠ<code>&lt;script&gt;</code>æ›´æ”¹ä¸ºï¼š<br><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="ç¬¬å››æ­¥-æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™"><a href="#ç¬¬å››æ­¥-æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™" class="headerlink" title="ç¬¬å››æ­¥: æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™"></a>ç¬¬å››æ­¥: æ›´æ”¹é»˜è®¤è½¬ä¹‰è§„åˆ™</h3><p>å› ä¸º <code>hexo</code> é»˜è®¤çš„è½¬ä¹‰è§„åˆ™ä¼šå°†ä¸€äº›å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚ <code>_</code>è½¬ä¸º <code>&lt;em&gt;</code>, æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹é»˜è®¤çš„è§„åˆ™è¿›è¡Œä¿®æ”¹.<br>é¦–å…ˆï¼Œ æ‰“å¼€<code>&lt;path-to-your-project/node_modules/kramed/lib/rules/inline.js</code>,</p>
<p>ç„¶åï¼ŒæŠŠ:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure><br>æ›´æ”¹ä¸º:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">escape</span>: <span class="regexp">/^\\([`*\[\]()# +\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure><br>æŠŠ<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">em</span>: <span class="regexp">/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure><br>æ›´æ”¹ä¸º:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">em</span>: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬äº”æ­¥-å¼€å¯mathjax"><a href="#ç¬¬äº”æ­¥-å¼€å¯mathjax" class="headerlink" title="ç¬¬äº”æ­¥: å¼€å¯mathjax"></a>ç¬¬äº”æ­¥: å¼€å¯<code>mathjax</code></h3><p>åœ¨<strong>ç«™ç‚¹å’Œä¸»é¢˜é…ç½®</strong><code>_config.yml</code>ã€<code>_config.next.yml</code> ä¸­å¼€å¯ <code>Mathjax</code>ï¼Œ æ‰¾åˆ° <code>mathjax</code> å­—æ®µæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="comment"># Default (false) will load mathjax / katex script on demand.</span></span><br><span class="line">  <span class="comment"># That is it only render those page which has `mathjax: true` in front-matter.</span></span><br><span class="line">  <span class="comment"># If you set it to true, it will load mathjax / katex script EVERY PAGE.</span></span><br><span class="line">  <span class="attr">every_page:</span> <span class="literal">false</span>  <span class="comment"># æ­¤é¡¹å…³é—­ï¼Œåˆ™éœ€è¦åœ¨æœ‰mathjaxå†…å®¹çš„é¡µé¢è¡¨å¤´æ·»åŠ mathjax: trueå³å¦‚ä¸‹ä¸€æ­¥ã€‚</span></span><br><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸€æ­¥å¯é€‰ï¼Œåœ¨åšå®¢ä¸­å¼€å¯ <code>Mathjax</code>ï¼Œï¼Œ æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Testing</span> <span class="string">Mathjax</span> <span class="string">with</span> <span class="string">Hexo</span>  </span><br><span class="line"><span class="attr">category:</span> <span class="string">Uncategorized</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2017</span><span class="string">/05/03</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><br>å…³äºæµç¨‹å›¾<br><strong>éœ€å®‰è£…æ’ä»¶ï¼š<code>flowchart</code></strong><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-filter-flowchart --save </span><br></pre></td></tr></table></figure><br>åœ¨<strong>ç«™ç‚¹</strong>æ ¹ç›®å½•ï¼š<code>\_config.yml</code>åŠ å…¥<code>flowchart</code>æ”¯æŒ:</p>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>hexo</code> ä¸­ä½¿ç”¨ <code>Mathjax</code> æ¥ä¹¦å†™æ•°å­¦å…¬å¼ã€‚  </p>
<h2 id="5ã€æ ‡ç­¾äº‘"><a href="#5ã€æ ‡ç­¾äº‘" class="headerlink" title="5ã€æ ‡ç­¾äº‘"></a>5ã€æ ‡ç­¾äº‘</h2><p>å®‰è£…æ”¯æŒï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS E:\WebSites\GitWeb\gitBlog&gt; npm install hexo-tag-cloud --save</span><br></pre></td></tr></table></figure><br>å¼€å¯æ ‡ç­¾äº‘ï¼š<br><code>swig</code> ç”¨æˆ· (<code>Next</code>ä¸»é¢˜åœ¨åˆ—)<br>åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹æ‰¾åˆ°æ–‡ä»¶ <code>theme/next/layout/_macro/sidebar.swig</code>, ç„¶ååœ¨<code>&lt;aside&gt;&lt;/aside&gt;</code>ä¹‹é—´æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/tagcloud.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/tagcanvas.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span> <span class="attr">class</span>=<span class="string">&quot;widget-title&quot;</span>&gt;</span>Tag Cloud<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myCanvasContainer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;260&quot;</span> <span class="attr">height</span>=<span class="string">&quot;280&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width=100%&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><br>åœ¨<strong>ç«™ç‚¹é…ç½®</strong>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-tag-cloud</span></span><br><span class="line"><span class="attr">tag_cloud:</span></span><br><span class="line">    <span class="attr">textFont:</span> <span class="string">Trebuchet</span> <span class="string">MS,</span> <span class="string">Helvetica</span></span><br><span class="line">    <span class="attr">textColor:</span> <span class="string">&#x27;#333&#x27;</span></span><br><span class="line">    <span class="attr">textHeight:</span> <span class="number">25</span></span><br><span class="line">    <span class="attr">outlineColor:</span> <span class="string">&#x27;#E2E1D1&#x27;</span></span><br><span class="line">    <span class="attr">maxSpeed:</span> <span class="number">0.1</span></span><br></pre></td></tr></table></figure><br>æœ€ç»ˆæ•ˆæœå¦‚å›¾ï¼š <img src="/pic/2021/12/æ ‡ç­¾äº‘.png" alt="æ ‡ç­¾äº‘"></p>
<h2 id="6ã€-æ·»åŠ RSSæ ‡ç­¾"><a href="#6ã€-æ·»åŠ RSSæ ‡ç­¾" class="headerlink" title="6ã€ æ·»åŠ RSSæ ‡ç­¾"></a>6ã€ æ·»åŠ <code>RSS</code>æ ‡ç­¾</h2><p>å®‰è£…ä¾èµ–ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><br>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¹¶å¢åŠ å¦‚ä¸‹é¡¹ç›®ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">RSS:</span>  <span class="string">/atom.xml</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure><br>æ‰“å¼€<strong>ç«™ç‚¹é…ç½®</strong>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&quot; &quot;</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span></span><br></pre></td></tr></table></figure></p>
<h2 id="7ã€ç›¸å…³æ–‡ç« æ¨è"><a href="#7ã€ç›¸å…³æ–‡ç« æ¨è" class="headerlink" title="7ã€ç›¸å…³æ–‡ç« æ¨è"></a>7ã€ç›¸å…³æ–‡ç« æ¨è</h2><p>å®‰è£…æ¨èæ–‡ç« çš„æ’ä»¶ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-related-popular-posts --save</span><br></pre></td></tr></table></figure><br><strong>ã€Next8.13.2é…ç½®è¯´æ˜å·²æ›´æ–°æ–°çš„æ’ä»¶ä¾èµ–ã€‘<a href="https://github.com/sergeyzwezdin/hexo-related-posts">æ’ä»¶åœ°å€</a></strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆå¸è½½åå®‰è£…</span></span><br><span class="line">npm uninstall hexo-related-popular-posts -g --save</span><br><span class="line">npm install hexo-related-posts --save-dev</span><br></pre></td></tr></table></figure><br><del><font color='red'>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¹¶ä¿®æ”¹å¦‚ä¸‹é¡¹ç›®ã€å·²å¤±æ•ˆã€‘ï¼š</font></del><br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span> <span class="comment"># Custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span> <span class="comment">#é¦–é¡µä¸æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0  #ç›¸å…³åº¦</span></span><br><span class="line">    <span class="comment">#isDate: false      #æ˜¯å¦æ˜¾ç¤ºæ—¥æœŸ</span></span><br><span class="line">    <span class="comment">#isImage: false     #æ˜¯å¦æ˜¾ç¤ºé…å›¾</span></span><br><span class="line">    <span class="attr">isExcerpt:</span> <span class="literal">false</span>    <span class="comment">#æ˜¯å¦æ˜¾ç¤ºæ‘˜è¦</span></span><br></pre></td></tr></table></figure><br><strong>æ ¹æ®æ–°æ’ä»¶è¯´æ˜ï¼Œé…ç½®å¦‚ä¸‹ï¼š</strong><br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span> <span class="comment"># Custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<p><font color='red'>æµ‹è¯•æœ‰<code>bug</code>,å…¶ç›¸å…³æ¨èåˆ—è¡¨æ–‡ç« è·¯å¾„ä¸å¯¹ï¼Œä¼šè‡ªåŠ¨åŠ ä¸Šå½“å‰é¡µé¢è·¯å¾„ï¼Œé€ æˆæ— æ³•è®¿é—®ã€‚</font><br>ã€2022å¹´11æœˆ10æ—¥æ›´æ–°ã€‘æ¨èæ­¤æ’ä»¶<a href="https://github.com/Sukwants/hexo-related-posts-bysk">hexo-related-posts-bysk</a><br>å¯è§£å†³ç›¸å…³é—®é¢˜ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-related-posts-bysk --save</span><br></pre></td></tr></table></figure><br>åœ¨æ–‡ä»¶ <code>themes/next/layout/_partials/post/post-related.njk</code> é‡Œï¼Œæ›¿æ¢å…¨éƒ¨ä¸º<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">set</span> <span class="string">related_post</span> <span class="string">=</span>  <span class="string">related_posts_bysk(post</span>, &#123;<span class="attr">maxCount:</span> <span class="string">theme.related_posts.max_count</span>, <span class="attr">orderBy:</span> <span class="string">theme.related_posts.order_by</span>, <span class="attr">order:</span> <span class="string">theme.related_posts.order</span>, <span class="attr">excludeTags:</span> <span class="string">theme.related_posts.exclude.tags</span>, <span class="attr">excludeCategories:</span> <span class="string">theme.related_posts.exclude.categories</span>&#125;<span class="string">)</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">if</span> <span class="string">related_post.length</span> <span class="string">&gt;</span> <span class="number">0</span> <span class="string">%</span>&#125;</span><br><span class="line">  <span class="string">&lt;div</span> <span class="string">class=&quot;popular-posts-header&quot;&gt;&#123;&#123;</span> <span class="string">theme.related_posts.title</span> <span class="string">or</span> <span class="string">__(&#x27;post.related_posts&#x27;)</span> <span class="string">&#125;&#125;&lt;/div&gt;</span></span><br><span class="line">  <span class="string">&lt;ul</span> <span class="string">class=&quot;related-posts&quot;&gt;</span></span><br><span class="line">  &#123;<span class="string">%</span> <span class="string">for</span> <span class="string">rl_post</span> <span class="string">in</span> <span class="string">related_post</span> <span class="string">%</span>&#125;</span><br><span class="line">      <span class="string">&lt;li</span> <span class="string">class=&quot;related-posts-item&quot;&gt;&lt;a</span> <span class="string">href=&quot;&#123;&#123;</span> <span class="string">url_for(rl_post.path)</span> <span class="string">&#125;&#125;&quot;&gt;&#123;&#123;</span> <span class="string">rl_post.title</span> <span class="string">&#125;&#125;&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line">  &#123;<span class="string">%</span> <span class="string">endfor</span> <span class="string">%</span>&#125;</span><br><span class="line">  <span class="string">&lt;/ul&gt;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><br>åœ¨æ–‡ä»¶ <code>themes/next/_config.yml</code> é‡Œï¼Œé‡å†™ <code>related_posts</code> ä»¥ä¸‹çš„å†…å®¹ä¸º<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># List related posts, written by Sukwants</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/Sukwants/hexo-related-posts-bysk</span></span><br><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span> <span class="comment"># Custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">max_count:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">&#x27;date&#x27;</span></span><br><span class="line">  <span class="comment">#order: &#x27;positive&#x27;</span></span><br><span class="line">  <span class="attr">order:</span> <span class="string">&#x27;negative&#x27;</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="attr">tags:</span></span><br><span class="line">      <span class="comment">#- &#x27;some tags&#x27;</span></span><br><span class="line">    <span class="attr">categories:</span></span><br><span class="line">      <span class="comment">#- &#x27;some categories&#x27;</span></span><br></pre></td></tr></table></figure><br>ä¿®æ”¹ <code>enable</code> æ¥æ‰“å¼€å’Œå…³é—­è¯¥åŠŸèƒ½ã€‚<br>ä¿®æ”¹ <code>title</code> æ¥è®¾ç½®æ˜¾ç¤ºåœ¨ç›¸å…³æ–‡ç« ä¹‹å‰çš„æ ‡é¢˜ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œå°†ä½¿ç”¨é»˜è®¤æ ‡é¢˜ã€‚<br>ä¿®æ”¹ <code>display_in_home</code> æ¥å†³å®šæ˜¯å¦åœ¨ä¸»é¡µæ˜¾ç¤ºç›¸å…³æ–‡ç« ã€‚<br>ä¿®æ”¹ <code>max_count</code> æ¥è°ƒæ•´ç›¸å…³æ–‡ç« æ•°é‡çš„ä¸Šé™ã€‚<br>ä¿®æ”¹ <code>order_by</code> æ¥è®¾ç½®ç›¸å…³æ–‡ç« çš„æ’åºä¾æ®ã€‚ä½ å¯ä»¥é€‰æ‹© <code>&#39;date&#39;</code>,<code>&#39;updated&#39;</code>,<code>&#39;title&#39;</code>,<code>&#39;random&#39;</code>ã€‚é»˜è®¤é€‰æ‹©ä¸º <code>&#39;date&#39;</code>.<br>é€‰æ‹© <code>order</code> çš„å€¼ï¼Œå¯é€‰å€¼ä¸º <code>&#39;positive&#39;</code>ï¼ˆå‡åºï¼‰å’Œ <code>&#39;negative&#39;</code>ï¼ˆé™åºï¼‰ï¼Œæ¥è®¾ç½®ç›¸å…³æ–‡ç« çš„æ’åˆ—é¡ºåºã€‚é»˜è®¤é€‰æ‹©ä¸º <code>&#39;negative&#39;</code>.<br>åœ¨ <code>exclude</code> ä»¥ä¸‹ï¼Œåœ¨ <code>tags</code> ä»¥ä¸‹åˆ—å‡ºä½ ä¸æƒ³è®©å®ƒå‚ä¸æ–‡ç« ç›¸å…³æ€§è®¡ç®—çš„æ ‡ç­¾ï¼Œåœ¨ <code>categories</code> ä»¥ä¸‹åˆ—å‡ºä½ ä¸æƒ³è®©å®ƒå‚ä¸çš„åˆ†ç±»ã€‚</p>
<h2 id="8ã€é˜…è¯»ç»Ÿè®¡"><a href="#8ã€é˜…è¯»ç»Ÿè®¡" class="headerlink" title="8ã€é˜…è¯»ç»Ÿè®¡"></a>8ã€é˜…è¯»ç»Ÿè®¡</h2><p>å®‰è£…é˜…è¯»æ—¶é•¿ä¾èµ–ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><br>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶<code>_config.next.yml</code>,æ‰¾åˆ°å¹¶å¢åŠ å¦‚ä¸‹é¡¹ç›®ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">5</span>                   <span class="comment"># Average Word Length</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">120</span>                 <span class="comment"># Words Per Minuteï¼ˆæ¯åˆ†é’Ÿé˜…è¯»è¯æ•°ï¼‰</span></span><br></pre></td></tr></table></figure><br>æ‰“å¼€<strong>ç«™ç‚¹é…ç½®</strong>æ–‡ä»¶<code>_config.yml</code>,æ‰¾åˆ°å¹¶å¢åŠ å¦‚ä¸‹é¡¹ç›®ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="comment">#æ–‡ç« å†…æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment">#ç½‘é¡µåº•éƒ¨æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">120</span></span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–ä¼˜åŒ–å¯å‚è€ƒï¼š<a href="https://blog.51cto.com/u_12877374/2853816">ä½¿ç”¨ Github ç©ºé—´æ­å»º Hexo æŠ€æœ¯åšå®¢â€”â€”ä½¿ç”¨NexTä¼˜åŒ–åšå®¢</a></p>
<h2 id="9ã€ç¹ç®€è½¬æ¢"><a href="#9ã€ç¹ç®€è½¬æ¢" class="headerlink" title="9ã€ç¹ç®€è½¬æ¢"></a>9ã€ç¹ç®€è½¬æ¢</h2><p>ä¸‹è½½<code>cn_tw.js</code>æ–‡ä»¶ï¼Œæˆ–è€…å°†ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º<code>cn_tw.js</code>æ”¾åœ¨è·¯å¾„<code>hexoç«™ç‚¹\themes\next\source\js</code>ä¸‹é¢:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¥æºç½‘ç»œï¼Œæ„Ÿè°¢ä½œè€…</span></span><br><span class="line"><span class="keyword">var</span> defaultEncoding = <span class="number">2</span>; <span class="comment">// ç½‘ç«™é»˜è®¤è¯­è¨€ï¼Œ1: ç¹é«”ä¸­æ–‡, 2: ç®€ä½“ä¸­æ–‡</span></span><br><span class="line"><span class="keyword">var</span> translateDelay = <span class="number">0</span>; <span class="comment">//å»¶è¿Ÿæ—¶é—´,è‹¥ä¸åœ¨å‰, è¦è®¾å®šå»¶è¿Ÿç¿»è¯‘æ—¶é—´, å¦‚100è¡¨ç¤º100ms,é»˜è®¤ä¸º0</span></span><br><span class="line"><span class="keyword">var</span> cookieDomain = <span class="string">&quot;https://tding.top/&quot;</span>; <span class="comment">//æ›´æ”¹ä¸ºä½ çš„åšå®¢ç½‘å€</span></span><br><span class="line"><span class="keyword">var</span> msgToTraditionalChinese = <span class="string">&quot;ç¹é«”&quot;</span>; <span class="comment">//æ­¤å¤„å¯ä»¥æ›´æ”¹ä¸ºä½ æƒ³è¦æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line"><span class="keyword">var</span> msgToSimplifiedChinese = <span class="string">&quot;ç®€ä½“&quot;</span>; <span class="comment">//åŒä¸Šï¼Œä½†ä¸¤å¤„å‡ä¸å»ºè®®æ›´æ”¹</span></span><br><span class="line"><span class="keyword">var</span> translateButtonId = <span class="string">&quot;translateLink&quot;</span>; <span class="comment">//é»˜è®¤äº’æ¢id</span></span><br><span class="line"><span class="keyword">var</span> currentEncoding = defaultEncoding;</span><br><span class="line"><span class="keyword">var</span> targetEncodingCookie = <span class="string">&quot;targetEncoding&quot;</span> + cookieDomain.<span class="title function_">replace</span>(<span class="regexp">/\./g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> targetEncoding = (<span class="title function_">getCookie</span>(targetEncodingCookie) == <span class="literal">null</span> ? <span class="attr">defaultEncoding</span>: <span class="title function_">getCookie</span>(targetEncodingCookie));</span><br><span class="line"><span class="keyword">var</span> translateButtonObject;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">translateText</span>(<span class="params">txt</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (txt == <span class="string">&quot;&quot;</span> || txt == <span class="literal">null</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">	<span class="keyword">if</span> (currentEncoding == <span class="number">1</span> &amp;&amp; targetEncoding == <span class="number">2</span>) <span class="keyword">return</span> <span class="title class_">Simplized</span>(txt);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (currentEncoding == <span class="number">2</span> &amp;&amp; targetEncoding == <span class="number">1</span>) <span class="keyword">return</span> <span class="title class_">Traditionalized</span>(txt);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> txt</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">translateBody</span>(<span class="params">fobj</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="title function_">typeof</span>(fobj) == <span class="string">&quot;object&quot;</span>) <span class="keyword">var</span> objs = fobj.<span class="property">childNodes</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">var</span> objs = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">childNodes</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; objs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">var</span> obj = objs.<span class="title function_">item</span>(i);</span><br><span class="line">		<span class="keyword">if</span> (<span class="string">&quot;||BR|HR|TEXTAREA|&quot;</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;|&quot;</span> + obj.<span class="property">tagName</span> + <span class="string">&quot;|&quot;</span>) &gt; <span class="number">0</span> || obj == translateButtonObject) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (obj.<span class="property">title</span> != <span class="string">&quot;&quot;</span> &amp;&amp; obj.<span class="property">title</span> != <span class="literal">null</span>) obj.<span class="property">title</span> = <span class="title function_">translateText</span>(obj.<span class="property">title</span>);</span><br><span class="line">		<span class="keyword">if</span> (obj.<span class="property">alt</span> != <span class="string">&quot;&quot;</span> &amp;&amp; obj.<span class="property">alt</span> != <span class="literal">null</span>) obj.<span class="property">alt</span> = <span class="title function_">translateText</span>(obj.<span class="property">alt</span>);</span><br><span class="line">		<span class="keyword">if</span> (obj.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; obj.<span class="property">value</span> != <span class="string">&quot;&quot;</span> &amp;&amp; obj.<span class="property">type</span> != <span class="string">&quot;text&quot;</span> &amp;&amp; obj.<span class="property">type</span> != <span class="string">&quot;hidden&quot;</span>) obj.<span class="property">value</span> = <span class="title function_">translateText</span>(obj.<span class="property">value</span>);</span><br><span class="line">		<span class="keyword">if</span> (obj.<span class="property">nodeType</span> == <span class="number">3</span>) obj.<span class="property">data</span> = <span class="title function_">translateText</span>(obj.<span class="property">data</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="title function_">translateBody</span>(obj)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">translatePage</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (targetEncoding == <span class="number">1</span>) &#123;</span><br><span class="line">		currentEncoding = <span class="number">1</span>;</span><br><span class="line">		targetEncoding = <span class="number">2</span>;</span><br><span class="line">		translateButtonObject.<span class="property">innerHTML</span> = msgToTraditionalChinese;</span><br><span class="line">		<span class="title function_">setCookie</span>(targetEncodingCookie, targetEncoding, <span class="number">7</span>);</span><br><span class="line">		<span class="title function_">translateBody</span>()</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetEncoding == <span class="number">2</span>) &#123;</span><br><span class="line">		currentEncoding = <span class="number">2</span>;</span><br><span class="line">		targetEncoding = <span class="number">1</span>;</span><br><span class="line">		translateButtonObject.<span class="property">innerHTML</span> = msgToSimplifiedChinese;</span><br><span class="line">		<span class="title function_">setCookie</span>(targetEncodingCookie, targetEncoding, <span class="number">7</span>);</span><br><span class="line">		<span class="title function_">translateBody</span>()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">JTPYStr</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;ä¸‡ä¸ä¸‘ä¸“ä¸šä¸›ä¸œä¸ä¸¢ä¸¤ä¸¥ä¸§ä¸ªä¸¬ä¸°ä¸´ä¸ºä¸½ä¸¾ä¹ˆä¹‰ä¹Œä¹ä¹”ä¹ ä¹¡ä¹¦ä¹°ä¹±äº‰äºäºäº‘äº˜äºšäº§äº©äº²äºµäº¸äº¿ä»…ä»ä»‘ä»“ä»ªä»¬ä»·ä¼—ä¼˜ä¼™ä¼šä¼›ä¼ä¼Ÿä¼ ä¼¤ä¼¥ä¼¦ä¼§ä¼ªä¼«ä½“ä½™ä½£ä½¥ä¾ ä¾£ä¾¥ä¾¦ä¾§ä¾¨ä¾©ä¾ªä¾¬ä¿£ä¿¦ä¿¨ä¿©ä¿ªä¿­å€ºå€¾å¬å»å¾å¿å‚¥å‚§å‚¨å‚©å„¿å…‘å…–å…šå…°å…³å…´å…¹å…»å…½å†å†…å†ˆå†Œå†™å†›å†œå†¢å†¯å†²å†³å†µå†»å‡€å‡„å‡‰å‡Œå‡å‡‘å‡›å‡ å‡¤å‡«å‡­å‡¯å‡»å‡¼å‡¿åˆåˆ’åˆ˜åˆ™åˆšåˆ›åˆ åˆ«åˆ¬åˆ­åˆ½åˆ¿å‰€å‰‚å‰å‰‘å‰¥å‰§åŠåŠåŠ¡åŠ¢åŠ¨åŠ±åŠ²åŠ³åŠ¿å‹‹å‹å‹šåŒ€åŒ¦åŒ®åŒºåŒ»ååå•å–å¢å¤å§å«å´åºå‚å…å†å‰å‹åŒåå•å¢å£å¦å¨å©å®å¿å‚å†å‡åŒå‘å˜å™å å¶å·å¹å½ååå“å•å—å£å¨å¬å¯å´å‘’å‘“å‘•å‘–å‘—å‘˜å‘™å‘›å‘œå’å’”å’™å’›å’å’¤å’´å’¸å“Œå“å“‘å“’å““å“”å“•å“—å“™å“œå“å“Ÿå”›å”å” å”¡å”¢å”£å”¤å”¿å•§å•¬å•­å•®å•°å•´å•¸å–·å–½å–¾å—«å‘µå—³å˜˜å˜¤å˜±å™œå™¼åš£åš¯å›¢å›­å›±å›´å›µå›½å›¾åœ†åœ£åœ¹åœºå‚åå—åšå›åœåååŸå å„å…å†å’å¦å§å©å«å­å¯å±å²å´åŸ˜åŸ™åŸšåŸåŸ¯å ‘å •å¡†å¢™å£®å£°å£³å£¶å£¸å¤„å¤‡å¤å¤Ÿå¤´å¤¸å¤¹å¤ºå¥å¥‚å¥‹å¥–å¥¥å¦†å¦‡å¦ˆå¦©å¦ªå¦«å§—å§œå¨„å¨…å¨†å¨‡å¨ˆå¨±å¨²å¨´å©³å©´å©µå©¶åªªå«’å«”å«±å¬·å­™å­¦å­ªå®å®å®å® å®¡å®ªå®«å®½å®¾å¯å¯¹å¯»å¯¼å¯¿å°†å°”å°˜å°§å°´å°¸å°½å±‚å±ƒå±‰å±Šå±å±¡å±¦å±¿å²å²‚å²–å²—å²˜å²™å²šå²›å²­å²³å²½å²¿å³ƒå³„å³¡å³£å³¤å³¥å³¦å´‚å´ƒå´„å´­åµ˜åµšåµ›åµåµ´å·…å·©å·¯å¸å¸…å¸ˆå¸å¸å¸˜å¸œå¸¦å¸§å¸®å¸±å¸»å¸¼å¹‚å¹å¹²å¹¶å¹¿åº„åº†åºåº‘åº“åº”åº™åºåºŸåº¼å»ªå¼€å¼‚å¼ƒå¼ å¼¥å¼ªå¼¯å¼¹å¼ºå½’å½“å½•å½Ÿå½¦å½»å¾„å¾•å¾¡å¿†å¿å¿§å¿¾æ€€æ€æ€‚æ€ƒæ€„æ€…æ€†æ€œæ€»æ€¼æ€¿æ‹æ³æ¶æ¸æ¹æºæ»æ¼æ½æ‚¦æ‚«æ‚¬æ‚­æ‚¯æƒŠæƒ§æƒ¨æƒ©æƒ«æƒ¬æƒ­æƒ®æƒ¯æ„æ„ æ„¤æ„¦æ„¿æ…‘æ…­æ†·æ‡‘æ‡’æ‡”æˆ†æˆ‹æˆæˆ—æˆ˜æˆ¬æˆ·æ‰æ‰‘æ‰¦æ‰§æ‰©æ‰ªæ‰«æ‰¬æ‰°æŠšæŠ›æŠŸæŠ æŠ¡æŠ¢æŠ¤æŠ¥æ‹…æ‹Ÿæ‹¢æ‹£æ‹¥æ‹¦æ‹§æ‹¨æ‹©æŒ‚æŒšæŒ›æŒœæŒæŒæŒŸæŒ æŒ¡æŒ¢æŒ£æŒ¤æŒ¥æŒ¦ææŸæ¡æ¢æ£æ®æ»æ³æ´æ·æ¸æºæ¼æ¸æ½æ¿æ€ææ‚æ…æºæ‘„æ‘…æ‘†æ‘‡æ‘ˆæ‘Šæ’„æ’‘æ’µæ’·æ’¸æ’ºæ“æ”’æ•Œæ•›æ•°æ–‹æ–“æ–—æ–©æ–­æ— æ—§æ—¶æ—·æ—¸æ˜™æ˜¼æ˜½æ˜¾æ™‹æ™’æ™“æ™”æ™•æ™–æš‚æš§æœ­æœ¯æœ´æœºæ€æ‚æƒæ¡æ¥æ¨æ©æ°ææ„ææ¢æ£æ¥æ§æ¨æªæ«æ­æŸœæŸ æŸ½æ €æ …æ ‡æ ˆæ ‰æ Šæ ‹æ Œæ æ æ ‘æ –æ ·æ ¾æ¡Šæ¡ æ¡¡æ¡¢æ¡£æ¡¤æ¡¥æ¡¦æ¡§æ¡¨æ¡©æ¢¦æ¢¼æ¢¾æ£€æ£‚æ¤æ¤Ÿæ¤ æ¤¤æ¤­æ¥¼æ¦„æ¦‡æ¦ˆæ¦‰æ§šæ§›æ§Ÿæ§ æ¨ªæ¨¯æ¨±æ©¥æ©±æ©¹æ©¼æªæª©æ¬¢æ¬¤æ¬§æ­¼æ®æ®‡æ®‹æ®’æ®“æ®šæ®¡æ®´æ¯æ¯‚æ¯•æ¯™æ¯¡æ¯µæ°‡æ°”æ°¢æ°©æ°²æ±‡æ±‰æ±¡æ±¤æ±¹æ²“æ²Ÿæ²¡æ²£æ²¤æ²¥æ²¦æ²§æ²¨æ²©æ²ªæ²µæ³æ³ªæ³¶æ³·æ³¸æ³ºæ³»æ³¼æ³½æ³¾æ´æ´’æ´¼æµƒæµ…æµ†æµ‡æµˆæµ‰æµŠæµ‹æµæµæµæµæµ‘æµ’æµ“æµ”æµ•æ¶‚æ¶Œæ¶›æ¶æ¶æ¶Ÿæ¶ æ¶¡æ¶¢æ¶£æ¶¤æ¶¦æ¶§æ¶¨æ¶©æ·€æ¸Šæ¸Œæ¸æ¸æ¸æ¸‘æ¸”æ¸–æ¸—æ¸©æ¸¸æ¹¾æ¹¿æºƒæº…æº†æº‡æ»—æ»šæ»æ»Ÿæ» æ»¡æ»¢æ»¤æ»¥æ»¦æ»¨æ»©æ»ªæ¼¤æ½†æ½‡æ½‹æ½æ½œæ½´æ¾œæ¿‘æ¿’çç­ç¯çµç¾ç¿ç‚€ç‚‰ç‚–ç‚œç‚ç‚¹ç‚¼ç‚½çƒçƒ‚çƒƒçƒ›çƒŸçƒ¦çƒ§çƒ¨çƒ©çƒ«çƒ¬çƒ­ç„•ç„–ç„˜ç……ç…³ç†˜çˆ±çˆ·ç‰ç‰¦ç‰µç‰ºçŠŠçŠŸçŠ¶çŠ·çŠ¸çŠ¹ç‹ˆç‹ç‹ç‹ç‹¬ç‹­ç‹®ç‹¯ç‹°ç‹±ç‹²çŒƒçŒçŒ•çŒ¡çŒªçŒ«çŒ¬çŒ®ç­ç‘ç™çšç›ç®ç¯ç°ç±çºç‰ççç‘ç°ç²çççç¼ç‘¶ç‘·ç’‡ç’ç“’ç“®ç“¯ç”µç”»ç•…ç•²ç•´ç––ç–—ç–Ÿç– ç–¡ç–¬ç–®ç–¯ç–±ç–´ç—ˆç—‰ç—’ç—–ç—¨ç—ªç—«ç—´ç˜…ç˜†ç˜—ç˜˜ç˜ªç˜«ç˜¾ç˜¿ç™ç™£ç™«ç™¯çš‘çš±çš²ç›ç›ç›‘ç›–ç›—ç›˜çœçœ¦çœ¬ç€ççç‘ç’ç©çŸ«çŸ¶çŸ¾çŸ¿ç €ç ç –ç —ç šç œç ºç »ç ¾ç¡€ç¡ç¡…ç¡•ç¡–ç¡—ç¡™ç¡šç¡®ç¡·ç¢ç¢›ç¢œç¢±ç¢¹ç£™ç¤¼ç¥ç¥¢ç¥¯ç¥·ç¥¸ç¦€ç¦„ç¦…ç¦»ç§ƒç§†ç§ç§¯ç§°ç§½ç§¾ç¨†ç¨ç¨£ç¨³ç©‘ç©·çªƒçªçª‘çªœçªçª¥çª¦çª­ç«–ç«ç¬ƒç¬‹ç¬”ç¬•ç¬ºç¬¼ç¬¾ç­‘ç­šç­›ç­œç­ç­¹ç­¾ç®€ç®“ç®¦ç®§ç®¨ç®©ç®ªç®«ç¯‘ç¯“ç¯®ç¯±ç°–ç±ç±´ç±»ç±¼ç²œç²ç²¤ç²ªç²®ç³ç³‡ç´§çµ·çºŸçº çº¡çº¢çº£çº¤çº¥çº¦çº§çº¨çº©çºªçº«çº¬çº­çº®çº¯çº°çº±çº²çº³çº´çºµçº¶çº·çº¸çº¹çººçº»çº¼çº½çº¾çº¿ç»€ç»ç»‚ç»ƒç»„ç»…ç»†ç»‡ç»ˆç»‰ç»Šç»‹ç»Œç»ç»ç»ç»ç»‘ç»’ç»“ç»”ç»•ç»–ç»—ç»˜ç»™ç»šç»›ç»œç»ç»ç»Ÿç» ç»¡ç»¢ç»£ç»¤ç»¥ç»¦ç»§ç»¨ç»©ç»ªç»«ç»¬ç»­ç»®ç»¯ç»°ç»±ç»²ç»³ç»´ç»µç»¶ç»·ç»¸ç»¹ç»ºç»»ç»¼ç»½ç»¾ç»¿ç¼€ç¼ç¼‚ç¼ƒç¼„ç¼…ç¼†ç¼‡ç¼ˆç¼‰ç¼Šç¼‹ç¼Œç¼ç¼ç¼ç¼ç¼‘ç¼’ç¼“ç¼”ç¼•ç¼–ç¼—ç¼˜ç¼™ç¼šç¼›ç¼œç¼ç¼ç¼Ÿç¼ ç¼¡ç¼¢ç¼£ç¼¤ç¼¥ç¼¦ç¼§ç¼¨ç¼©ç¼ªç¼«ç¼¬ç¼­ç¼®ç¼¯ç¼°ç¼±ç¼²ç¼³ç¼´ç¼µç½‚ç½‘ç½—ç½šç½¢ç½´ç¾ç¾Ÿç¾¡ç¿˜ç¿™ç¿šè€¢è€§è€¸è€»è‚è‹èŒèè”è©èªè‚ƒè‚ è‚¤è‚·è‚¾è‚¿èƒ€èƒèƒ†èƒœèƒ§èƒ¨èƒªèƒ«èƒ¶è„‰è„è„è„è„‘è„“è„”è„šè„±è„¶è„¸è…Šè…Œè…˜è…­è…»è…¼è…½è…¾è†‘è‡œèˆ†èˆ£èˆ°èˆ±èˆ»è‰°è‰³è‰¹è‰ºèŠ‚èŠˆèŠ—èŠœèŠ¦è‹è‹‡è‹ˆè‹‹è‹Œè‹è‹è‹è‹˜è‹¹èŒèŒèŒ‘èŒ”èŒ•èŒ§è†èè™èšè›èœèèŸè è¡è£è¤è¥è¦è§è¨è©èªè«è¬è­è®è¯è…èœè±è²è³è´è¶è·è¸è¹èºè¼èšèè¤è¥è¦è§è¨è‘±è’‡è’‰è’‹è’Œè“è“Ÿè“ è“£è“¥è“¦è”·è”¹è”ºè”¼è•²è•´è–®è—è—“è™è™‘è™šè™«è™¬è™®è™½è™¾è™¿èš€èšèš‚èš•èšèš¬è›Šè›è›è›®è›°è›±è›²è›³è›´èœ•èœ—èœ¡è‡èˆè‰èè¼è¾è€è¨èŸè¡…è¡”è¡¥è¡¬è¡®è¢„è¢…è¢†è¢œè¢­è¢¯è£…è£†è£ˆè£¢è££è£¤è£¥è¤›è¤´è¥è¥•è§è§‚è§ƒè§„è§…è§†è§‡è§ˆè§‰è§Šè§‹è§Œè§è§è§è§è§‘è§è§¦è§¯è©Ÿèª‰èªŠè® è®¡è®¢è®£è®¤è®¥è®¦è®§è®¨è®©è®ªè®«è®­è®®è®¯è®°è®±è®²è®³è®´è®µè®¶è®·è®¸è®¹è®ºè®»è®¼è®½è®¾è®¿è¯€è¯è¯‚è¯ƒè¯„è¯…è¯†è¯‡è¯ˆè¯‰è¯Šè¯‹è¯Œè¯è¯è¯è¯è¯‘è¯’è¯“è¯”è¯•è¯–è¯—è¯˜è¯™è¯šè¯›è¯œè¯è¯è¯Ÿè¯ è¯¡è¯¢è¯£è¯¤è¯¥è¯¦è¯§è¯¨è¯©è¯ªè¯«è¯¬è¯­è¯®è¯¯è¯°è¯±è¯²è¯³è¯´è¯µè¯¶è¯·è¯¸è¯¹è¯ºè¯»è¯¼è¯½è¯¾è¯¿è°€è°è°‚è°ƒè°„è°…è°†è°‡è°ˆè°Šè°‹è°Œè°è°è°è°è°‘è°’è°“è°”è°•è°–è°—è°˜è°™è°šè°›è°œè°è°è°Ÿè° è°¡è°¢è°£è°¤è°¥è°¦è°§è°¨è°©è°ªè°«è°¬è°­è°®è°¯è°°è°±è°²è°³è°´è°µè°¶è°·è±®è´è´è´Ÿè´ è´¡è´¢è´£è´¤è´¥è´¦è´§è´¨è´©è´ªè´«è´¬è´­è´®è´¯è´°è´±è´²è´³è´´è´µè´¶è´·è´¸è´¹è´ºè´»è´¼è´½è´¾è´¿èµ€èµèµ‚èµƒèµ„èµ…èµ†èµ‡èµˆèµ‰èµŠèµ‹èµŒèµèµèµèµèµ‘èµ’èµ“èµ”èµ•èµ–èµ—èµ˜èµ™èµšèµ›èµœèµèµèµŸèµ èµ¡èµ¢èµ£èµªèµµèµ¶è¶‹è¶±è¶¸è·ƒè·„è·–è·è·µè·¶è··è·¸è·¹è·»è¸Šè¸Œè¸ªè¸¬è¸¯è¹‘è¹’è¹°è¹¿èºèºœèº¯è½¦è½§è½¨è½©è½ªè½«è½¬è½­è½®è½¯è½°è½±è½²è½³è½´è½µè½¶è½·è½¸è½¹è½ºè½»è½¼è½½è½¾è½¿è¾€è¾è¾‚è¾ƒè¾„è¾…è¾†è¾‡è¾ˆè¾‰è¾Šè¾‹è¾Œè¾è¾è¾è¾è¾‘è¾’è¾“è¾”è¾•è¾–è¾—è¾˜è¾™è¾šè¾è¾©è¾«è¾¹è¾½è¾¾è¿è¿‡è¿ˆè¿è¿˜è¿™è¿›è¿œè¿è¿è¿Ÿè¿©è¿³è¿¹é€‚é€‰é€Šé€’é€¦é€»é—é¥é‚“é‚é‚¬é‚®é‚¹é‚ºé‚»éƒéƒ„éƒéƒéƒ‘éƒ“éƒ¦éƒ§éƒ¸é…é…¦é…±é…½é…¾é…¿é‡Šé‡Œé‰…é‰´éŠ®éŒ¾é’†é’‡é’ˆé’‰é’Šé’‹é’Œé’é’é’é’é’‘é’’é’“é’”é’•é’–é’—é’˜é’™é’šé’›é’é’é’Ÿé’ é’¡é’¢é’£é’¤é’¥é’¦é’§é’¨é’©é’ªé’«é’¬é’­é’®é’¯é’°é’±é’²é’³é’´é’µé’¶é’·é’¸é’¹é’ºé’»é’¼é’½é’¾é’¿é“€é“é“‚é“ƒé“„é“…é“†é“ˆé“‰é“Šé“‹é“é“é“é“é“‘é“’é“•é“—é“˜é“™é“šé“›é“œé“é“é“Ÿé“ é“¡é“¢é“£é“¤é“¥é“¦é“§é“¨é“ªé“«é“¬é“­é“®é“¯é“°é“±é“²é“³é“´é“µé“¶é“·é“¸é“¹é“ºé“»é“¼é“½é“¾é“¿é”€é”é”‚é”ƒé”„é”…é”†é”‡é”ˆé”‰é”Šé”‹é”Œé”é”é”é”é”‘é”’é”“é””é”•é”–é”—é”™é”šé”œé”é”Ÿé” é”¡é”¢é”£é”¤é”¥é”¦é”¨é”©é”«é”¬é”­é”®é”¯é”°é”±é”²é”³é”´é”µé”¶é”·é”¸é”¹é”ºé”»é”¼é”½é”¾é”¿é•€é•é•‚é•ƒé•†é•‡é•ˆé•‰é•Šé•Œé•é•é•é•é•‘é•’é••é•–é•—é•™é•šé•›é•œé•é•é•Ÿé• é•¡é•¢é•£é•¤é•¥é•¦é•§é•¨é•©é•ªé•«é•¬é•­é•®é•¯é•°é•±é•²é•³é•´é•¶é•¿é—¨é—©é—ªé—«é—¬é—­é—®é—¯é—°é—±é—²é—³é—´é—µé—¶é—·é—¸é—¹é—ºé—»é—¼é—½é—¾é—¿é˜€é˜é˜‚é˜ƒé˜„é˜…é˜†é˜‡é˜ˆé˜‰é˜Šé˜‹é˜Œé˜é˜é˜é˜é˜‘é˜’é˜“é˜”é˜•é˜–é˜—é˜˜é˜™é˜šé˜›é˜Ÿé˜³é˜´é˜µé˜¶é™…é™†é™‡é™ˆé™‰é™•é™§é™¨é™©éšéšéš¶éš½éš¾é›é› é›³é›¾éœéœ‰éœ­é“é™é¥é‘é’é¯é´éŸ¦éŸ§éŸ¨éŸ©éŸªéŸ«éŸ¬éŸµé¡µé¡¶é¡·é¡¸é¡¹é¡ºé¡»é¡¼é¡½é¡¾é¡¿é¢€é¢é¢‚é¢ƒé¢„é¢…é¢†é¢‡é¢ˆé¢‰é¢Šé¢‹é¢Œé¢é¢é¢é¢é¢‘é¢’é¢“é¢”é¢•é¢–é¢—é¢˜é¢™é¢šé¢›é¢œé¢é¢é¢Ÿé¢ é¢¡é¢¢é¢£é¢¤é¢¥é¢¦é¢§é£é£é£é£‘é£’é£“é£”é£•é£–é£—é£˜é£™é£šé£é£¨é¤é¥¤é¥¥é¥¦é¥§é¥¨é¥©é¥ªé¥«é¥¬é¥­é¥®é¥¯é¥°é¥±é¥²é¥³é¥´é¥µé¥¶é¥·é¥¸é¥¹é¥ºé¥»é¥¼é¥½é¥¾é¥¿é¦€é¦é¦‚é¦ƒé¦„é¦…é¦†é¦‡é¦ˆé¦‰é¦Šé¦‹é¦Œé¦é¦é¦é¦é¦‘é¦’é¦“é¦”é¦•é©¬é©­é©®é©¯é©°é©±é©²é©³é©´é©µé©¶é©·é©¸é©¹é©ºé©»é©¼é©½é©¾é©¿éª€éªéª‚éªƒéª„éª…éª†éª‡éªˆéª‰éªŠéª‹éªŒéªéªéªéªéª‘éª’éª“éª”éª•éª–éª—éª˜éª™éªšéª›éªœéªéªéªŸéª éª¡éª¢éª£éª¤éª¥éª¦éª§é«…é«‹é«Œé¬“é­‡é­‰é±¼é±½é±¾é±¿é²€é²é²‚é²„é²…é²†é²‡é²ˆé²‰é²Šé²‹é²Œé²é²é²é²é²‘é²’é²“é²”é²•é²–é²—é²˜é²™é²šé²›é²œé²é²é²Ÿé² é²¡é²¢é²£é²¤é²¥é²¦é²§é²¨é²©é²ªé²«é²¬é²­é²®é²¯é²°é²±é²²é²³é²´é²µé²¶é²·é²¸é²¹é²ºé²»é²¼é²½é²¾é²¿é³€é³é³‚é³ƒé³„é³…é³†é³‡é³ˆé³‰é³Šé³‹é³Œé³é³é³é³é³‘é³’é³“é³”é³•é³–é³—é³˜é³™é³›é³œé³é³é³Ÿé³ é³¡é³¢é³£é¸Ÿé¸ é¸¡é¸¢é¸£é¸¤é¸¥é¸¦é¸§é¸¨é¸©é¸ªé¸«é¸¬é¸­é¸®é¸¯é¸°é¸±é¸²é¸³é¸´é¸µé¸¶é¸·é¸¸é¸¹é¸ºé¸»é¸¼é¸½é¸¾é¸¿é¹€é¹é¹‚é¹ƒé¹„é¹…é¹†é¹‡é¹ˆé¹‰é¹Šé¹‹é¹Œé¹é¹é¹é¹é¹‘é¹’é¹“é¹”é¹•é¹–é¹—é¹˜é¹šé¹›é¹œé¹é¹é¹Ÿé¹ é¹¡é¹¢é¹£é¹¤é¹¥é¹¦é¹§é¹¨é¹©é¹ªé¹«é¹¬é¹­é¹¯é¹°é¹±é¹²é¹³é¹´é¹¾éº¦éº¸é»„é»‰é»¡é»©é»ªé»¾é¼‹é¼Œé¼é¼—é¼¹é½„é½é½‘é½¿é¾€é¾é¾‚é¾ƒé¾„é¾…é¾†é¾‡é¾ˆé¾‰é¾Šé¾‹é¾Œé¾™é¾šé¾›é¾Ÿå¿—åˆ¶å’¨åªé‡Œç³»èŒƒæ¾æ²¡å°å°é—¹é¢å‡†é’Ÿåˆ«é—²å¹²å°½è„æ‹¼&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">FTPYStr</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;è¬èˆ‡é†œå°ˆæ¥­å¢æ±çµ²ä¸Ÿå…©åš´å–ªå€‹çˆ¿è±è‡¨ç‚ºéº—èˆ‰éº¼ç¾©çƒæ¨‚å–¬ç¿’é„‰æ›¸è²·äº‚çˆ­æ–¼è™§é›²äº™äºç”¢ç•è¦ªè¤»åš²å„„åƒ…å¾ä¾–å€‰å„€å€‘åƒ¹çœ¾å„ªå¤¥æœƒå‚´å‚˜å‰å‚³å‚·å€€å€«å‚–å½ä½‡é«”é¤˜å‚­åƒ‰ä¿ ä¾¶åƒ¥åµå´åƒ‘å„ˆå„•å„‚ä¿å„”å„¼å€†å„·å„‰å‚µå‚¾å‚¯åƒ‚åƒ¨å„Ÿå„»å„å„²å„ºå…’å…Œå…—é»¨è˜­é—œèˆˆèŒ²é¤Šç¸å›…å…§å²¡å†Šå¯«è»è¾²å¡šé¦®è¡æ±ºæ³å‡æ·¨æ·’æ¶¼æ·©æ¸›æ¹Šå‡œå¹¾é³³é³§æ†‘å‡±æ“Šæ°¹é‘¿èŠ»åŠƒåŠ‰å‰‡å‰›å‰µåˆªåˆ¥å‰—å‰„åŠŠåŠŒå‰´åŠ‘å‰®åŠå‰åŠ‡å‹¸è¾¦å‹™å‹±å‹•å‹µå‹å‹å‹¢å‹³çŒ›å‹©å‹»åŒ­åŒ±å€é†«è¯å”å–®è³£ç›§é¹µè‡¥è¡›å»å·¹å» å»³æ›†å²å£“å­å™å»å»‚å´å»ˆå»šå»„å»ç¸£åƒé‰é†é›™ç™¼è®Šæ•˜ç–Šè‘‰è™Ÿæ­å˜°ç±²å¾Œåš‡å‘‚å—å”šå™¸è½å•Ÿå³å˜¸å›ˆå˜”åš¦å”„å“¡å’¼å—†å—šè© å“¢åš¨åš€å™å’å™…é¹¹å‘±éŸ¿å•å™ å˜µå—¶å™¦å˜©å™²åšŒå™¥å–²å˜œå—Šå˜®å•¢å—©å”•å–šå‘¼å˜–å—‡å›€é½§å›‰å˜½å˜¯å™´å˜åš³å›å—¬å™¯å™“åš¶å›‘åš•åŠˆå›‚è¬”åœ˜åœ’å›ªåœåœ‡åœ‹åœ–åœ“è–å£™å ´é˜ªå£å¡Šå …å£‡å£¢å£©å¡¢å¢³å¢œå£Ÿå£Ÿå£šå£˜å¢¾å°å Šå¢ŠåŸ¡å¢¶å£‹å¡å –å¡’å¡¤å å¢Šåµå¡¹å¢®å£ªç‰†å£¯è²æ®¼å£ºå£¼è™•å‚™è¤‡å¤ é ­èª‡å¤¾å¥ªå¥©å¥å¥®çå¥§å¦å©¦åª½å«µå«—åª¯å§è–‘å©å©­å¬ˆå¬Œå­Œå¨›åª§å«»å«¿å¬°å¬‹å¬¸åª¼å¬¡å¬ªå¬™å¬¤å­«å­¸å­¿å¯§å¯¶å¯¦å¯µå¯©æ†²å®®å¯¬è³“å¯¢å°å°‹å°å£½å°‡çˆ¾å¡µå ¯å°·å±ç›¡å±¤å±­å±œå±†å±¬å±¢å±¨å¶¼æ­²è±ˆå¶‡å´—å³´å¶´åµå³¶å¶ºå¶½å´ å·‹å¶¨å¶§å³½å¶¢å¶ å´¢å·’å¶—å´å¶®å¶„å¶¸å¶”å´³å¶è„Šå·”éå·°å¹£å¸¥å¸«å¹ƒå¸³ç°¾å¹Ÿå¸¶å¹€å¹«å¹¬å¹˜å¹—å†ªè¥†å¹¹ä¸¦å»£èŠæ…¶å»¬å»¡åº«æ‡‰å»Ÿé¾å»¢å»å»©é–‹ç•°æ£„å¼µå½Œå¼³å½å½ˆå¼·æ­¸ç•¶éŒ„å½ å½¥å¾¹å¾‘å¾ ç¦¦æ†¶æ‡ºæ†‚æ„¾æ‡·æ…‹æ…«æ†®æ…ªæ‚µæ„´æ†ç¸½æ‡Ÿæ‡Œæˆ€æ‡‡æƒ¡æ…Ÿæ‡¨æ„·æƒ»æƒ±æƒ²æ‚…æ„¨æ‡¸æ…³æ†«é©šæ‡¼æ…˜æ‡²æ†Šæ„œæ…šæ†šæ…£æ¹£æ…æ†¤æ†’é¡˜æ‡¾æ†–æ€µæ‡£æ‡¶æ‡æˆ‡æˆ”æˆ²æˆ§æˆ°æˆ©æˆ¶ç´®æ’²æ‰¡åŸ·æ“´æ«æƒæšæ“¾æ’«æ‹‹æ‘¶æ‘³æ„æ¶è­·å ±æ“”æ“¬æ”æ€æ“æ””æ“°æ’¥æ“‡æ›æ‘¯æ”£æ—æ’¾æ’»æŒ¾æ’“æ“‹æ’Ÿæ™æ“ æ®æ’æ’ˆææ’¿æ›æ—æ“šæ’šæ“„æ‘‘æ“²æ’£æ‘»æ‘œæ‘£æ”¬æ’³æ”™æ“±æ‘Ÿæ”ªæ”œæ”æ”„æ“ºæ–æ“¯æ”¤æ”–æ’æ”†æ“·æ“¼æ”›æ“»æ”¢æ•µæ–‚æ•¸é½‹æ–•é¬¥æ–¬æ–·ç„¡èˆŠæ™‚æ› æš˜æ›‡æ™æ›¨é¡¯æ™‰æ›¬æ›‰æ›„æšˆæš‰æš«æ›–åŠ„è¡“æ¨¸æ©Ÿæ®ºé›œæ¬Šæ¢ä¾†æ¥Šæ¦ªå‚‘æ¥µæ§‹æ¨…æ¨æ£—æ«ªæ¢˜æ£–æ§æ¥“æ¢Ÿæ«ƒæª¸æª‰æ¢”æŸµæ¨™æ£§æ«›æ«³æ£Ÿæ«¨æ«Ÿæ¬„æ¨¹æ£²æ¨£æ¬’æ£¬æ¤æ©ˆæ¥¨æª”æ¦¿æ©‹æ¨ºæªœæ§³æ¨å¤¢æª®æ£¶æª¢æ¬æ§¨æ«æ§§æ¬æ©¢æ¨“æ¬–æ«¬æ«šæ«¸æªŸæª»æª³æ«§æ©«æª£æ«»æ««æ«¥æ«“æ«ç°·æªæ­¡æ­Ÿæ­æ®²æ­¿æ®¤æ®˜æ®æ®®æ®«æ®¯æ¯†æ¯€è½‚ç•¢æ–ƒæ°ˆæ¯¿æ°Œæ°£æ°«æ°¬æ°³å½™æ¼¢æ±™æ¹¯æ´¶éæºæ²’çƒæ¼šç€æ·ªæ»„æ¸¢æºˆæ»¬æ¿”æ¿˜æ·šæ¾©ç€§ç€˜æ¿¼ç€‰æ½‘æ¾¤æ¶‡æ½”ç‘çªªæµ¹æ·ºæ¼¿æ¾†æ¹æº®æ¿æ¸¬æ¾®æ¿Ÿç€æ»»æ¸¾æ»¸æ¿ƒæ½¯æ¿œå¡—æ¹§æ¿¤æ¾‡æ·¶æ¼£æ½¿æ¸¦æº³æ¸™æ»Œæ½¤æ¾—æ¼²æ¾€æ¾±æ·µæ·¥æ¼¬ç€†æ¼¸æ¾ æ¼ç€‹æ»²æº«éŠç£æ¿•æ½°æ¿ºæ¼µæ¼Šæ½·æ»¾æ»¯ç©ç„æ»¿ç€…æ¿¾æ¿«ç¤æ¿±ç˜æ¾¦æ¿«ç€ ç€Ÿç€²æ¿°æ½›ç€¦ç€¾ç€¨ç€•çæ»…ç‡ˆéˆç½ç‡¦ç…¬çˆç‡‰ç…’ç†—é»ç…‰ç†¾çˆçˆ›çƒ´ç‡­ç…™ç…©ç‡’ç‡ç‡´ç‡™ç‡¼ç†±ç…¥ç‡œç‡¾ç…†ç³Šæºœæ„›çˆºç‰˜çŠ›ç‰½çŠ§çŠ¢å¼·ç‹€ç·ççŒ¶ç‹½éº…ç®ç°ç¨ç‹¹ç…çªçŒ™ç„çŒ»ç«çµç¼ç€è±¬è²“èŸç»çºç’£ç’µç‘’ç‘ªç‘‹ç’°ç¾ç‘²ç’½ç‘‰ç¨çºç“ç’«ç¿ç’¡ç’‰ç‘£ç“Šç‘¤ç’¦ç’¿ç“”ç“šç”•ç”Œé›»ç•«æš¢ä½˜ç–‡ç™¤ç™‚ç˜§ç™˜ç˜é¬ç˜¡ç˜‹çš°å±™ç™°ç—™ç™¢ç˜‚ç™†ç˜“ç™‡ç™¡ç™‰ç˜®ç˜ç˜ºç™Ÿç™±ç™®ç™­ç™©ç™¬ç™²è‡’çššçšºçš¸ç›é¹½ç›£è“‹ç›œç›¤ç˜çœ¥çŸ“è‘—çœçç¼ççŸšçŸ¯ç£¯ç¤¬ç¤¦ç¢­ç¢¼ç£šç¡¨ç¡¯ç¢¸ç¤ªç¤±ç¤«ç¤ç¡œçŸ½ç¢©ç¡¤ç£½ç£‘ç¤„ç¢ºé¹¼ç¤™ç£§ç££å ¿é•Ÿæ»¾ç¦®ç¦•ç¦°ç¦ç¦±ç¦ç¨Ÿç¥¿ç¦ªé›¢ç¦¿ç¨ˆç¨®ç©ç¨±ç©¢ç© ç©­ç¨…ç©Œç©©ç©¡çª®ç«Šç«…çª¯ç«„çª©çªºç«‡çª¶è±ç«¶ç¯¤ç­ç­†ç­§ç®‹ç± ç±©ç¯‰ç¯³ç¯©ç°¹ç®ç±Œç°½ç°¡ç±™ç°€ç¯‹ç±œç±®ç°ç°«ç°£ç°ç±ƒç±¬ç±ªç±Ÿç³´é¡ç§ˆç³¶ç³²ç²µç³ç³§ç³é¤±ç·Šç¸¶ç³¸ç³¾ç´†ç´…ç´‚çº–ç´‡ç´„ç´šç´ˆçºŠç´€ç´‰ç·¯ç´œç´˜ç´”ç´•ç´—ç¶±ç´ç´ç¸±ç¶¸ç´›ç´™ç´‹ç´¡ç´µç´–ç´ç´“ç·šç´ºçµç´±ç·´çµ„ç´³ç´°ç¹”çµ‚ç¸çµ†ç´¼çµ€ç´¹ç¹¹ç¶“ç´¿ç¶çµ¨çµçµç¹çµ°çµç¹ªçµ¦çµ¢çµ³çµ¡çµ•çµçµ±ç¶†ç¶ƒçµ¹ç¹¡ç¶Œç¶çµ›ç¹¼ç¶ˆç¸¾ç·’ç¶¾ç·“çºŒç¶ºç·‹ç¶½ç·”ç·„ç¹©ç¶­ç¶¿ç¶¬ç¹ƒç¶¢ç¶¯ç¶¹ç¶£ç¶œç¶»ç¶°ç¶ ç¶´ç·‡ç·™ç·—ç·˜ç·¬çºœç·¹ç·²ç·ç¸•ç¹¢ç·¦ç¶ç·ç·¶ç·šç·±ç¸‹ç·©ç· ç¸·ç·¨ç·¡ç·£ç¸‰ç¸›ç¸Ÿç¸ç¸«ç¸—ç¸çºç¸­ç¸Šç¸‘ç¹½ç¸¹ç¸µç¸²çº“ç¸®ç¹†ç¹…çºˆç¹šç¹•ç¹’éŸç¹¾ç¹°ç¹¯ç¹³çº˜ç½Œç¶²ç¾…ç½°ç½·ç¾†ç¾ˆç¾¥ç¾¨ç¿¹ç¿½ç¿¬è€®è€¬è³æ¥è¶è¾è·è¹è¯èµè°è‚…è…¸è†šè†è…è…«è„¹è„…è†½å‹æœ§è…–è‡šè„›è† è„ˆè†¾é«’è‡è…¦è†¿è‡ è…³è„«è…¡è‡‰è‡˜é†ƒè†•é½¶è†©é¦è†ƒé¨°è‡è‡¢è¼¿è‰¤è‰¦è‰™è‰«è‰±è±”è‰¸è—ç¯€ç¾‹è–Œè•ªè˜†è“¯è‘¦è—¶è§è‡è’¼è‹§è˜‡æª¾è˜‹è–è˜¢è”¦å¡‹ç…¢ç¹­èŠè–¦è–˜è¢è•˜è“½è•è–ˆè–ºè•©æ¦®è‘·æ»çŠ–ç†’è•è—è“€è”­è•’è‘’è‘¤è—¥è’è“§èŠè“®è’”èµè–Ÿç²è••ç‘©é¶¯è“´è˜€è˜¿è¢ç‡Ÿç¸ˆè•­è–©è”¥è•†è•¢è”£è”è—è–Šè˜ºè•·é£é©€è–”è˜è—ºè—¹è˜„è˜Šè—ªæ§è˜šè™œæ…®è™›èŸ²è™¯èŸ£é›–è¦è †è•èŸ»èè ¶è ”èœ†è ±è £èŸ¶è »èŸ„è›ºèŸ¯è„è è›»è¸è Ÿè …èŸˆèŸ¬è è»è ‘è¿èŸè ¨é‡éŠœè£œè¥¯è¢è¥–å«‹è¤˜è¥ªè¥²è¥è£è¥ è¤Œè¤³è¥è¤²è¥‡è¤¸è¥¤ç¹ˆè¥´è¦‹è§€è¦è¦è¦“è¦–è¦˜è¦½è¦ºè¦¬è¦¡è¦¿è¦¥è¦¦è¦¯è¦²è¦·è§´è§¸è§¶è®‹è­½è¬„è¨è¨ˆè¨‚è¨ƒèªè­è¨è¨Œè¨è®“è¨•è¨–è¨“è­°è¨Šè¨˜è¨’è¬›è«±è¬³è©è¨è¨¥è¨±è¨›è«–è¨©è¨Ÿè«·è¨­è¨ªè¨£è­‰è©è¨¶è©•è©›è­˜è©—è©è¨´è¨ºè©†è¬…è©è©˜è©”è©–è­¯è©’èª†èª„è©¦è©¿è©©è©°è©¼èª èª…è©µè©±èª•è©¬è©®è©­è©¢è©£è«è©²è©³è©«è«¢è©¡è­¸èª¡èª£èªèªšèª¤èª¥èª˜èª¨èª‘èªªèª¦èª’è«‹è«¸è«è«¾è®€è«‘èª¹èª²è«‰è«›èª°è«—èª¿è«‚è«’è«„èª¶è«‡èª¼è¬€è«¶è«œè¬Šè««è«§è¬”è¬è¬‚è«¤è«­è«¼è®’è«®è«³è«ºè«¦è¬è«è«è¬¨è®œè¬–è¬è¬ è¬—è«¡è¬™è¬è¬¹è¬¾è¬«è­¾è¬¬è­šè­–è­™è®•è­œè­è®è­´è­«è®–ç©€è±¶è²è²è² è²Ÿè²¢è²¡è²¬è³¢æ•—è³¬è²¨è³ªè²©è²ªè²§è²¶è³¼è²¯è²«è²³è³¤è³è²°è²¼è²´è²ºè²¸è²¿è²»è³€è²½è³Šè´„è³ˆè³„è²²è³ƒè³‚è´“è³‡è³…è´è³•è³‘è³šè³’è³¦è³­é½è´–è³è³œè´”è³™è³¡è³ è³§è³´è³µè´…è³»è³ºè³½è³¾è´—è®šè´‡è´ˆè´è´è´›èµ¬è¶™è¶•è¶¨è¶²èº‰èºè¹Œè¹ èº’è¸èº‚è¹ºè¹•èºšèº‹è¸´èºŠè¹¤èº“èº‘èº¡è¹£èº•èº¥èºªèº¦è»€è»Šè»‹è»Œè»’è»‘è»”è½‰è»›è¼ªè»Ÿè½Ÿè»²è»»è½¤è»¸è»¹è»¼è»¤è»«è½¢è»ºè¼•è»¾è¼‰è¼Šè½è¼ˆè¼‡è¼…è¼ƒè¼’è¼”è¼›è¼¦è¼©è¼è¼¥è¼è¼¬è¼Ÿè¼œè¼³è¼»è¼¯è½€è¼¸è½¡è½…è½„è¼¾è½†è½è½”è¾­è¾¯è¾®é‚Šé¼é”é·éé‚é‹é‚„é€™é€²é é•é€£é²é‚‡é€•è·¡é©é¸éœéé‚é‚éºé™é„§é„ºé„”éƒµé„’é„´é„°é¬±éƒ¤éƒŸé„¶é„­é„†é…ˆé„–é„²é†é†±é†¬é‡…é‡ƒé‡€é‡‹è£é’œé‘’é‘¾é¨é‡“é‡”é‡é‡˜é‡—é‡™é‡•é‡·é‡ºé‡§é‡¤éˆ’é‡©é‡£é†é‡¹éšé‡µéˆƒéˆ£éˆˆéˆ¦éˆéˆ”é¾éˆ‰é‹‡é‹¼éˆ‘éˆé‘°æ¬½éˆé¢é‰¤éˆ§éˆéˆ¥éˆ„éˆ•éˆ€éˆºéŒ¢é‰¦é‰—éˆ·ç¼½éˆ³é‰•éˆ½éˆ¸é‰é‘½é‰¬é‰­é‰€éˆ¿éˆ¾éµé‰‘éˆ´é‘ é‰›é‰šéˆ°é‰‰é‰ˆé‰éˆ¹é¸é‰¶éŠ¬éŠ é‰ºéŠªé‹é‹£éƒéŠéºéŠ…é‹éŠ±éŠ¦é§é˜éŠ–éŠ‘é‹ŒéŠ©éŠ›éµéŠ“é‰¿éŠšé‰»éŠ˜éŒšéŠ«é‰¸éŠ¥éŸéŠƒé‹éŠ¨éŠ€éŠ£é‘„é’é‹ªé‹™éŒ¸é‹±éˆé—éŠ·é–é‹°é‹¥é‹¤é‹é‹¯é‹¨é½éŠ¼é‹é‹’é‹…é‹¶é¦é§éŠ³éŠ»é‹ƒé‹Ÿé‹¦éŒ’éŒ†éºéŒ¯éŒ¨éŒ¡éŒéŒ•éŒ©éŒ«éŒ®é‘¼éŒ˜éŒéŒ¦ééŒˆéŒ‡éŒŸéŒ éµé‹¸éŒ³éŒ™é¥éˆé‡é˜é¶é”é¤é¬é¾é›éªé é°é„éé‚é¤é¡éŒé®é›é˜é‘·é«é³é¿é¦é¬éŠé°é”é¢éœéé°éé¡é‘éƒé‡éé”é’éé·é‘¥é“é‘­é é‘¹é¹é™é‘Šé³é¶é²é®é¿é‘”é‘£é‘é‘²é•·é–€é–‚é–ƒé–†é–ˆé–‰å•é—–é–é—ˆé–‘é–é–“é–”é–Œæ‚¶é–˜é¬§é–¨èé—¥é–©é–­é—“é–¥é–£é–¡é–«é¬®é–±é–¬é—é–¾é–¹é–¶é¬©é–¿é–½é–»é–¼é—¡é—Œé—ƒé— é—Šé—‹é—”é—é—’é—•é—é—¤éšŠé™½é™°é™£éšéš›é™¸éš´é™³é™˜é™éš‰éš•éšªéš¨éš±éš¸é›‹é›£é››è®é‚éœ§éœ½é»´é„éšéœé¨éŸƒé½éŸ‰éŸéŸ‹éŸŒéŸéŸ“éŸ™éŸéŸœéŸ»é é ‚é ƒé ‡é …é †é ˆé Šé ‘é¡§é “é é ’é Œé é é¡±é ˜é —é ¸é ¡é °é ²é œæ½ç†²é ¦é ¤é »é ®é ¹é ·é ´ç©é¡†é¡Œé¡’é¡é¡“é¡é¡é¡³é¡¢é¡›é¡™é¡¥çº‡é¡«é¡¬é¡°é¡´é¢¨é¢ºé¢­é¢®é¢¯é¢¶é¢¸é¢¼é¢»é£€é£„é£†é£†é£›é¥—é¥œé££é¥‘é£¥é¤³é£©é¤¼é£ªé£«é£­é£¯é£²é¤é£¾é£½é£¼é£¿é£´é¤Œé¥’é¤‰é¤„é¤é¤ƒé¤é¤…é¤‘é¤–é¤“é¤˜é¤’é¤•é¤œé¤›é¤¡é¤¨é¤·é¥‹é¤¶é¤¿é¥é¥é¥ƒé¤ºé¤¾é¥ˆé¥‰é¥…é¥Šé¥Œé¥¢é¦¬é¦­é¦±é¦´é¦³é©…é¦¹é§é©¢é§”é§›é§Ÿé§™é§’é¨¶é§é§é§‘é§•é©›é§˜é©ç½µé§°é©•é©Šé§±é§­é§¢é©«é©ªé¨é©—é¨‚é§¸é§¿é¨é¨é¨é¨…é¨Œé©Œé©‚é¨™é¨­é¨¤é¨·é¨–é©é¨®é¨«é¨¸é©ƒé¨¾é©„é©é©Ÿé©¥é©¦é©¤é«é«–é«•é¬¢é­˜é­é­šé­›é­¢é­·é­¨é­¯é­´é­ºé®é®ƒé¯°é±¸é®‹é®“é®’é®Šé®‘é±Ÿé®é®é®­é®šé®³é®ªé®é®¦é°‚é®œé± é±­é®«é®®é®ºé¯—é±˜é¯é±ºé°±é°¹é¯‰é°£é°·é¯€é¯Šé¯‡é®¶é¯½é¯’é¯–é¯ªé¯•é¯«é¯¡é¯¤é¯§é¯é¯¢é¯°é¯›é¯¨é¯µé¯´é¯”é±é°ˆé°é±¨é¯·é°®é°ƒé°“é±·é°é°’é°‰é°é±‚é¯¿é° é¼‡é°­é°¨é°¥é°©é°Ÿé°œé°³é°¾é±ˆé±‰é°»é°µé±…é°¼é±–é±”é±—é±’é±¯é±¤é±§é±£é³¥é³©é›é³¶é³´é³²é·—é´‰é¶¬é´‡é´†é´£é¶‡é¸•é´¨é´é´¦é´’é´Ÿé´é´›é´¬é´•é·¥é·™é´¯é´°éµ‚é´´éµƒé´¿é¸é´»éµéµ“é¸éµ‘éµ éµéµ’é·³éµœéµ¡éµ²é¶“éµªé¶¤éµ¯éµ¬éµ®é¶‰é¶Šéµ·é·«é¶˜é¶¡é¶šé¶»é¶¿é¶¥é¶©é·Šé·‚é¶²é¶¹é¶ºé·é¶¼é¶´é·–é¸šé·“é·šé·¯é·¦é·²é·¸é·ºé¸‡é·¹é¸Œé¸é¸›é¸˜é¹ºéº¥éº©é»ƒé»Œé»¶é»·é»²é»½é»¿é¼‚é¼‰é€é¼´é½‡é½Šé½é½’é½”é½•é½—é½Ÿé½¡é½™é½ é½œé½¦é½¬é½ªé½²é½·é¾é¾”é¾•é¾œèªŒè£½è°˜éš»è£¡ä¿‚ç¯„é¬†å†‡åšå˜—é¬¨éºµæº–é˜å½†é–’ä¹¾å„˜è‡Ÿæ‹š&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Traditionalized</span>(<span class="params">cc</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">	<span class="keyword">var</span> ss = <span class="title class_">JTPYStr</span>();</span><br><span class="line">	<span class="keyword">var</span> tt = <span class="title class_">FTPYStr</span>();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cc.<span class="property">length</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (cc.<span class="title function_">charCodeAt</span>(i) &gt; <span class="number">10000</span> &amp;&amp; ss.<span class="title function_">indexOf</span>(cc.<span class="title function_">charAt</span>(i)) != -<span class="number">1</span>) str += tt.<span class="title function_">charAt</span>(ss.<span class="title function_">indexOf</span>(cc.<span class="title function_">charAt</span>(i)));</span><br><span class="line">		<span class="keyword">else</span> str += cc.<span class="title function_">charAt</span>(i)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Simplized</span>(<span class="params">cc</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">	<span class="keyword">var</span> ss = <span class="title class_">JTPYStr</span>();</span><br><span class="line">	<span class="keyword">var</span> tt = <span class="title class_">FTPYStr</span>();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cc.<span class="property">length</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (cc.<span class="title function_">charCodeAt</span>(i) &gt; <span class="number">10000</span> &amp;&amp; tt.<span class="title function_">indexOf</span>(cc.<span class="title function_">charAt</span>(i)) != -<span class="number">1</span>) str += ss.<span class="title function_">charAt</span>(tt.<span class="title function_">indexOf</span>(cc.<span class="title function_">charAt</span>(i)));</span><br><span class="line">		<span class="keyword">else</span> str += cc.<span class="title function_">charAt</span>(i)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCookie</span>(<span class="params">name, value, days</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (days) &#123;</span><br><span class="line">		<span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">		date.<span class="title function_">setTime</span>(date.<span class="title function_">getTime</span>() + (days * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>));</span><br><span class="line">		<span class="keyword">var</span> expires = <span class="string">&quot;; expires=&quot;</span> + date.<span class="title function_">toGMTString</span>()</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">var</span> expires = <span class="string">&quot;&quot;</span>;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="property">cookie</span> = name + <span class="string">&quot;=&quot;</span> + value + expires + <span class="string">&quot;; path=/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">name</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> nameEQ = name + <span class="string">&quot;=&quot;</span>;</span><br><span class="line">	<span class="keyword">var</span> ca = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ca.<span class="property">length</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">var</span> c = ca[i];</span><br><span class="line">		<span class="keyword">while</span> (c.<span class="title function_">charAt</span>(<span class="number">0</span>) == <span class="string">&#x27; &#x27;</span>) c = c.<span class="title function_">substring</span>(<span class="number">1</span>, c.<span class="property">length</span>);</span><br><span class="line">		<span class="keyword">if</span> (c.<span class="title function_">indexOf</span>(nameEQ) == <span class="number">0</span>) <span class="keyword">return</span> c.<span class="title function_">substring</span>(nameEQ.<span class="property">length</span>, c.<span class="property">length</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">translateInitilization</span>(<span class="params"></span>) &#123;</span><br><span class="line">	translateButtonObject = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(translateButtonId);</span><br><span class="line">	<span class="keyword">if</span> (translateButtonObject) &#123;</span><br><span class="line">		<span class="title function_">with</span>(<span class="params">translateButtonObject</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="title function_">typeof</span>(<span class="variable language_">document</span>.<span class="property">all</span>) != <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">				href = <span class="string">&quot;javascript:translatePage();&quot;</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				href = <span class="string">&quot;#&quot;</span>;</span><br><span class="line">				onclick = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&quot;translatePage(); return false;&quot;</span>)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (currentEncoding != targetEncoding) &#123;</span><br><span class="line">			<span class="built_in">setTimeout</span>(<span class="string">&quot;translateBody()&quot;</span>, translateDelay);</span><br><span class="line">			<span class="keyword">if</span> (targetEncoding == <span class="number">1</span>) translateButtonObject.<span class="property">innerHTML</span> = msgToSimplifiedChinese;</span><br><span class="line">			<span class="keyword">else</span> translateButtonObject.<span class="property">innerHTML</span> = msgToTraditionalChinese</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å°†ä»¥ä¸‹ä»£ç æ”¾å…¥<code>hexoç«™ç‚¹\themes\next\layout\_partials\footer.njk</code>æœ€åã€‚<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;translate-style&quot;</span>&gt;</span></span><br><span class="line">ç¹/ç®€ï¼š<span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;translateLink&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:translatePage();&quot;</span>&gt;</span>ç¹ä½“</span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/tw_cn.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> defaultEncoding = <span class="number">2</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> translateDelay = <span class="number">0</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> cookieDomain = <span class="string">&quot;https://kaisky.xyz/&quot;</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> msgToTraditionalChinese = <span class="string">&quot;ç¹ä½“&quot;</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> msgToSimplifiedChinese = <span class="string">&quot;ç®€ä½“&quot;</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> translateButtonId = <span class="string">&quot;translateLink&quot;</span>; </span></span><br><span class="line"><span class="language-javascript"><span class="title function_">translateInitilization</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="10ã€å®‰è£…waline-é‡ç‚¹æ¨è-ã€livere-æ¨è-ã€utterances-æ¨è-åŠå’Œdisqusè¯„è®ºæ’ä»¶"><a href="#10ã€å®‰è£…waline-é‡ç‚¹æ¨è-ã€livere-æ¨è-ã€utterances-æ¨è-åŠå’Œdisqusè¯„è®ºæ’ä»¶" class="headerlink" title="10ã€å®‰è£…waline(é‡ç‚¹æ¨è)ã€livere(æ¨è)ã€utterances(æ¨è)åŠå’Œdisqusè¯„è®ºæ’ä»¶"></a>10ã€å®‰è£…<code>waline</code>(é‡ç‚¹æ¨è)ã€<code>livere</code>(æ¨è)ã€<code>utterances</code>(æ¨è)åŠå’Œ<code>disqus</code>è¯„è®ºæ’ä»¶</h2><h3 id="1-ã€å®‰è£…waline-é‡ç‚¹æ¨è-è¯„è®ºæ’ä»¶ã€å¯åŒ¿åè¯„è®ºã€‘"><a href="#1-ã€å®‰è£…waline-é‡ç‚¹æ¨è-è¯„è®ºæ’ä»¶ã€å¯åŒ¿åè¯„è®ºã€‘" class="headerlink" title="(1)ã€å®‰è£…waline(é‡ç‚¹æ¨è)è¯„è®ºæ’ä»¶ã€å¯åŒ¿åè¯„è®ºã€‘"></a>(1)ã€å®‰è£…<code>waline</code>(é‡ç‚¹æ¨è)è¯„è®ºæ’ä»¶ã€å¯åŒ¿åè¯„è®ºã€‘</h3><p>å…ˆå®‰è£…æ”¯æŒï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @waline/hexo-next --save</span><br></pre></td></tr></table></figure><br><a href="https://vercel.com/import/project?template=https://github.com/walinejs/waline/tree/main/example">éƒ¨ç½²ç”³è¯·åœ°å€</a>.<br>å¤§ä½“æ­¥éª¤:<br>â‘ ã€<code>leancloud</code>å›½é™…ç‰ˆæ³¨å†Œè´¦å·ï¼Œè®°ä¸‹<code>id</code>ã€<code>key</code>ã€<code>masterksy</code> ä¸‰ä¸ªå‚æ•°ï¼›<br>â‘¡ã€åœ¨<code>github</code>ä¸Šæ–°å»ºä¸€ä¸ªåº“ï¼›<br>â‘¢ã€æ ¹æ®ä¸Šé¢éƒ¨ç½²ç”³è¯·åœ°å€ç”³è¯·è´¦å·ï¼Œåˆ›å»ºå®ä¾‹ï¼Œè¿æ¥<code>github</code>ä»“åº“ï¼Œåœ¨å®ä¾‹é…ç½®ä¾æ¬¡æ·»åŠ <code>leancloud</code>çš„<code>LEAN_ID</code>å’Œ<code>LEAN_KEY</code>ã€<code>LEAN_MASTER_KEY</code>ä¸‰é¡¹å˜é‡å’Œå¯¹åº”å€¼ï¼›<br>â‘£ã€é‡æ–°éƒ¨ç½²å®ä¾‹ï¼›<br>â‘¤ã€è®°å½•å®ä¾‹çš„<code>&lt;serverURL&gt;</code>.<br>åœ¨<strong>ä¸»é¢˜é…ç½®</strong>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Waline</span></span><br><span class="line"><span class="comment"># For more information: https://waline.js.org, https://github.com/walinejs/waline</span></span><br><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">dark:</span> <span class="string">&#x27;body.darkmode--activated&#x27;</span>  <span class="comment"># è¾“å…¥æ¡†æš—é»‘æ¨¡å¼</span></span><br><span class="line">  <span class="attr">serverURL:</span> <span class="string">https://ä½ è®¾ç½®çš„åç§°.vercel.app/</span> <span class="comment"># Waline server address url</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># Gravatar style</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># Pagination size</span></span><br><span class="line">  <span class="comment">#lang: # Language, available values: en, zh-cn</span></span><br><span class="line">  <span class="comment"># Warning: Do not enable both `waline.visitor` and `leancloud_visitors`.</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span> <span class="comment"># Article reading statistic</span></span><br><span class="line">  <span class="attr">comment_count:</span> <span class="literal">true</span> <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">requiredFields:</span> [] <span class="comment"># Set required fields: [nick] | [nick, mail]</span></span><br></pre></td></tr></table></figure><br>ã€<code>20221106</code>æ›´æ–°ä¸º<code>@waline/hexo-next&quot;: &quot;^3.0.1&quot;,</code>åé…ç½®æœ‰åšä¿®æ”¹ã€‘<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="comment"># New! Whether enable this plugin</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">dark:</span> <span class="string">&#x27;body.darkmode--activated&#x27;</span></span><br><span class="line">  <span class="comment"># Waline server address url, you should set this to your own link</span></span><br><span class="line">  <span class="comment"># serverURL: https://waline.vercel.app</span></span><br><span class="line">  <span class="comment"># serverURL: https://gitblog-waline.vercel.app/</span></span><br><span class="line">  <span class="attr">serverURL:</span> <span class="string">https://wg3e9f.deta.dev/</span></span><br><span class="line">  <span class="comment"># serverURL: https://gitblog-waline.vercel.app/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Waline library CDN url, you can set this to your preferred CDN</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="string">https://unpkg.com/@waline/client@v2/dist/waline.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Waline CSS styles CDN url, you can set this to your preferred CDN</span></span><br><span class="line">  <span class="attr">cssUrl:</span> <span class="string">https://unpkg.com/@waline/client@v2/dist/waline.css</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Custom locales</span></span><br><span class="line">  <span class="attr">locale:</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">Welcome</span> <span class="string">to</span> <span class="string">comment</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">commentCount:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Pageviews count, <span class="doctag">Note:</span> You should not enable both `waline.pageview` and `leancloud_visitors`.</span></span><br><span class="line">  <span class="attr">pageview:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Custom emoji</span></span><br><span class="line">  <span class="attr">emoji:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/weibo</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/alus</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/bilibili</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/qq</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/tieba</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://unpkg.com/@waline/emojis@1.0.1/tw-emoji</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Comment infomation, valid meta are nick, mail and link</span></span><br><span class="line">  <span class="attr">meta:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nick</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mail</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">link</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Set required meta field, e.g.: [nick] | [nick, mail]</span></span><br><span class="line">  <span class="attr">requiredMeta:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nick</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Language, available values: en-US, zh-CN, zh-TW, pt-BR, ru-RU, jp-JP</span></span><br><span class="line">  <span class="comment"># lang: zh-CN</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Word limit, no limit when setting to 0</span></span><br><span class="line">  <span class="comment"># wordLimit: 0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Whether enable login, can choose from &#x27;enable&#x27;, &#x27;disable&#x27; and &#x27;force&#x27;</span></span><br><span class="line">  <span class="attr">login:</span> <span class="string">enable</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># comment per page</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><br><a href="https://www.npmjs.com/package/@waline/hexo-next">ã€å¿…è¯»ã€‘waline/hexo-nexté…ç½®å‚è€ƒ
</a></p>
<p>å› ä¸º<code>Nextä¸»é¢˜</code>å¯¹å›¾ç‰‡æ·»åŠ <code>displayï¼š blockï¼›</code>ï¼Œé¿å…è¡¨æƒ…åŒ…å›¾ç‰‡ç‹¬å ä¸€è¡Œï¼Œåœ¨ä¸»é¢˜<code>css</code>é…ç½®è·¯å¾„<code>ç«™ç‚¹æ ¹ç›®å½•\themes\next\source\css\_common\scaffolding\base.styl</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.vcontent</span> <span class="selector-tag">p</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.vpreview</span> <span class="selector-tag">p</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>é…ç½®å®Œæˆéœ€ç™»å½•<code>&lt;serverURL&gt;/ui/register</code>æ³¨å†Œç®¡ç†è¯„è®ºã€‚</p>
<h3 id="2-ã€å®‰è£…livereåŠutterances-æ¨è"><a href="#2-ã€å®‰è£…livereåŠutterances-æ¨è" class="headerlink" title="(2)ã€å®‰è£…livereåŠutterances(æ¨è)"></a>(2)ã€å®‰è£…<code>livere</code>åŠ<code>utterances</code>(æ¨è)</h3><p><code>livere</code>ã€ç”¨ç¤¾äº¤è´¦å·ç™»å½•æ—¶è½¬é“¾æ¥åˆ°éŸ©å›½ç«™ç‚¹ä¸ç¨³å®šã€‘å’Œ<code>utterances</code>(éœ€è¦<code>github</code>è´¦æˆ·ç™»å½•)<br><a href="https://livere.com"><code>livere</code>ç”³è¯·<code>livere_uid</code>åœ°å€</a>,<code>livere_uid</code>åœ¨<code>ä»£ç ç®¡ç†</code>â€”&gt; <code>data-uid=&quot;è¿™æ˜¯è¿™é‡Œçš„ä»£ç &quot;</code>;<br><code>utterances</code>åœ¨<code>github</code>å¢åŠ ä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œå‘½å<code>xxxä»“åº“</code><br>ä¿®æ”¹<strong>ä¸»é¢˜é…ç½®</strong><code>_config.next.yml</code>ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Multiple Comment System Support</span></span><br><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Available values: tabs | buttons</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">buttons</span></span><br><span class="line">  <span class="comment"># Choose a comment system to be displayed by default.</span></span><br><span class="line">  <span class="comment"># Available values: disqus | disqusjs | changyan | livere | gitalk | utterances</span></span><br><span class="line">  <span class="attr">active:</span> <span class="string">waline</span></span><br><span class="line">  <span class="comment"># Setting `true` means remembering the comment system selected by the visitor.</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Lazyload all comment systems.</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Modify texts or order for any naves, here are some examples.</span></span><br><span class="line">  <span class="attr">nav:</span></span><br><span class="line">    <span class="attr">waline:</span></span><br><span class="line">      <span class="attr">order:</span> <span class="number">-3</span></span><br><span class="line">    <span class="attr">utterances:</span></span><br><span class="line">      <span class="attr">order:</span> <span class="number">-2</span></span><br><span class="line">    <span class="attr">livere:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">livere</span></span><br><span class="line">      <span class="attr">order:</span> <span class="number">-1</span></span><br><span class="line"><span class="string">...ä¸­é—´å†…å®¹çœç•¥...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># LiveRe comments system</span></span><br><span class="line"><span class="comment"># You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line"><span class="attr">livere_uid:</span> <span class="string">ä½ ç”³è¯·çš„uid</span> <span class="comment"># &lt;your_uid&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">utterances:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">uername/xxxä»“åº“</span> <span class="comment"># Github repository name</span></span><br><span class="line">  <span class="comment"># Available values: pathname | url | title | og:title</span></span><br><span class="line">  <span class="attr">issue_term:</span> <span class="string">pathname</span></span><br><span class="line">  <span class="comment"># Available values: github-light | github-dark | preferred-color-scheme | github-dark-orange | icy-dark | dark-blue | photon-dark | boxy-light</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">preferred-color-scheme</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-ã€å®‰è£…disqusè¯„è®ºæ’ä»¶ã€è¢«å¢™ä¸æ˜“ç™»å½•ã€‘"><a href="#3-ã€å®‰è£…disqusè¯„è®ºæ’ä»¶ã€è¢«å¢™ä¸æ˜“ç™»å½•ã€‘" class="headerlink" title="(3)ã€å®‰è£…disqusè¯„è®ºæ’ä»¶ã€è¢«å¢™ä¸æ˜“ç™»å½•ã€‘"></a>(3)ã€å®‰è£…<code>disqus</code>è¯„è®ºæ’ä»¶ã€è¢«å¢™ä¸æ˜“ç™»å½•ã€‘</h3><p>çš„å…·ä½“æ­¥éª¤å‚è€ƒ<a href="https://theme-next.js.org/docs/third-party-services/comments.html#Disqus">Comment Systems</a>ä»‹ç»ã€‚<br>ä¿®æ”¹<strong>ä¸»é¢˜é…ç½®</strong><code>_config.next.yml</code>ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Disqus</span></span><br><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">ä½ åœ¨disqusçš„è®¾ç½®</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>æœ€ç»ˆå¯ç”¨ä¸‰ä¸ªè¯„è®ºæ’ä»¶åæ•ˆæœå¦‚å›¾ï¼š<br><del><code>waline</code>è¯„è®ºï¼š</del><br><img src="/pic/2021/12/è¯„è®ºæ’ä»¶ä¹‹waline.png" alt="è¯„è®ºæ’ä»¶ä¹‹waline"><br><code>waline</code>è¯„è®ºã€20221106æ›´æ–°åæ ·å¼ã€‘ï¼š<br><img src="/pic/2022/11/è¯„è®ºæ’ä»¶ä¹‹waline_20221106.png" alt="è¯„è®ºæ’ä»¶ä¹‹waline_20221106"><br><code>utterances</code>è¯„è®ºï¼š<br><img src="/pic/2021/12/è¯„è®ºæ’ä»¶ä¹‹utterances.png" alt="è¯„è®ºæ’ä»¶ä¹‹utterances"><br><code>livere</code>è¯„è®ºï¼š<br><img src="/pic/2021/12/è¯„è®ºæ’ä»¶ä¹‹livere.png" alt="è¯„è®ºæ’ä»¶ä¹‹livere"></p>
<h2 id="11ã€æ·»åŠ æ‰‹åŠ¨å¼€å¯ã€å…³é—­æš—é»‘æ¨¡å¼"><a href="#11ã€æ·»åŠ æ‰‹åŠ¨å¼€å¯ã€å…³é—­æš—é»‘æ¨¡å¼" class="headerlink" title="11ã€æ·»åŠ æ‰‹åŠ¨å¼€å¯ã€å…³é—­æš—é»‘æ¨¡å¼"></a>11ã€æ·»åŠ æ‰‹åŠ¨å¼€å¯ã€å…³é—­æš—é»‘æ¨¡å¼</h2><p><code>Next8+</code>ä¸»é¢˜åŸç”Ÿæ”¯æŒæš—é»‘æ¨¡å¼ï¼Œä½†æ˜¯æ˜¯éšç€æ‰‹æœºè€Œè‡ªåŠ¨è°ƒæ•´ï¼Œå¯æ·»åŠ æ‰‹åŠ¨è°ƒæ•´æŒ‰é’®ï¼š</p>
<h3 id="1-ã€å®‰è£…-hexo-next-darkmode-æ’ä»¶"><a href="#1-ã€å®‰è£…-hexo-next-darkmode-æ’ä»¶" class="headerlink" title="(1)ã€å®‰è£… hexo-next-darkmode æ’ä»¶:"></a>(1)ã€å®‰è£… hexo-next-darkmode æ’ä»¶:</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-next-darkmode --save</span><br></pre></td></tr></table></figure>
<h3 id="2-ã€ä¿®æ”¹ä¸»é¢˜é…ç½®"><a href="#2-ã€ä¿®æ”¹ä¸»é¢˜é…ç½®" class="headerlink" title="(2)ã€ä¿®æ”¹ä¸»é¢˜é…ç½®"></a>(2)ã€ä¿®æ”¹<strong>ä¸»é¢˜é…ç½®</strong></h3><p>æ‰“å¼€<strong>ä¸»é¢˜é…ç½®</strong>æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Dark Mode</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">false</span>   <span class="comment"># è¿™æ˜¯åŸç”Ÿæš—é»‘æ¨¡å¼ï¼Œé€‰æ‹©å…³é—­</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Darkmode JS</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/rqh656418510/hexo-next-darkmode, https://github.com/sandoche/Darkmode.js</span></span><br><span class="line"><span class="attr">darkmode_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">&#x27;64px&#x27;</span> <span class="comment"># default: &#x27;32px&#x27;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="string">&#x27;32px&#x27;</span> <span class="comment"># default: &#x27;32px&#x27; æŒ‰é’®æ˜¾ç¤ºåœ¨å³è¾¹</span></span><br><span class="line">  <span class="attr">left:</span> <span class="string">&#x27;unset&#x27;</span> <span class="comment"># default: &#x27;unset&#x27;</span></span><br><span class="line">  <span class="attr">time:</span> <span class="string">&#x27;0.5s&#x27;</span> <span class="comment"># default: &#x27;0.3s&#x27;</span></span><br><span class="line">  <span class="attr">mixColor:</span> <span class="string">&#x27;transparent&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">backgroundColor:</span> <span class="string">&#x27;transparent&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorDark:</span> <span class="string">&#x27;#100f2c&#x27;</span> <span class="comment"># default: &#x27;#100f2c&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorLight:</span> <span class="string">&#x27;#fff&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">isActivated:</span> <span class="literal">false</span> <span class="comment"># default false</span></span><br><span class="line">  <span class="attr">saveInCookies:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">label:</span> <span class="string">&#x27;ğŸŒ“&#x27;</span> <span class="comment"># default: &#x27;&#x27;</span></span><br><span class="line">  <span class="attr">autoMatchOsTheme:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="comment"># Set custom library cdn url for Darkmode.js</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-ã€è‡ªå®šä¹‰cssé…ç½®-å¯é€‰"><a href="#3-ã€è‡ªå®šä¹‰cssé…ç½®-å¯é€‰" class="headerlink" title="(3)ã€è‡ªå®šä¹‰cssé…ç½®(å¯é€‰)"></a>(3)ã€è‡ªå®šä¹‰<code>css</code>é…ç½®(å¯é€‰)</h3><p>æ¨¡å—çš„æ ·å¼é…ç½®æ˜¯<code>ç«™ç‚¹æ ¹ç›®å½•\node_modules\hexo-next-darkmode\lib\</code>ä¸‹<code>darkmode.css</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.darkmode--activated</span> &#123;</span><br><span class="line">  <span class="attr">--body-bg-color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attr">--content-bg-color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attr">--card-bg-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attr">--text-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attr">--blockquote-color</span>: <span class="number">#bbb</span>;</span><br><span class="line">  <span class="attr">--link-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attr">--link-hover-color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attr">--brand-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attr">--brand-hover-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attr">--table-row-odd-bg-color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attr">--table-row-hover-bg-color</span>: <span class="number">#363636</span>;</span><br><span class="line">  <span class="attr">--menu-item-bg-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attr">--btn-default-bg</span>: <span class="number">#222</span>;</span><br><span class="line">  <span class="attr">--btn-default-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attr">--btn-default-border-color</span>: <span class="number">#555</span>;</span><br><span class="line">  <span class="attr">--btn-default-hover-bg</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attr">--btn-default-hover-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attr">--btn-default-hover-border-color</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attr">--highlight-background</span>: <span class="number">#282b2e</span>;</span><br><span class="line">  <span class="attr">--highlight-foreground</span>: <span class="number">#a9b7c6</span>;</span><br><span class="line">  <span class="attr">--highlight-gutter-background</span>: <span class="number">#34393d</span>;</span><br><span class="line">  <span class="attr">--highlight-gutter-foreground</span>: <span class="number">#9ca9b6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.darkmode--activated</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.75</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.darkmode--activated</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.darkmode--activated</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#69dbdc</span>;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.darkmode-toggle</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>å¯æ ¹æ®è‡ªå·±æƒ…å†µä¿®æ”¹ã€‚</p>
<h2 id="12ã€-ä½¿ç”¨Pajxå®ç°èƒŒæ™¯éŸ³ä¹å…¨å±€æ’­æ”¾"><a href="#12ã€-ä½¿ç”¨Pajxå®ç°èƒŒæ™¯éŸ³ä¹å…¨å±€æ’­æ”¾" class="headerlink" title="12ã€ ä½¿ç”¨Pajxå®ç°èƒŒæ™¯éŸ³ä¹å…¨å±€æ’­æ”¾"></a>12ã€ ä½¿ç”¨<code>Pajx</code>å®ç°èƒŒæ™¯éŸ³ä¹å…¨å±€æ’­æ”¾</h2><p>å®‰è£…æ”¯æŒï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save //aplayeræ’­æ”¾å™¨</span><br></pre></td></tr></table></figure><br>æ‰“å¼€<code>ä¸»é¢˜æ–‡ä»¶å¤¹\layout</code>æ–‡ä»¶å¤¹æ‰¾åˆ°<code>_layout.njk</code>,åœ¨<code>&lt;head&gt;è¿™é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹&lt;/head&gt;</code>:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--pjaxï¼šé˜²æ­¢è·³è½¬é¡µé¢éŸ³ä¹æš‚åœ--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure></p>
<h3 id="1-ã€åªç”¨aplayeræ’ä»¶ï¼š"><a href="#1-ã€åªç”¨aplayeræ’ä»¶ï¼š" class="headerlink" title="(1)ã€åªç”¨aplayeræ’ä»¶ï¼š"></a>(1)ã€åªç”¨<code>aplayer</code>æ’ä»¶ï¼š</h3><p>æ‰“å¼€<code>ä¸»é¢˜é…ç½®</code>æ–‡ä»¶,è®¾ç½®<code>pjax: true</code>,å¢åŠ <code>aplayer</code>é…ç½®,é…ç½®å¦‚ä¸‹:<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>ç„¶ååœ¨<code>ä¸»é¢˜æ–‡ä»¶å¤¹\layout\_macro\sidebar</code>é…ç½®ä¸­<code>&lt;div class=&quot;sidebar-inner&gt;æ ¹æ®è‡ªå·±çˆ±å¥½åœ¨è¿™é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç &lt;/div&gt;</code>è¿›è¡Œé…ç½®ï¼š<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if(theme.aplayer.enable) %&#125;</span><br><span class="line">      <span class="comment">&lt;!-- require APlayer --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;script src=&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js&quot;&gt;&lt;/script&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute;right:0;bottom:0;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  //styleå¯ä»¥ä¸è®¾ç½®</span><br><span class="line">  // ä»¥ä¸‹ä¸ºaplayeré…ç½®éƒ¨åˆ†</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;aplayer&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">mini</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">autoplay</span>: <span class="literal">false</span>, <span class="comment">//è‡ªåŠ¨æ’­æ”¾</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">listFolded</span>: <span class="literal">true</span>, <span class="comment">//æ’­æ”¾åˆ—è¡¨é»˜è®¤æŠ˜å </span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">listMaxHeight</span>: <span class="number">90</span>, <span class="comment">//æ’­æ”¾åˆ—è¡¨æœ€å¤§é«˜åº¦</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">order</span>: <span class="string">&#x27;list&#x27;</span>, <span class="comment">//éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: &#x27;list&#x27;, &#x27;random&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">loop</span>: <span class="string">&#x27;all&#x27;</span>, <span class="comment">//éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: &#x27;all&#x27;, &#x27;one&#x27;, &#x27;none&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">theme</span>: <span class="string">&#x27;#e9e9e9&#x27;</span>, <span class="comment">//åˆ‡æ¢éŸ³é¢‘æ—¶çš„ä¸»é¢˜è‰²ï¼Œä¼˜å…ˆçº§ä½äºaudio.theme</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">preload</span>: <span class="string">&#x27;none&#x27;</span>, <span class="comment">//éŸ³é¢‘é¢„åŠ è½½ï¼Œå¯é€‰å€¼: &#x27;none&#x27;, &#x27;metadata&#x27;, &#x27;auto&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">mutex</span>: <span class="literal">true</span>, <span class="comment">//äº’æ–¥ï¼Œé˜»æ­¢å¤šä¸ªæ’­æ”¾å™¨åŒæ—¶æ’­æ”¾ï¼Œå½“å‰æ’­æ”¾å™¨æ’­æ”¾æ—¶æš‚åœå…¶ä»–æ’­æ”¾å™¨</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">lrcType</span>: <span class="number">3</span>, <span class="comment">//æ­Œè¯æ ¼å¼ï¼Œå¯é€‰å€¼ï¼š3ï¼ˆLRCæ–‡ä»¶æ­Œè¯æ ¼å¼ï¼‰ï¼Œ1ï¼ˆJSå­—ç¬¦ä¸²æ­Œè¯æ ¼å¼ï¼‰</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">volume</span>: <span class="number">0.7</span>, <span class="comment">//é»˜è®¤éŸ³é‡ï¼Œè¯·æ³¨æ„æ’­æ”¾å™¨ä¼šè®°å¿†ç”¨æˆ·è®¾ç½®ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®éŸ³é‡åé»˜è®¤éŸ³é‡å³å¤±æ•ˆ</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">fixed</span>: <span class="literal">false</span>, <span class="comment">//å¸åº•æ¨¡å¼ï¼ˆfixed:trueï¼‰ï¼Œè¿·ä½ æ¨¡å¼ï¼ˆmini:trueï¼‰ï¼Œæ™®é€šæ¨¡å¼ï¼ˆæ³¨é‡Šæ­¤è¡Œæˆ–è€…è®¾ç½®fixed:falseï¼‰</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">audio</span>: [</span></span><br><span class="line"><span class="language-javascript">      &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;æ­Œæ›²å&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">artist</span>: <span class="string">&#x27;æ¼”å”±è€…&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lrc</span>: <span class="string">&#x27;lrcè·¯å¾„/æ­Œæ›²å.lrc&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">cover</span>: <span class="string">&#x27;éŸ³é¢‘å°é¢è·¯å¾„&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">url</span>: <span class="string">&#x27;éŸ³é¢‘è·¯å¾„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;æ­Œæ›²å&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">artist</span>: <span class="string">&#x27;æ¼”å”±è€…&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">lrc</span>: <span class="string">&#x27;lrcè·¯å¾„/æ­Œæ›²å.lrc&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">cover</span>: <span class="string">&#x27;éŸ³é¢‘å°é¢è·¯å¾„&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">url</span>: <span class="string">&#x27;éŸ³é¢‘è·¯å¾„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      ]</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å®ç°åˆ‡æ¢éŸ³é¢‘æ—¶ï¼Œæ ¹æ®éŸ³é¢‘çš„å°é¢å›¾ç‰‡è‡ªé€‚åº”ä¸»é¢˜è‰²</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> colorThief = <span class="keyword">new</span> <span class="title class_">ColorThief</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">setTheme</span> = (<span class="params">index</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (!ap.<span class="property">list</span>.<span class="property">audios</span>[index].<span class="property">theme</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        colorThief.<span class="title function_">getColorAsync</span>(ap.<span class="property">list</span>.<span class="property">audios</span>[index].<span class="property">cover</span>, <span class="keyword">function</span>(<span class="params">color</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          ap.<span class="title function_">theme</span>(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">setTheme</span>(ap.<span class="property">list</span>.<span class="property">index</span>);</span></span><br><span class="line"><span class="language-javascript">    ap.<span class="title function_">on</span>(<span class="string">&#x27;listswitch&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">setTheme</span>(data.<span class="property">index</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125; </span><br></pre></td></tr></table></figure><br>ä»¥ä¸Šé…ç½®å‚è€ƒ:<br><a href="https://iluis.gitee.io/2020/04/09/Hexo%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E6%92%AD%E6%94%BE%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/#%E7%AC%AC%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A%E4%BD%BF%E7%94%A8Aplayer%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E9%9F%B3%E4%B9%90">Hexo + Next ä¸»é¢˜å®ç°å…¨å±€æ’­æ”¾èƒŒæ™¯éŸ³ä¹</a></p>
<h3 id="2-ã€é…åˆMetingJS"><a href="#2-ã€é…åˆMetingJS" class="headerlink" title="(2)ã€é…åˆMetingJS"></a>(2)ã€é…åˆ<code>MetingJS</code></h3><p>æ‰“å¼€<code>ä¸»é¢˜é…ç½®</code>æ–‡ä»¶,è®¾ç½®<code>pjax: true</code>,å¢åŠ <code>aplayer</code>é…ç½®,é…ç½®å¦‚ä¸‹:<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>ç„¶ååœ¨<code>ä¸»é¢˜æ–‡ä»¶å¤¹\layout\_macro\sidebar</code>é…ç½®ä¸­<code>&lt;div class=&quot;sidebar-inner&gt;æ ¹æ®è‡ªå·±çˆ±å¥½åœ¨è¿™é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç &lt;/div&gt;</code>è¿›è¡Œé…ç½®<strong>ã€å³æ›¿æ¢ï¼ˆ1ï¼‰é…ç½®çš„é‚£éƒ¨åˆ†çš„å†…å®¹ã€‘</strong>ï¼š<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- require APlayer --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;script src=&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js&quot;&gt;&lt;/script&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- require MetingJS--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute;right:0;bottom:5;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meting-js</span></span></span><br><span class="line"><span class="tag">    <span class="attr">server</span>=<span class="string">&quot;netease&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">&quot;playlist&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">&quot;641900597&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">mini</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">meting-js</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><br>è®¾ç½®åœ¨<code>&lt;aside&gt;&lt;div class=&quot;sidebar-inner&gt;æ”¾åœ¨è¿™é‡Œ&lt;/div&gt;&lt;/aside&gt;</code>ç”¨<code>ç½‘æ˜“äº‘éŸ³ä¹åˆ—è¡¨</code>çš„æ•ˆæœå¦‚å›¾ï¼š<br><img src="/pic/2021/12/éŸ³ä¹æ’ä»¶ä¹‹aplayerå’ŒMetingJS.png" alt="éŸ³ä¹æ’ä»¶ä¹‹aplayerå’ŒMetingJS"></p>
<p>å…·ä½“è®¾ç½®å¯å‚ç…§ï¼š<br>1ã€<a href="https://aplayer.js.org/#/zh-Hans/?id=%E5%85%A5%E9%97%A8">aplayeræ–‡æ¡£</a><br>2ã€<a href="https://github.com/metowolf/MetingJS">MetingJSé¡¹ç›®ä»‹ç»</a></p>
<h2 id="13ã€ç«™ç‚¹å­—ä½“é…ç½®-å¯é€‰"><a href="#13ã€ç«™ç‚¹å­—ä½“é…ç½®-å¯é€‰" class="headerlink" title="13ã€ç«™ç‚¹å­—ä½“é…ç½®(å¯é€‰)"></a>13ã€ç«™ç‚¹å­—ä½“é…ç½®(å¯é€‰)</h2><p>(1)ã€<code>ç«™ç‚¹æ ¹ç›®å½•\source\_data\</code>æ–°å»ºæ–‡ä»¶<code>variables.styl</code>,å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// Title <span class="attribute">Font</span>, set it <span class="selector-tag">to</span> <span class="attribute">font</span> family you want.</span><br><span class="line">$<span class="attribute">font-family</span>-headings = Georgia, sans</span><br><span class="line"></span><br><span class="line">// Set it <span class="selector-tag">to</span> <span class="attribute">font</span> family you want.</span><br><span class="line">$<span class="attribute">font-family</span>-base = &quot;Microsoft YaHei&quot;, Verdana, sans-serif</span><br><span class="line"></span><br><span class="line">// <span class="selector-tag">Code</span> <span class="attribute">Font</span>.</span><br><span class="line">$<span class="selector-tag">code</span>-<span class="attribute">font-family</span> = &quot;Noto Sans S Chinese Medium&quot;,&quot;<span class="selector-tag">Input</span> Mono&quot;, &quot;PT Mono&quot;, Consolas, Monaco, Menlo, monospace</span><br><span class="line"></span><br><span class="line">// <span class="attribute">Font</span> size of articles.</span><br><span class="line">$<span class="attribute">font-size</span>-base = <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">// <span class="attribute">Font</span> size of <span class="selector-tag">table</span> and <span class="selector-tag">code</span>.</span><br><span class="line">$<span class="selector-tag">table</span>-<span class="attribute">font-size</span> = <span class="number">15px</span></span><br></pre></td></tr></table></figure><br>(2)ä¿®æ”¹<code>ä¸»é¢˜é…ç½®</code>æ–‡ä»¶<code>_config.next.yml</code>,ä¿®æ”¹å†…å®¹å¦‚ä¸‹:<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.njk</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.njk</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.njk</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.njk</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.njk</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.njk</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.njk</span></span><br><span class="line">  <span class="attr">variable:</span> <span class="string">source/_data/variables.styl</span></span><br></pre></td></tr></table></figure></p>
<h1 id="å…«ã€æäº¤åˆ°github"><a href="#å…«ã€æäº¤åˆ°github" class="headerlink" title="å…«ã€æäº¤åˆ°github"></a>å…«ã€æäº¤åˆ°<code>github</code></h1><p>å®‰è£…æ”¯æŒï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --safe</span><br></pre></td></tr></table></figure><br>ä¿®æ”¹<code>ç«™ç‚¹ç›®å½•</code>ä¸‹<code>_config.yml</code>é…ç½®ï¼š<br><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> </span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&#x27;https://github.com/ç”¨æˆ·å/ä½ è®¾ç½®çš„ç”¨æˆ·å.github.io.git&#x27;</span></span><br></pre></td></tr></table></figure><br>æäº¤å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo hexo generate <span class="comment"># hexo g</span></span><br><span class="line">sudo hexo deploy   <span class="comment"># hexo d</span></span><br></pre></td></tr></table></figure></p>
<p>è‡³æ­¤ï¼Œç«™ç‚¹åŸºæœ¬é…ç½®å°±å®Œæˆäº†ã€‚  </p>
<p>è‹¥æŠ¥é”™ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: unsafe repository (<span class="string">&#x27;xxx/xxx/.deploy_git&#x27;</span> is owned by someone <span class="keyword">else</span>)</span><br></pre></td></tr></table></figure><br>è§£å†³æ–¹æ³•<br>å¿½ç•¥å•ä¸ªç›®å½•<br>å“ªä¸ªç›®å½•é‡Œæœ‰<code>git</code>ï¼Œå°±é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ å“ªä¸ªç›®å½•ï¼Œå¤šä¸ªç›®å½•ï¼Œå¤šæ¬¡æ·»åŠ ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --add safe.directory D:/www/your-project</span><br><span class="line">git config --global --add safe.directory D:/www/other-project</span><br></pre></td></tr></table></figure><br>æˆ–è€…å¿½ç•¥å…¨éƒ¨ç›®å½•ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --add safe.directory <span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="ä¹ã€npmå‡çº§å‘½ä»¤"><a href="#ä¹ã€npmå‡çº§å‘½ä»¤" class="headerlink" title="ä¹ã€npmå‡çº§å‘½ä»¤"></a>ä¹ã€<code>npm</code>å‡çº§å‘½ä»¤</h1><h2 id="1ã€å‡çº§å‰å¤‡ä»½é…ç½®"><a href="#1ã€å‡çº§å‰å¤‡ä»½é…ç½®" class="headerlink" title="1ã€å‡çº§å‰å¤‡ä»½é…ç½®"></a>1ã€å‡çº§å‰å¤‡ä»½é…ç½®</h2><p><em>*</em>æ³¨æ„ä»¥ä¸‹å‘½ä»¤æ˜¯åŸºäº<code>powershell</code>åœ¨<code>ç½‘ç«™æ ¹ç›®å½•</code>è¿è¡Œ</p>
<h3 id="ï¼ˆ1ï¼‰ä¸ªäººCSSé…ç½®æ–‡ä»¶"><a href="#ï¼ˆ1ï¼‰ä¸ªäººCSSé…ç½®æ–‡ä»¶" class="headerlink" title="ï¼ˆ1ï¼‰ä¸ªäººCSSé…ç½®æ–‡ä»¶"></a>ï¼ˆ1ï¼‰ä¸ªäººCSSé…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå¤‡ä»½ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/source/css/_common/scaffolding</span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/source/css/_custom</span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/source/js</span><br><span class="line"><span class="comment"># å¤‡ä»½ æ³¨æ„å‚æ•°-Recurse&gt;é€’å½’ -Force&gt;å¼ºåˆ¶è¦†ç›–</span></span><br><span class="line">Copy-Item themes/next/source/css/_common/scaffolding/base.styl -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/css/_common/scaffolding/ -Force</span><br><span class="line">Copy-Item themes/next/source/css/_custom/darkmode.styl -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/css/_custom/ -Force</span><br><span class="line">Copy-Item themes/next/source/css/main.styl -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/css/ -Force</span><br><span class="line">Copy-Item themes/next/source/js/tw_cn.js -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/js/ -Force</span><br></pre></td></tr></table></figure>
<h3 id="ï¼ˆ2ï¼‰ä¸ªäººå¸ƒå±€é…ç½®æ–‡ä»¶"><a href="#ï¼ˆ2ï¼‰ä¸ªäººå¸ƒå±€é…ç½®æ–‡ä»¶" class="headerlink" title="ï¼ˆ2ï¼‰ä¸ªäººå¸ƒå±€é…ç½®æ–‡ä»¶"></a>ï¼ˆ2ï¼‰ä¸ªäººå¸ƒå±€é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/layout/_macro</span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/layout/_partials</span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/next/layout/_scripts</span><br><span class="line">Copy-Item themes/next/layout/_macro/sidebar.njk -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/layout/_macro -Force</span><br><span class="line">Copy-Item themes/next/layout/_partials/footer.njk -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/layout/_partials -Force</span><br><span class="line">Copy-Item themes/next/layout/_scripts/vendors.njk -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/layout/_scripts -Force</span><br><span class="line">Copy-Item themes/next/layout/_layout.njk -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/layout -Force</span><br></pre></td></tr></table></figure>
<h3 id="ï¼ˆ3ï¼‰æ”¹è¿‡çš„æ¨¡å—é…ç½®"><a href="#ï¼ˆ3ï¼‰æ”¹è¿‡çš„æ¨¡å—é…ç½®" class="headerlink" title="ï¼ˆ3ï¼‰æ”¹è¿‡çš„æ¨¡å—é…ç½®"></a>ï¼ˆ3ï¼‰æ”¹è¿‡çš„æ¨¡å—é…ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/hexo-renderer-kramed/lib</span><br><span class="line"><span class="built_in">cp</span> node_modules/hexo-renderer-kramed/lib/* -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/hexo-renderer-kramed/lib -Force</span><br><span class="line"><span class="built_in">mkdir</span> -p ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/kramed/lib/rules</span><br><span class="line"><span class="built_in">cp</span> node_modules/kramed/lib/rules/* -Recurse ../gitBlogBck/bck/$(Get-Date -Format <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/kramed/lib/rules -Force</span><br></pre></td></tr></table></figure>
<h2 id="2ã€hexoç›¸å…³å‡çº§"><a href="#2ã€hexoç›¸å…³å‡çº§" class="headerlink" title="2ã€hexoç›¸å…³å‡çº§"></a>2ã€<code>hexo</code>ç›¸å…³å‡çº§</h2><p><strong>æ³¨æ„ä¿®æ”¹<code>package.json</code>ä¸­ç‰ˆæœ¬å·</strong></p>
<h3 id="ï¼ˆ1ï¼‰å‡çº§nodejs"><a href="#ï¼ˆ1ï¼‰å‡çº§nodejs" class="headerlink" title="ï¼ˆ1ï¼‰å‡çº§nodejs"></a>ï¼ˆ1ï¼‰å‡çº§<code>nodejs</code></h3><p>è¿›å…¥åšå®¢çš„<code>æ ¹ç›®å½•</code>ï¼Œä½¿ç”¨<code>nvm</code>æŸ¥è¯¢æœ€æ–°ç‰ˆæœ¬<code>node</code>,ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å¯ç”¨è¯¥ç‰ˆæœ¬<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvm list available</span><br><span class="line">nvm install lts 64</span><br><span class="line">nvm use 18.12.1</span><br><span class="line">Now using node v18.12.1 (64-bit)</span><br></pre></td></tr></table></figure></p>
<h3 id="ï¼ˆ2ï¼‰Hexo-ç‰ˆæœ¬å‡çº§"><a href="#ï¼ˆ2ï¼‰Hexo-ç‰ˆæœ¬å‡çº§" class="headerlink" title="ï¼ˆ2ï¼‰Hexo ç‰ˆæœ¬å‡çº§"></a>ï¼ˆ2ï¼‰<code>Hexo</code> ç‰ˆæœ¬å‡çº§</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">########### ä»¥ä¸‹ä¸ºå…¨å±€å‡çº§ ###########</span></span><br><span class="line"><span class="comment"># å…¨å±€å®‰è£…ç‰ˆæœ¬æ£€æµ‹ã€ç‰ˆæœ¬å‡çº§å·¥å…·</span></span><br><span class="line">npm install npm-check npm-upgrade -g</span><br><span class="line"><span class="comment"># å…¨å±€æ£€æµ‹å“ªäº›æ¨¡å—å¯ä»¥å‡çº§ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®æ‰“å°çš„æç¤ºä¿¡æ¯ï¼Œæ‰‹åŠ¨å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„æ¨¡å—</span></span><br><span class="line">npm-check -g</span><br><span class="line"><span class="comment"># å…¨å±€æ›´æ–°æ¨¡å—</span></span><br><span class="line">npm update -g --save</span><br><span class="line"></span><br><span class="line"><span class="comment">##########  åšå®¢å‡çº§hexo  ##########</span></span><br><span class="line"><span class="comment"># å…¨å±€å®‰è£…æˆ–æ›´æ–°Hexoçš„æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">npm install hexo --global</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">added 59 packages, and audited 61 packages <span class="keyword">in</span> 36s</span><br><span class="line">found 0 vulnerabilities</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"><span class="comment"># è¿›å…¥åšå®¢çš„æ ¹ç›®å½•</span></span><br><span class="line">~$ <span class="built_in">cd</span> /åšå®¢æ ¹ç›®å½•</span><br><span class="line"><span class="comment"># æ£€æµ‹Hexoå“ªäº›æ¨¡å—å¯ä»¥å‡çº§(ä¾èµ–åº“)</span></span><br><span class="line">~$ npm-check</span><br><span class="line"><span class="comment"># æ›´æ–°å…¨éƒ¨åº“</span></span><br><span class="line">~$ npm-check -u</span><br><span class="line"><span class="comment"># åˆ é™¤package-lock.json</span></span><br><span class="line">~<span class="comment"># rm -rf package-lock.json</span></span><br><span class="line"><span class="comment"># æ›´æ–°package.json</span></span><br><span class="line">~$ npm-upgrade</span><br><span class="line"><span class="comment"># åˆ é™¤æ•´ä¸ªæ¨¡å—ç›®å½•ï¼Œè¿™æ ·å¯ä»¥é¿å…å¾ˆå¤šå‘</span></span><br><span class="line">~$ <span class="built_in">rm</span> -rf node_modules</span><br><span class="line"><span class="comment"># æ›´æ–°å…¨å±€åŒ…</span></span><br><span class="line">~$ npm update &lt;name&gt; -g</span><br><span class="line"><span class="comment"># æ›´æ–°Hexoçš„æ¨¡å—ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span></span><br><span class="line">~$ npm update --save</span><br><span class="line"><span class="comment"># è‹¥å‡ºç°ä¾èµ–çš„é—®é¢˜ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤ç»Ÿä¸€ä¿®å¤ä¸€ä¸‹</span></span><br><span class="line">$ npm audix</span><br><span class="line"><span class="comment"># æˆ–è€…å¼ºåˆ¶æ›´æ–°</span></span><br><span class="line">$ npm update --save --force</span><br><span class="line"><span class="comment"># è‹¥å‡ºç°ä¾èµ–çš„é—®é¢˜ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤ç»Ÿä¸€ä¿®å¤ä¸€ä¸‹</span></span><br><span class="line">$ npm audix</span><br><span class="line"><span class="comment"># æˆ–è€…å¼ºåˆ¶æ›´æ–°</span></span><br><span class="line">$ npm update --save --force</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ï¼ˆ3ï¼‰nextä¸»é¢˜å‡çº§"><a href="#ï¼ˆ3ï¼‰nextä¸»é¢˜å‡çº§" class="headerlink" title="ï¼ˆ3ï¼‰nextä¸»é¢˜å‡çº§"></a>ï¼ˆ3ï¼‰<code>next</code>ä¸»é¢˜å‡çº§</h3><p><code>NexT</code> æ¯ä¸ªæœˆéƒ½ä¼šå‘å¸ƒæ–°ç‰ˆæœ¬ã€‚è¯·åœ¨æ›´æ–°å‰é˜…è¯»æ›´æ–°è¯´æ˜ã€‚ä½ å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ›´æ–° <code>NexT</code>ã€‚<br>é€šè¿‡ <code>npm</code> å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ç«™ç‚¹æ ¹ç›®å½•</span><br><span class="line">$ npm install hexo-theme-next@latest</span><br></pre></td></tr></table></figure><br>æˆ–è€…é€šè¿‡ git æ›´æ–°åˆ°æœ€æ–°çš„ master åˆ†æ”¯ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure><br>å‡çº§åæŸ¥è¯¢ç»“æœï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo -V</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  ==================================</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><br><span class="line">  â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•</span><br><span class="line">  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘</span><br><span class="line">  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘</span><br><span class="line">  â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•</span><br><span class="line">========================================</span><br><span class="line">NexT version 8.13.2</span><br><span class="line">Documentation: https://theme-next.js.org</span><br><span class="line">========================================</span><br><span class="line">hexo: 6.3.0</span><br><span class="line">hexo-cli: 4.3.0</span><br><span class="line">os: win32 10.0.19045</span><br><span class="line">node: 18.12.1</span><br><span class="line">v8: 10.2.154.15-node.12</span><br><span class="line">uv: 1.43.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">ares: 1.18.1</span><br><span class="line">modules: 108</span><br><span class="line">nghttp2: 1.47.0</span><br><span class="line">napi: 8</span><br><span class="line">llhttp: 6.0.10</span><br><span class="line">openssl: 3.0.7+quic</span><br><span class="line">cldr: 41.0</span><br><span class="line">icu: 71.1</span><br><span class="line">tz: 2022b</span><br><span class="line">unicode: 14.0</span><br><span class="line">ngtcp2: 0.8.1</span><br><span class="line">nghttp3: 0.7.0</span><br></pre></td></tr></table></figure></p>
<h3 id="ï¼ˆ3ï¼‰æ¢å¤å¤‡ä»½æ–‡ä»¶"><a href="#ï¼ˆ3ï¼‰æ¢å¤å¤‡ä»½æ–‡ä»¶" class="headerlink" title="ï¼ˆ3ï¼‰æ¢å¤å¤‡ä»½æ–‡ä»¶"></a>ï¼ˆ3ï¼‰æ¢å¤å¤‡ä»½æ–‡ä»¶</h3><p>æ‰¹å¤„ç†å»æ¢å¤ï¼Œå°†ä»¥ä¸‹å‘½ä»¤å‘½åä¸º<code>æ¢å¤å¤‡ä»½æ–‡ä»¶.bat</code><br><figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\source\css\_common\scaffolding\base.styl themes\next\source\css\_common\scaffolding\base.styl /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\source\css\_custom\darkmode.styl  themes\next\source\css\_custom\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\source\css\main.styl themes\next\source\css\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\source\js\tw_cn.js themes\next\source\js\ /y</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\layout\_macro\sidebar.njk themes\next\layout\_macro\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\layout\_partials\footer.njk themes\next\layout\_partials\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\layout\_scripts\vendors.njk themes\next\layout\_scripts\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\themes\next\layout\_layout.njk themes\next\layout\ /y</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\node_modules\hexo-renderer-kramed\lib\renderer.js  node_modules\hexo-renderer-kramed\lib\ /y</span><br><span class="line"><span class="built_in">copy</span> ..\gitBlogBck\bck\<span class="number">20221105</span>\node_modules\kramed\lib\rules\inline.js node_modules\kramed\lib\rules\ /y</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><br>æˆ–ç”¨<code>powershell</code>å¤„ç†,å°†ä»¥ä¸‹å‘½ä»¤å‘½åä¸º<code>æ¢å¤å¤‡ä»½æ–‡ä»¶.ps1</code><br><figure class="highlight ps1"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/source/css/_common/scaffolding/base.styl&quot;</span>  <span class="literal">-Recurse</span> <span class="string">&quot;themes/next/source/css/_common/scaffolding/base.styl&quot;</span> <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/source/css/_custom/darkmode.styl&quot;</span>  <span class="literal">-Recurse</span> <span class="string">&quot;themes/next/source/css/_custom/&quot;</span>  <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> ../gitBlogBck/bck/<span class="variable">$</span>(<span class="built_in">Get-Date</span> <span class="literal">-Format</span> <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/css/main.styl <span class="literal">-Recurse</span> themes/next/source/css/ <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> ../gitBlogBck/bck/<span class="variable">$</span>(<span class="built_in">Get-Date</span> <span class="literal">-Format</span> <span class="string">&#x27;yyyyMMdd&#x27;</span>)/themes/next/source/js/tw_cn.js <span class="literal">-Recurse</span> themes/next/source/js/ <span class="literal">-Force</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/layout/_macro/sidebar.njk&quot;</span> <span class="literal">-Recurse</span> <span class="string">&quot;themes/next/layout/_macro/&quot;</span> <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/layout/_partials/footer.njk&quot;</span> <span class="literal">-Recurse</span> <span class="string">&quot;themes/next/layout/_partials/&quot;</span> <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/layout/_scripts/vendors.njk&quot;</span> <span class="literal">-Recurse</span> <span class="string">&quot;themes/next/layout/_scripts/&quot;</span> <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Copy-Item</span> <span class="string">&quot;../gitBlogBck/bck/<span class="variable">$</span>(Get-Date -Format &#x27;yyyyMMdd&#x27;)/themes/next/layout/_layout.njk&quot;</span> <span class="literal">-Recurse</span> themes/next/layout/ <span class="literal">-Force</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> ../gitBlogBck/bck/<span class="variable">$</span>(<span class="built_in">Get-Date</span> <span class="literal">-Format</span> <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/hexo<span class="literal">-renderer-kramed</span>/lib/renderer.js <span class="literal">-Recurse</span>  node_modules/hexo<span class="literal">-renderer-kramed</span>/lib/ <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">cp</span>  ../gitBlogBck/bck/<span class="variable">$</span>(<span class="built_in">Get-Date</span> <span class="literal">-Format</span> <span class="string">&#x27;yyyyMMdd&#x27;</span>)/node_modules/kramed/lib/rules/inline.js <span class="literal">-Recurse</span> node_modules/kramed/lib/rules/  <span class="literal">-Force</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3ã€å‡çº§åå‡ºç°é”™è¯¯å¤„ç†"><a href="#3ã€å‡çº§åå‡ºç°é”™è¯¯å¤„ç†" class="headerlink" title="3ã€å‡çº§åå‡ºç°é”™è¯¯å¤„ç†"></a>3ã€å‡çº§åå‡ºç°é”™è¯¯å¤„ç†</h2><p>å‡çº§åå†è¾“å…¥<code>npm</code>å‘½ä»¤æ—¶ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm : File D:\Programs\nodejs\npm.ps1 cannot be loaded because running scripts is disabled on this system.</span><br></pre></td></tr></table></figure><br>è§£å†³:<br>ç®¡ç†å‘˜è¿è¡Œ<code>Powershell</code>ç„¶åè¾“å…¥:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned -Scope CurrentUser</span><br></pre></td></tr></table></figure><br>å…¶ä»–ä¸€äº›é”™è¯¯å¤„ç†å¯å‚è€ƒè§<a href="../../../../2020/12/19/åœ¨Debian10ä¸Šé…ç½®Hexo+Githubåšä¸ªäººåšå®¢/#div1">åœ¨Debian10ä¸Šé…ç½®Hexo+Githubåšä¸ªäººåšå®¢</a></p>
<p>ä¸€äº›å‚è€ƒï¼š</p>
<p>1ã€<a href="https://theme-next.js.org/docs/getting-started/">å®˜ç½‘theme-next.js.org</a>  </p>
<p>2ã€<a href="https://github.com/next-theme/hexo-theme-next/issues/4">ã€å¿…è¯»ã€‘æ›´æ–°è¯´æ˜åŠå¸¸è§é—®é¢˜
</a></p>
<p>3ã€<a href="https://www.techgrow.cn/posts/ae18fb85.html#Hexo-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E9%80%89%E6%8B%A9">Hexo è¯„è®ºç³»ç»Ÿé€‰æ‹©</a></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Windows</category>
        <category>Hexo</category>
        <category>Nextä¸»é¢˜</category>
      </categories>
      <tags>
        <tag>Windows10</tag>
        <tag>Hexo</tag>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ä»¶ç®¡ç†å™¨å› gvfsä¸èƒ½æµè§ˆç½‘ç»œç­‰é—®é¢˜</title>
    <url>/2021/01/05/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8%E5%9B%A0gvfs%E4%B8%8D%E8%83%BD%E6%B5%8F%E8%A7%88%E7%BD%91%E7%BB%9C%E7%AD%89%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>åœ¨<code>Thunaræ–‡ä»¶ç®¡ç†å™¨</code>â€”&gt;<code>ç¼–è¾‘</code>â€”&gt;<code>é¦–é€‰é¡¹</code>â€”&gt;<code>é«˜çº§é€‰é¡¹</code>ä¸­ï¼Œæç¤ºï¼š<br><code>æ–‡ä»¶ç®¡ç†å™¨å› gvfsç¼ºå¤±ä¸èƒ½æµè§ˆç½‘ç»œ......</code>ï¼Œè§£å†³æ–¹æ³•æ˜¯æŠŠgvfsé‡æ–°å®‰è£…ä¸€éä¿®å¤ç¼ºå¤±ã€‚<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install gvfs gvfs-backends gvfs-fuse</span><br></pre></td></tr></table></figure><br>æœ€åï¼Œæ³¨é”€ç”¨æˆ·ï¼Œé‡æ–°ç™»å½•ã€‚<br>å†æ¬¡æ‰“å¼€<code>thunaræ–‡ä»¶ç®¡ç†å™¨</code>ï¼Œå·¦ä¾§å¯çœ‹åˆ°<code>æµè§ˆç½‘ç»œ</code>å›¾æ ‡ï¼Œç‚¹å‡»åå¯ä»¥çœ‹åˆ°å±€åŸŸç½‘å…±äº«è®¾å¤‡ã€‚</p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Debian</tag>
        <tag>Gvfs</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å°äºŒä¹˜æ³•çš„ç®—æœ¯æ¨å¯¼</title>
    <url>/2020/12/25/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95%E7%9A%84%E7%AE%97%E6%9C%AF%E6%8E%A8%E5%AF%BC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="\pic\2020\12\æœ€å°äºŒä¹˜æ³•çš„ç®—æœ¯æ¨å¯¼.png" alt="æœ€å°äºŒä¹˜æ³•çš„ç®—æœ¯æ¨å¯¼"></p>
<p>$\hat y=a+bx$</p>
<p>$\begin{aligned} Q&amp;=\displaystyle \sum^n_{i=1}{(y_i-\hat y)^2}\\\<br>&amp;={(y_1-\hat y_1)^2}+{(y_2-\hat y_2)^2}+ \cdots +{(y_n-\hat y_n)^2} \end{aligned}$</p>
<p>å…¶ä¸­$\hat y$ä¸ºå›å½’æ–¹ç¨‹ï¼Œæ±‚$Q$æœ€å°æ—¶å›å½’æ–¹ç¨‹çš„ç³»æ•°aï¼Œbå–å€¼ã€‚</p>
<h2 id="å…·ä½“æ¨å¯¼å¦‚ä¸‹ï¼š"><a href="#å…·ä½“æ¨å¯¼å¦‚ä¸‹ï¼š" class="headerlink" title="å…·ä½“æ¨å¯¼å¦‚ä¸‹ï¼š"></a>å…·ä½“æ¨å¯¼å¦‚ä¸‹ï¼š</h2><h2 id="ä¸€ã€é¢„å¤‡å…¬å¼"><a href="#ä¸€ã€é¢„å¤‡å…¬å¼" class="headerlink" title="ä¸€ã€é¢„å¤‡å…¬å¼"></a><strong>ä¸€ã€é¢„å¤‡å…¬å¼</strong></h2><h3 id="1-gt"><a href="#1-gt" class="headerlink" title="1&gt;"></a>1&gt;</h3><p>$\displaystyle \sum^n_{i=1}{(x_i-{\bar x})^2}=\displaystyle \sum^n_{i=1}{x_i^2-n{\bar x}^2}$,</p>
<p>å…¶ä¸­:$\bar x=\frac {x_1+x_2+\cdots +x_n}{n}$</p>
<h5 id="æ¨å¯¼"><a href="#æ¨å¯¼" class="headerlink" title="æ¨å¯¼:"></a><strong>æ¨å¯¼:</strong></h5><p>$\begin{aligned} å·¦è¾¹&amp;={(x_1-\bar x_1)^2}+{(x_2-\bar x_2)^2}+ \cdots +{(x_n-\bar x_n)^2}\\\<br>&amp;=x_1^2+x_2^2+ \cdots +x_n^2-2\bar xÂ·(x_1+x_2+ \cdots +x_n)+n\bar x^2\\\<br>&amp;=\displaystyle \sum^n_{i=1}{x_i^2}-2\bar xÂ·nÂ·\bar x + nÂ·\bar x^2\\\<br>&amp;=\displaystyle\sum^n_{i=1}{x_i^2-n\bar x^2}=å³è¾¹ \end{aligned}$</p>
<h3 id="2-gt"><a href="#2-gt" class="headerlink" title="2&gt;"></a>2&gt;</h3><p>$\displaystyle\sum^n_{i=1}{(x_i-\bar x)}{(y_i-\bar y)}=\displaystyle \sum^n_{i=1}{x_i}{y_i}-n\bar x\bar y$ï¼Œ</p>
<p>å…¶ä¸­:$\bar x=\frac {x_1+x_2+\cdots+x_n}{n},\bar y=\frac{y_1+y_2+\cdots + y_n}{n}$</p>
<h5 id="æ¨å¯¼ï¼š"><a href="#æ¨å¯¼ï¼š" class="headerlink" title="æ¨å¯¼ï¼š"></a><strong>æ¨å¯¼ï¼š</strong></h5><p>$\begin{aligned} å·¦è¾¹&amp;={(x_1-\bar x_1)}{(y_1-\bar y_1)}+{(x_2-\bar x_2)}{(y_2-\bar y_2)}+ \cdots +{(x_n-\bar x_n)}{(y_n-\bar y_n)}\\\<br>&amp;=(x_1y_1+x_2y_2+\cdots+x_nÂ·y_n)+n\bar xÂ·\bar y-(y_1+y_2+\cdots+y_n)Â·\bar x-(x_1+x_2+\cdots+x_n)Â·\bar y\\\<br>&amp;=\displaystyle\sum^ n_{i=1}{x_i}{y_i}+n\bar xÂ·\bar y-n\bar yÂ·\bar x-n\bar x\bar y\\\<br>&amp;=\displaystyle\sum^n_{i=1}{x_i}{y_i}-n\bar x\bar y=å³è¾¹ \end{aligned}$</p>
<h2 id="äºŒã€æ¨å¯¼è¿‡ç¨‹"><a href="#äºŒã€æ¨å¯¼è¿‡ç¨‹" class="headerlink" title="äºŒã€æ¨å¯¼è¿‡ç¨‹"></a><strong>äºŒã€æ¨å¯¼è¿‡ç¨‹</strong></h2><p>$\begin{aligned} Q &amp;=\displaystyle \sum^n_{i=1}{(y_i-\hat y)^2}\\\<br>&amp;=\displaystyle \sum^n_{i=1}{[y_i-(a+bx_i)]}^2\\\<br>&amp;=(y_1^2+y_2^2+ \cdots +y_n^2)+na^2+b^2(x_1^2 + x_2^2 + \cdots +x_n^2)+2aÂ·bÂ·(x_1+x_2+\cdots+x_n)-2aÂ·(y_1+y_2+\cdots +y_n)-2b(x_1Â·y_1+x_2Â·y_2+\cdots +x_nÂ·y_n)\\\<br>&amp;=\displaystyle \sum^n_{i=1}y_i^2+na^2+b^2Â·\displaystyle \sum^n_{i=1}x_i^2+2abÂ·nÂ·\bar x-2aÂ·nÂ·\bar y-2bÂ·\displaystyle \sum^n_{i=1}x_iy_i\\\<br>&amp;=\displaystyle \sum^n_{i=1}y_i^2-2b\displaystyle \sum^n_{i=1}x_iy_i+b^2Â·\displaystyle \sum^n_{i=1}x_i^2+na^2-nÂ·2aÂ·(\bar y-b\bar x)\\\<br>&amp;=\displaystyle \sum^n_{i=1}y_i^2-2b\displaystyle \sum^n_{i=1}x_iy_i+b^2Â·\displaystyle \sum^n_{i=1}x_i^2+n[a-(\bar y-b\bar x)]^2-n[(\bar y-b\bar x)]^2\\\<br>&amp;=n[(\bar y-b\bar x)]^2-n\bar y^2+2nÂ·bÂ·\bar xÂ·\bar y-nÂ·b^2Â·\bar x^2+b^2Â·\displaystyle \sum^n_{i=1}x_i^2-2bÂ·\displaystyle \sum^n_{i=1}x_iy_i+\displaystyle \sum^n_{i=1}y_i^2\\\<br>&amp;=n[(\bar y-b\bar x)]^2+b^2(\displaystyle \sum^n_{i=1}x_i^2-nÂ·\bar x^2)+\displaystyle \sum^n_{i=1}y_i^2-nÂ·\bar y^2-2bÂ·(\displaystyle \sum^n_{i=1}x_iy_i-nÂ·\bar xÂ·\bar y)\\\<br>&amp;=n[a-(\bar y-b\bar x)]^2+b^2{\displaystyle \sum^n_{i=1}(x_i-\bar x)^2}-2bÂ·\displaystyle \sum^n_{i=1}{(x_i-\bar x)(y_i-\bar y)}+\displaystyle \sum^n_{i=1}y_i^2-nÂ·\bar y^2\\\<br>&amp;=n[a-(\bar y-b\bar x)]^2+{\displaystyle \sum^n_{i=1}(x_i-\bar x)^2}Â·\left [b^2-2bÂ·\frac {\displaystyle \sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)}{\displaystyle \sum^n_{i=1}{(x_i-\bar x)^2}}\right ] +\displaystyle \sum^n_{i=1}y_i-nÂ·\bar y^2\\\<br>&amp;=n[a-(\bar y-b\bar x)]^2+{\displaystyle \sum^n_{i=1}(x_i-\bar x)^2}Â·\left [b-\frac {\displaystyle \sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)}{\displaystyle \sum^n_{i=1}{(x_i-\bar x)^2}}\right ]^2-\frac {\left [{\displaystyle \sum^n_{i=1}}(x_i-{\bar x})(y_i-\bar y)\right ]^2}{\displaystyle \sum^n_{i=1}{(x_i-\bar x)^2}}+ \displaystyle \sum^n_{i=1}y_i-nÂ·\bar y^2 \end{aligned}$<br>å› ä¸ºï¼š</p>
<p>$\displaystyle \sum^n_{i=1}(x_i-\bar x)^2$</p>
<p>å’Œ</p>
<p>$\frac {[\displaystyle \sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)]^2}{\displaystyle \sum^n_{i=1}(x_i-\bar x)^2}$</p>
<p>åŠ</p>
<p>$\displaystyle \sum^n_{i=1}y_i-nÂ·\bar y^2$</p>
<p>ä¸ºå¸¸æ•°ã€‚</p>
<p>æ‰€ä»¥:</p>
<p>$Q_{min}=<br>\begin{cases}<br>a-(\bar y-b\bar x)=0\\\<br>b-\frac {\displaystyle \sum^n_{i=1}(x_i-\bar x)(y_i-\bar y)}{\displaystyle \sum^n_{i=1}(x_i-\bar x)^2}=0<br>\end{cases}<br>\Longrightarrow \begin{cases} a=\bar y-b\bar x\\\<br>b=\frac {\displaystyle \sum^n_{i=1}(x_iy_i-nÂ·\bar x\bar y)}{\displaystyle \sum^n_{i=1}x_i^2-nÂ·\bar x^2}<br>\end{cases}<br>$</p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Markdown</category>
        <category>å­¦ç§‘æ•™è‚²</category>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Mathjax</tag>
        <tag>Latex</tag>
        <tag>Statistics</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”³è¯·å…è´¹çš„MongoDBäº‘æ•°æ®åº“</title>
    <url>/2021/12/08/%E7%94%B3%E8%AF%B7%E5%85%8D%E8%B4%B9%E7%9A%84MongoDB%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€æ³¨å†Œç™»å½•"><a href="#1ã€æ³¨å†Œç™»å½•" class="headerlink" title="1ã€æ³¨å†Œç™»å½•"></a>1ã€æ³¨å†Œç™»å½•</h1><p>æ‰“å¼€<a href="https://cloud.mongodb.com">mongodbå®˜ç½‘</a>å¹¶æ³¨å†Œç™»å½•ï¼Œå…è´¹çš„MongoDBäº‘æ•°æ®åº“æœ‰512MBå¤§å°ã€‚</p>
<h1 id="2ã€é€‰æ‹©å¹¶é…ç½®"><a href="#2ã€é€‰æ‹©å¹¶é…ç½®" class="headerlink" title="2ã€é€‰æ‹©å¹¶é…ç½®"></a>2ã€é€‰æ‹©å¹¶é…ç½®</h1><p>åœ¨é¡¹ç›®é¡µé¢ç‚¹å‡»<code>Create a New Cluster</code>æŒ‰é’®<br>å¦‚å›¾ï¼š<br><img src="/pic/2021/12/MongoDB/MongoDB-1.jpg" alt="MongoDB-1"></p>
<p>å¯å‚ç…§ä¸‹å›¾è¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹åˆ—å›¾ç¤ºï¼š<br><img src="/pic/2021/12/MongoDB/MongoDB-2.jpg" alt="MongoDB-2"><br><code>MongoDB</code>æä¾›ä¸‰ç§äº‘å­˜å‚¨æ–¹æ¡ˆï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š<br><code>äºšé©¬é€Š</code><br><img src="/pic/2021/12/MongoDB/MongoDB-2-1.jpg" alt="MongoDB-2-1"><br><code>è°·æ­Œ</code><br><img src="/pic/2021/12/MongoDB/MongoDB-2-2.jpg" alt="MongoDB-2-2"><br><code>å¾®è½¯</code><br><img src="/pic/2021/12/MongoDB/MongoDB-2-3.jpg" alt="MongoDB-2-3"><br>æ ¹æ®å®é™…æƒ…å†µè‡ªå·±é€‰æ‹©ï¼ˆæœ¬ä¾‹é€‰æ‹©<code>Google--&gt;taiwan</code>ï¼‰</p>
<p>ç‚¹å‡»<code>Create Cluster</code>å³å¯.</p>
<h1 id="3ã€è®¾ç½®æ•°æ®åº“è´¦å·å’Œå¯†ç "><a href="#3ã€è®¾ç½®æ•°æ®åº“è´¦å·å’Œå¯†ç " class="headerlink" title="3ã€è®¾ç½®æ•°æ®åº“è´¦å·å’Œå¯†ç "></a>3ã€è®¾ç½®<code>æ•°æ®åº“è´¦å·</code>å’Œ<code>å¯†ç </code></h1><p>å¦‚ä¸‹å›¾ï¼š<br><img src="/pic/2021/12/MongoDB/MongoDB-2-4.jpg" alt="MongoDB-2-4"></p>
<p>ä¹Ÿå¯é€‰é€‰æ‹©<code>Certificate</code>ï¼Œå…·ä½“å¯å‚ç…§æç¤ºæ‰§è¡Œã€‚å¸¦è¯ä¹¦çš„æ“ä½œæ–¹å¼å¯å‚ç…§[<code>Python</code>è¿æ¥æ“ä½œ]ä¸­çš„<a href="#solve">é—®é¢˜è§£å†³</a>ã€‚</p>
<h1 id="4ã€è®¾ç½®è¿›è¡Œç™»å½•æ•°æ®åº“æ“ä½œçš„IPåœ°å€"><a href="#4ã€è®¾ç½®è¿›è¡Œç™»å½•æ•°æ®åº“æ“ä½œçš„IPåœ°å€" class="headerlink" title="4ã€è®¾ç½®è¿›è¡Œç™»å½•æ•°æ®åº“æ“ä½œçš„IPåœ°å€"></a>4ã€è®¾ç½®è¿›è¡Œç™»å½•æ•°æ®åº“æ“ä½œçš„<code>IPåœ°å€</code></h1><p>ç‚¹å‡»çº¢æ¡†æ‰€ç¤ºï¼Œä¼šè‡ªåŠ¨æ·»åŠ æœ¬æœº<code>ipåœ°å€</code><br><img src="/pic/2021/12/MongoDB/MongoDB-2-5.jpg" alt="MongoDB-2-5"><br>è‹¥è¦è®¾ç½®ä»»æ„<code>IP</code>å¯ç™»å½•æ“ä½œå¯è®¾ç½®ä¸º<code>0.0.0.0/0</code>,<code>Description</code>æ ¹æ®æ‰€å¥½éšä¾¿å¡«å†™ã€‚<br><img src="/pic/2021/12/MongoDB/MongoDB-2-5-1.jpg" alt="MongoDB-2-5-1"></p>
<h1 id="5ã€åç»­æ“ä½œæ•°æ®åº“"><a href="#5ã€åç»­æ“ä½œæ•°æ®åº“" class="headerlink" title="5ã€åç»­æ“ä½œæ•°æ®åº“"></a>5ã€åç»­æ“ä½œæ•°æ®åº“</h1><p>é…ç½®å®Œæˆåï¼Œç‚¹å‡»é¡¹ç›®é¡µé¢å·¦ä¾§çš„<code>Databases</code>ï¼Œä¼šå‡ºç°é…ç½®ä¸Šçº¿çš„æ•°æ®åº“ã€‚<br>å¯ä»¥ç‚¹å‡»å³è¾¹<code>Connect</code>ï¼Œæ ¹æ®æç¤ºé€‰æ‹©ç›¸åº”çš„è¿æ¥æ•°æ®åº“æ–¹å¼ã€‚<br><img src="/pic/2021/12/MongoDB/MongoDB-2-6.jpg" alt="MongoDB-2-6"><br>æ¯”å¦‚<code>mongosh</code>ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mongosh <span class="string">&quot;mongodb+srv://ä¸»æœºåœ°å€/æ•°æ®åº“å&quot;</span> --username ä½ çš„æ•°æ®åº“ç”¨æˆ·å</span><br></pre></td></tr></table></figure><br><img src="/pic/2021/12/MongoDB/MongoDB-2-7.jpg" alt="MongoDB-2-7"></p>
<p>å„ç§æ–¹å¼è¿æ¥å¦‚ä¸‹åˆ—å›¾ï¼š</p>
<h2 id="1-Mongoshåœ¨win10ä¸Šè¿æ¥å’Œæ“ä½œ"><a href="#1-Mongoshåœ¨win10ä¸Šè¿æ¥å’Œæ“ä½œ" class="headerlink" title="(1)Mongoshåœ¨win10ä¸Šè¿æ¥å’Œæ“ä½œ"></a>(1)<code>Mongosh</code>åœ¨<code>win10</code>ä¸Šè¿æ¥å’Œæ“ä½œ</h2><h3 id="â‘ ç™»å½•ã€æ’å…¥ã€æŸ¥è¯¢"><a href="#â‘ ç™»å½•ã€æ’å…¥ã€æŸ¥è¯¢" class="headerlink" title="â‘ ç™»å½•ã€æ’å…¥ã€æŸ¥è¯¢"></a>â‘ ç™»å½•ã€æ’å…¥ã€æŸ¥è¯¢</h3><p><img src="/pic/2021/12/MongoDB/MongoDB-mongosh.jpg" alt="MongoDB-mongosh"></p>
<h3 id="â‘¡ç™»å½•ã€æŸ¥è¯¢"><a href="#â‘¡ç™»å½•ã€æŸ¥è¯¢" class="headerlink" title="â‘¡ç™»å½•ã€æŸ¥è¯¢"></a>â‘¡ç™»å½•ã€æŸ¥è¯¢</h3><p><img src="/pic/2021/12/MongoDB/MongoDB-mongosh-1.jpg" alt="MongoDB-mongosh-1"></p>
<h2 id="2-Mongoshåœ¨Debian11ä¸Šè¿æ¥å’Œæ“ä½œå‚æ•°"><a href="#2-Mongoshåœ¨Debian11ä¸Šè¿æ¥å’Œæ“ä½œå‚æ•°" class="headerlink" title="(2)Mongoshåœ¨Debian11ä¸Šè¿æ¥å’Œæ“ä½œå‚æ•°"></a>(2)<code>Mongosh</code>åœ¨<code>Debian11</code>ä¸Šè¿æ¥å’Œæ“ä½œå‚æ•°</h2><p>æŒ‰<code>win10</code>ç³»ç»Ÿçš„å‚æ•°è¿æ¥ä¼šæŠ¥é”™ï¼š<code>pymongo.errors.ConfigurationError:The DNS operation timed out after XXXXX</code><br>è§£å†³å‚è€ƒæ–¹æ³•å¦‚ä¸‹ã€é€‰æ‹©<code>pymongo</code>ä½ç‰ˆæœ¬è¿æ¥å‚æ•°ã€‘ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… mongosh</span></span><br><span class="line">wget -qO mongodb-mongosh.deb https://downloads.mongodb.com/compass/mongodb-mongosh_1.1.6_amd64.deb</span><br><span class="line">sudo dpkg -i mongodb-mongosh.deb</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™»å½•</span></span><br><span class="line"></span><br><span class="line">$ mongosh <span class="string">&#x27;mongodb://ä¸»æœº00.mongodb.net:27017,ä¸»æœº01.mongodb.net:27017,ä¸»æœº02.mongodb.net:27017/æ•°æ®åº“åç§°?ssl=true&amp;replicaSet=atlas-hkayl1-shard-0&amp;authSource=admin&amp;retryWrites=true&amp;w=majority&#x27;</span> --username æ•°æ®åº“ç”¨æˆ·å</span><br><span class="line">Enter password: *********</span><br><span class="line">Current Mongosh Log ID: XXXXXX</span><br><span class="line">Connecting to:   mongodb://ä¸»æœº00.mongodb.net:27017,ä¸»æœº01.mongodb.net:27017,ä¸»æœº02.mongodb.net:27017/æ•°æ®åº“åç§°?ssl=<span class="literal">true</span>&amp;replicaSet=atlas-hkayl1-shard-0&amp;authSource=admin&amp;retryWrites=<span class="literal">true</span>&amp;w=majority</span><br><span class="line">Using MongoDB:      4.4.10</span><br><span class="line">Using Mongosh:      1.1.6</span><br></pre></td></tr></table></figure></p>
<h3 id="â‘¢ä¿®æ”¹"><a href="#â‘¢ä¿®æ”¹" class="headerlink" title="â‘¢ä¿®æ”¹"></a>â‘¢ä¿®æ”¹</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; db.test.find()</span><br><span class="line">[</span><br><span class="line">  &#123; _id: 0, name: <span class="string">&#x27;zs&#x27;</span>, age: 39, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 2, name: <span class="string">&#x27;ww&#x27;</span>, age: 32, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 1, name: <span class="string">&#x27;ls&#x27;</span>, age: 29, high: 175 &#125;,</span><br><span class="line">  &#123; _id: 3, name: <span class="string">&#x27;èµµå…­&#x27;</span>, age: 39, high: 175 &#125;,</span><br><span class="line">  &#123; _id: 5, name: <span class="string">&#x27;å­™å…«&#x27;</span>, age: 19, high: 165 &#125;,</span><br><span class="line">  &#123; _id: 6, name: <span class="string">&#x27;å‘¨å…¬&#x27;</span>, age: 38, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 4, name: <span class="string">&#x27;é’±ä¸ƒ&#x27;</span>, age: 39, high: 172 &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: 7,</span><br><span class="line">    name: <span class="string">&#x27;å´ä¸ƒ&#x27;</span>,</span><br><span class="line">    age: 38,</span><br><span class="line">    high: 178,</span><br><span class="line">    comment: <span class="string">&#x27;æ›´æ–°äºèº«é«˜é«˜äº175çš„ä¸€æ¡è®°å½•&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: ObjectId(<span class="string">&quot;61b80df04e8e73c1813dada4&quot;</span>),</span><br><span class="line">    name: <span class="string">&#x27;é‡å…«&#x27;</span>,</span><br><span class="line">    age: 29,</span><br><span class="line">    high: 176</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: ObjectId(<span class="string">&quot;61b80e014e8e73c1813dada5&quot;</span>),</span><br><span class="line">    name: <span class="string">&#x27;è€ä¹&#x27;</span>,</span><br><span class="line">    age: 32,</span><br><span class="line">    high: 169</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line">&gt; db.test.updateOne(&#123;_id:ObjectId(<span class="string">&quot;61b80e014e8e73c1813dada5&quot;</span>)&#125;,&#123;<span class="variable">$set</span>:&#123;high:168&#125;&#125;)</span><br><span class="line">&#123;</span><br><span class="line">  acknowledged: <span class="literal">true</span>,</span><br><span class="line">  insertedId: null,</span><br><span class="line">  matchedCount: 1,</span><br><span class="line">  modifiedCount: 1,</span><br><span class="line">  upsertedCount: 0</span><br><span class="line">&#125;</span><br><span class="line">&gt; db.test.find()</span><br><span class="line">[</span><br><span class="line">  &#123; _id: 0, name: <span class="string">&#x27;zs&#x27;</span>, age: 39, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 2, name: <span class="string">&#x27;ww&#x27;</span>, age: 32, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 1, name: <span class="string">&#x27;ls&#x27;</span>, age: 29, high: 175 &#125;,</span><br><span class="line">  &#123; _id: 3, name: <span class="string">&#x27;èµµå…­&#x27;</span>, age: 39, high: 175 &#125;,</span><br><span class="line">  &#123; _id: 5, name: <span class="string">&#x27;å­™å…«&#x27;</span>, age: 19, high: 165 &#125;,</span><br><span class="line">  &#123; _id: 6, name: <span class="string">&#x27;å‘¨å…¬&#x27;</span>, age: 38, high: 172 &#125;,</span><br><span class="line">  &#123; _id: 4, name: <span class="string">&#x27;é’±ä¸ƒ&#x27;</span>, age: 39, high: 172 &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: 7,</span><br><span class="line">    name: <span class="string">&#x27;å´ä¸ƒ&#x27;</span>,</span><br><span class="line">    age: 38,</span><br><span class="line">    high: 178,</span><br><span class="line">    comment: <span class="string">&#x27;æ›´æ–°äºèº«é«˜é«˜äº175çš„ä¸€æ¡è®°å½•&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: ObjectId(<span class="string">&quot;61b80df04e8e73c1813dada4&quot;</span>),</span><br><span class="line">    name: <span class="string">&#x27;é‡å…«&#x27;</span>,</span><br><span class="line">    age: 29,</span><br><span class="line">    high: 176</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    _id: ObjectId(<span class="string">&quot;61b80e014e8e73c1813dada5&quot;</span>),</span><br><span class="line">    name: <span class="string">&#x27;è€ä¹&#x27;</span>,</span><br><span class="line">    age: 32,</span><br><span class="line">    high: 168</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h2 id="2-åº”ç”¨è¿æ¥æ“ä½œ"><a href="#2-åº”ç”¨è¿æ¥æ“ä½œ" class="headerlink" title="(2)åº”ç”¨è¿æ¥æ“ä½œ"></a>(2)åº”ç”¨è¿æ¥æ“ä½œ</h2><h3 id="Pythonè¿æ¥åœ¨window10ä¸Šæ“ä½œ"><a href="#Pythonè¿æ¥åœ¨window10ä¸Šæ“ä½œ" class="headerlink" title="Pythonè¿æ¥åœ¨window10ä¸Šæ“ä½œ"></a><code>Python</code>è¿æ¥åœ¨<code>window10</code>ä¸Šæ“ä½œ</h3><p><del>(ä½†æ˜¯å®é™…æµ‹è¯•ä¸æˆåŠŸï¼Œä¸€ç›´æŠ¥é”™)å¾…è§£å†³ã€‚</del>  <font color='red'>å·²ç»è§£å†³</font>ï¼Œå‚ç…§ï¼š<a href="#solve">è§£å†³æ–¹å¼</a></p>
<p><img src="/pic/2021/12/MongoDB/MongoDB-python.jpg" alt="MongoDB-python"><br><strong>ä»¥ä¸‹<code>python</code>è¿æ¥å‚æ•°ç‰ˆæœ¬é’ˆå¯¹<code>python3.10</code>&amp;<code>pymongo-3.12.3</code></strong> å‚è€ƒï¼š<a href="#pymongo4">é—®é¢˜è§£å†³</a><br>æŸ¥è¯¢<code>python</code>åŠ<code>pymongo</code>ç‰ˆæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python -V</span><br><span class="line">pip show pymongo</span><br></pre></td></tr></table></figure><br>ç‰ˆæœ¬é©±åŠ¨å¯¹åº”å…³ç³»ï¼š<a href="https://docs.mongodb.com/drivers/pymongo/">MongoDB Drivers</a></p>
<h4 id="â‘ å®‰è£…æ¨¡å—ï¼š"><a href="#â‘ å®‰è£…æ¨¡å—ï¼š" class="headerlink" title="â‘ å®‰è£…æ¨¡å—ï¼š"></a>â‘ å®‰è£…æ¨¡å—ï¼š</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pymongo</span><br><span class="line">python -m pip install --upgrade pip</span><br><span class="line">python -m pip install <span class="string">&quot;pymongo[srv]&quot;</span></span><br><span class="line">python -m pip install <span class="string">&quot;pymongo[tls]&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¡ç”¨pythonæ“ä½œmongodbæ•°æ®åº“"><a href="#â‘¡ç”¨pythonæ“ä½œmongodbæ•°æ®åº“" class="headerlink" title="â‘¡ç”¨pythonæ“ä½œmongodbæ•°æ®åº“"></a>â‘¡ç”¨<code>python</code>æ“ä½œ<code>mongodb</code>æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line"><span class="comment"># import datetime</span></span><br><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line"></span><br><span class="line">host = <span class="string">&quot;ä¸»æœºåœ°å€&quot;</span></span><br><span class="line">user = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å&quot;</span></span><br><span class="line">passwd = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å¯†ç &quot;</span></span><br><span class="line">db_name = <span class="string">&quot;è¦æ“ä½œçš„æ•°æ®åº“å&quot;</span></span><br><span class="line">set_name = <span class="string">&quot;é›†åˆå&quot;</span></span><br><span class="line"></span><br><span class="line">uri = <span class="string">&#x27;mongodb+srv://&#x27;</span>+user+<span class="string">&#x27;:&#x27;</span>+passwd+<span class="string">&#x27;@&#x27;</span>+host+<span class="string">&#x27;/&#x27;</span>+db_name+<span class="string">&#x27;?retryWrites=true&amp;w=majority&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line">    client = MongoClient(uri, serverSelectionTimeoutMS=<span class="number">5000</span>)</span><br><span class="line">    <span class="built_in">print</span>(client)</span><br><span class="line">    <span class="built_in">print</span>(client.list_database_names())</span><br><span class="line">    <span class="comment"># dbs = client[&quot;è¦æ“ä½œçš„æ•°æ®åº“å&quot;]</span></span><br><span class="line">    <span class="comment"># mydbs = dbs[&quot;test&quot;]</span></span><br><span class="line">    <span class="comment"># print(&quot;é›†åˆå&quot;)</span></span><br><span class="line">    <span class="comment"># for mydb in mydbs.find():</span></span><br><span class="line">    <span class="comment">#     print(mydb)</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è¿æ¥å¤±è´¥ï¼š&quot;</span>,e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    client.close()</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æŠ¥é”™å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è¿æ¥å¤±è´¥ï¼š ä¸»æœºåœ°å€:27017: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:997)ä»¥ä¸‹çœç•¥ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure></p>
<p><a name="solve"></a></p>
<p><strong>è§£å†³æ–¹å¼</strong>ï¼š<br>åœ¨æ–‡ä»¶å¤´åŠ ä¸Š<code>import certifi, ssl</code>,åœ¨è¿æ¥å‚æ•°é‡Œé¢åŠ ä¸Š<code>ssl_cert_reqs=ssl.CERT_NONE</code>,ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line"><span class="comment"># import datetime</span></span><br><span class="line"><span class="keyword">import</span> certifi, ssl</span><br><span class="line"></span><br><span class="line"><span class="comment">########### </span></span><br><span class="line"><span class="comment"># ä½¿ç”¨X.509è¯ä¹¦è¿æ¥</span></span><br><span class="line"><span class="comment">###########</span></span><br><span class="line"></span><br><span class="line">certPath = certifi.where().replace(<span class="string">&quot;\\&quot;</span>,<span class="string">&quot;/&quot;</span>)  <span class="comment"># æŸ¥è¯¢sslè¯ä¹¦è·¯å¾„ï¼Œä¸‹é¢å‚æ•°`ssl=True`æ—¶éœ€è¦éªŒè¯è¯ä¹¦è·¯å¾„</span></span><br><span class="line">uri = <span class="string">&quot;mongodb+srv://ä¸»æœºåœ°å€/æ•°æ®åº“å?authSource=%24external&amp;authMechanism=MONGODB-X509&amp;retryWrites=true&amp;w=majority&quot;</span></span><br><span class="line"><span class="comment">## å¸¦sslè¯ä¹¦å‚æ•°</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;------è¦æ±‚sslè¯ä¹¦éªŒè¯------&quot;</span>)</span><br><span class="line">client = MongoClient(uri,</span><br><span class="line">                     ssl=<span class="literal">True</span>,</span><br><span class="line">                     ssl_ca_certs=certPath,</span><br><span class="line">                     tls=<span class="literal">True</span>,</span><br><span class="line">                     tlsCertificateKeyFile=<span class="string">r&#x27;X509-cert-è·¯å¾„\è¯ä¹¦å.pem&#x27;</span>)</span><br><span class="line"><span class="comment">## ä¸è¦æ±‚éªŒè¯sslè¯ä¹¦</span></span><br><span class="line"><span class="comment"># print(&quot;------ä¸è¦æ±‚sslè¯ä¹¦éªŒè¯------&quot;)</span></span><br><span class="line"><span class="comment"># client = MongoClient(uri,</span></span><br><span class="line"><span class="comment">#                      ssl_cert_reqs=ssl.CERT_NONE,       </span></span><br><span class="line"><span class="comment">#                      tls=True,</span></span><br><span class="line"><span class="comment">#                      tlsCertificateKeyFile=r&#x27;X509-cert-è·¯å¾„\è¯ä¹¦å.pem&#x27;)</span></span><br><span class="line"></span><br><span class="line">db = client[<span class="string">&#x27;è¦æ“ä½œçš„æ•°æ®åº“å&#x27;</span>]</span><br><span class="line">collection = db[<span class="string">&#x27;è¦æ“ä½œçš„æ•°æ®åº“ä¸‹çš„æ•°æ®é›†&#x27;</span>]</span><br><span class="line">doc_count = collection.count_documents(&#123;&#125;)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åœ¨è¯¥æ•°æ®é›†ä¸‹å…±æœ‰ï¼š&quot;</span>,doc_count,<span class="string">&quot;æ¡æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">########### </span></span><br><span class="line"><span class="comment"># ä½¿ç”¨è´¦å·å’Œå¯†ç è¿æ¥</span></span><br><span class="line"><span class="comment">###########</span></span><br><span class="line"></span><br><span class="line">host = <span class="string">&quot;ä¸»æœºåœ°å€&quot;</span></span><br><span class="line">user = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å&quot;</span></span><br><span class="line">passwd = <span class="string">&quot;æ•°æ®åº“ç”¨æˆ·å¯†ç &quot;</span></span><br><span class="line">db_name = <span class="string">&quot;è¦æ“ä½œçš„æ•°æ®åº“å&quot;</span></span><br><span class="line">set_name = <span class="string">&quot;é›†åˆå&quot;</span></span><br><span class="line"></span><br><span class="line">uri = <span class="string">&#x27;mongodb+srv://&#x27;</span>+user+<span class="string">&#x27;:&#x27;</span>+passwd+<span class="string">&#x27;@&#x27;</span>+host+<span class="string">&#x27;/&#x27;</span>+db_name+<span class="string">&#x27;?retryWrites=true&amp;w=majority&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">## è®¾ç½®è¿æ¥è¶…æ—¶5ç§’</span></span><br><span class="line">    <span class="comment">## æ·»åŠ sslè¯ä¹¦è·¯å¾„å‚æ•°ï¼Œ`print(certifi.where())`å¯è¾“å‡ºsslè¯ä¹¦è·¯å¾„</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;------è¦æ±‚sslè¯ä¹¦éªŒè¯------&quot;</span>)</span><br><span class="line">    client = MongoClient(uri, ssl_ca_certs= certPath, serverSelectionTimeoutMS=<span class="number">5000</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">## ä¸è¯·æ±‚éªŒè¯è¯ä¹¦</span></span><br><span class="line">    <span class="comment">#print(&quot;------ä¸è¦æ±‚sslè¯ä¹¦éªŒè¯------&quot;)</span></span><br><span class="line">    <span class="comment"># client = MongoClient(uri, ssl_cert_reqs=ssl.CERT_NONE, serverSelectionTimeoutMS=5000)</span></span><br><span class="line">    <span class="comment"># print(client)</span></span><br><span class="line">    <span class="comment"># print(&quot;æ‰€å­˜åœ¨çš„æ•°æ®åº“æœ‰ï¼š&quot;, client.list_database_names())</span></span><br><span class="line">    dbs = client[<span class="string">&quot;æ•°æ®åº“å&quot;</span>]</span><br><span class="line">    mydbs = dbs[<span class="string">&quot;æ•°æ®é›†å&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ•°æ®åº“è¿æ¥æˆåŠŸ&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> mydb <span class="keyword">in</span> mydbs.find():</span><br><span class="line">        <span class="built_in">print</span>(mydb)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è¿æ¥å¤±è´¥ï¼š&quot;</span>,e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    client.close()</span><br></pre></td></tr></table></figure><br>æœ€ç»ˆç»“æœå¦‚å›¾ï¼š<br><img src="/pic/2021/12/MongoDB/MongoDB-python-1.jpg" alt="MongoDB-python-1"></p>
<h4 id="Pythonè¿æ¥åœ¨Debian11ä¸Šæ“ä½œ"><a href="#Pythonè¿æ¥åœ¨Debian11ä¸Šæ“ä½œ" class="headerlink" title="Pythonè¿æ¥åœ¨Debian11ä¸Šæ“ä½œ"></a><code>Python</code>è¿æ¥åœ¨<code>Debian11</code>ä¸Šæ“ä½œ</h4><p>== python FOR debian==<br>æŒ‰<code>win10</code>ç³»ç»Ÿçš„å‚æ•°è¿æ¥ä¼šæŠ¥é”™ï¼š<code>pymongo.errors.ConfigurationError:The DNS operation timed out after XXXXX</code><br>è§£å†³åŠæ³•ï¼Œæ›´æ”¹é©±åŠ¨ç‰ˆæœ¬è¿æ¥å‚æ•°ï¼š<br><code>pymongo</code>é©±åŠ¨ç¨‹åºç‰ˆæœ¬<code>3.4+</code>é“¾æ¥å­—ç¬¦ä¸²ã€å‚æ•°åœ¨<code>MongoDBç½‘ç«™</code>é¡¹ç›®æ•°æ®åº“è¿æ¥é€‰é¡¹é‡Œå¯æŸ¥åˆ°ã€‘å¤§ä½“å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">uri = <span class="string">&#x27;mongodb://æ•°æ®åº“ç”¨æˆ·å:æ•°æ®åº“ç”¨æˆ·å¯†ç @ä¸»æœº00.mongodb.net:27017,ä¸»æœº01.mongodb.net:27017,ä¸»æœº02.mongodb.net:27017/æ•°æ®åº“åç§°?ssl=true&amp;replicaSet=atlas-hkayl1-shard-0&amp;authSource=admin&amp;retryWrites=true&amp;w=majority&#x27;</span></span><br><span class="line"><span class="comment"># print(uri)</span></span><br></pre></td></tr></table></figure><br><a name="pymongo4"></a></p>
<h4 id="å…¶ä»–äº‹é¡¹"><a href="#å…¶ä»–äº‹é¡¹" class="headerlink" title="å…¶ä»–äº‹é¡¹"></a>å…¶ä»–äº‹é¡¹</h4><p>å¦‚æœå‡çº§<code>pymongo</code>åˆ°æœ€æ–°4.0.1ç‰ˆæœ¬ä¼šæç¤ºï¼š<code>mongoengine 0.23.1 requires pymongo&lt;4.0,&gt;=3.4, but you have pymongo 4.0.1 which is incompatible.</code><br>ç”¨<code>python</code>æ¥æ•°æ®åº“ä¼šæç¤ºï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è¿æ¥å¤±è´¥ï¼š Unknown option ssl_cert_reqs</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;XXXX.py&quot;</span>, line 79, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    client.close()</span><br><span class="line">NameError: name <span class="string">&#x27;client&#x27;</span> is not defined`</span><br></pre></td></tr></table></figure><br>å°†pymongoé™çº§åˆ°3.12.3å³å¯ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install -U pymongo==<span class="number">3.12</span><span class="number">.3</span></span><br></pre></td></tr></table></figure></p>
<h3 id="nodejsè¿æ¥æ“ä½œ"><a href="#nodejsè¿æ¥æ“ä½œ" class="headerlink" title="nodejsè¿æ¥æ“ä½œ"></a><code>nodejs</code>è¿æ¥æ“ä½œ</h3><h4 id="å®‰è£…æ”¯æŒæ¨¡å—"><a href="#å®‰è£…æ”¯æŒæ¨¡å—" class="headerlink" title="å®‰è£…æ”¯æŒæ¨¡å—"></a>å®‰è£…æ”¯æŒæ¨¡å—</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i mongodb</span><br></pre></td></tr></table></figure>
<h4 id="nodejsè¿æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢"><a href="#nodejsè¿æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢" class="headerlink" title="nodejsè¿æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢"></a><code>nodejs</code>è¿æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢</h4><p>æ–°å»º<code>node-conn.js</code>æ–‡ä»¶,ä»£ç å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿æ¥å¹¶æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">const</span> mongoclient = <span class="built_in">require</span>(<span class="string">&quot;mongodb&quot;</span>).<span class="property">MongoClient</span>;</span><br><span class="line"><span class="keyword">const</span> uri = <span class="string">&quot;mongodb+srv://æ•°æ®åº“å:æ•°æ®åº“ç”¨æˆ·å¯†ç @ä¸»æœºåœ°å€/æ•°æ®åº“å?retryWrites=true&amp;w=majority&quot;</span>;</span><br><span class="line">mongoclient.<span class="title function_">connect</span>(url, <span class="keyword">function</span> (<span class="params">err, client</span>) &#123;</span><br><span class="line">    client.<span class="title function_">db</span>(<span class="string">&quot;blog&quot;</span>).<span class="title function_">collection</span>(<span class="string">&quot;test&quot;</span>).<span class="title function_">find</span>(&#123;&#125;).<span class="title function_">toArray</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) &#123;</span><br><span class="line">        result.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value,index,arr</span>) &#123;       </span><br><span class="line">            <span class="comment">// console.log(value); //ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ éå†æ•°ç»„çš„å…ƒç´ ï¼Œ</span></span><br><span class="line">            <span class="comment">// console.log(index); // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ å…ƒç´ çš„ä½ç½®ï¼Œ</span></span><br><span class="line">            <span class="comment">// console.log(arr);  // ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ æ•´ä¸ªæ•°ç»„çš„å€¼ã€‚</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="property">_id</span>,value.<span class="property">name</span>,value.<span class="property">age</span>,value.<span class="property">high</span>,value.<span class="property">comment</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>è¾“å…¥å‘½ä»¤<code>node node-conn.js</code>æ‰§è¡ŒæŸ¥è¯¢ï¼Œç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node node-conn.js</span><br><span class="line">0 zs 39 172 undefined</span><br><span class="line">1 <span class="built_in">ls</span> 29 175 undefined</span><br><span class="line">2 ww 32 172 undefined</span><br><span class="line">3 èµµå…­ 39 175 undefined</span><br><span class="line">4 é’±ä¸ƒ 39 172 undefined</span><br><span class="line">5 å­™å…« 19 165 undefined</span><br><span class="line">6 å‘¨å…¬ 38 172 undefined</span><br><span class="line">7 å´ä¸ƒ 38 178 æ›´æ–°äºèº«é«˜é«˜äº175çš„ä¸€æ¡è®°å½•</span><br></pre></td></tr></table></figure></p>
<h2 id="3-Navicatè¿æ¥å’Œæ“ä½œ"><a href="#3-Navicatè¿æ¥å’Œæ“ä½œ" class="headerlink" title="(3)Navicatè¿æ¥å’Œæ“ä½œ"></a>(3)<code>Navicat</code>è¿æ¥å’Œæ“ä½œ</h2><h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><p><img src="/pic/2021/12/MongoDB/MongoDB-navicat.jpg" alt="MongoDB-navicat"></p>
<h3 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h3><p><img src="/pic/2021/12/MongoDB/MongoDB-navicat-æ’å…¥æ•°æ®.jpg" alt="MongoDB-navicat-æ’å…¥æ•°æ®"></p>
<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><p><img src="/pic/2021/12/MongoDB/MongoDB-navicat-æŸ¥è¯¢æ•°æ®.jpg" alt="MongoDB-navicat-æŸ¥è¯¢æ•°æ®"></p>
<p>ä¸€äº›å‚è€ƒèµ„æ–™ï¼š<br>1ã€<a href="https://docs.mongodb.com/drivers/pymongo/">MongoDBé©±åŠ¨ç¨‹åºçš„åº”ç”¨ç¨‹åº</a><br>2ã€<a href="https://api.mongodb.com/python/3.4.0/examples/tls.html">TLS/SSL and PyMongo</a><br>3ã€<a href="https://docs.mongodb.com/php-library/master/tutorial/install-php-library/">å®‰è£… MongoDB PHP åº“</a><br>4ã€<a href="https://docs.mongodb.com/drivers/php">é©±åŠ¨ç‰ˆæœ¬å…¼å®¹æ€§</a><br>5ã€<a href="https://www.npmjs.com/package/mongoose">mongooseæ¨¡å—</a><br>6ã€<a href="https://docs.mongodb.com/drivers/node/current/quick-start/">node.js Quick Start</a><br>7ã€<a href="https://pypi.org/project/pymongo/">pymongo 4.0.1</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>MongoDB</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>Python</tag>
        <tag>Mongosh</tag>
      </tags>
  </entry>
  <entry>
    <title>ç™¾åº¦æ–‡å­—æ‰¹é‡è¯†åˆ«</title>
    <url>/2019/12/11/%E7%99%BE%E5%BA%A6%E6%96%87%E5%AD%97%E6%89%B9%E9%87%8F%E8%AF%86%E5%88%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç™¾åº¦æ–‡å­—è¯†åˆ«</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2020-10-12 12:47:57</span></span><br><span class="line"><span class="comment"># @Author  : Your Name (you@example.org)</span></span><br><span class="line"><span class="comment"># @Link    : http://example.org</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipOcr</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#è·å–å¼€å§‹æ—¶é—´</span></span><br><span class="line">start = time.time()</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; ä½ çš„ APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">APP_ID = <span class="string">&#x27;ç™¾åº¦APPID&#x27;</span></span><br><span class="line">API_KEY = <span class="string">&#x27;ç™¾åº¦AK&#x27;</span></span><br><span class="line">SECRET_KEY = <span class="string">&#x27;ç™¾åº¦SK&#x27;</span></span><br><span class="line"></span><br><span class="line">client = AipOcr(APP_ID, API_KEY, SECRET_KEY)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; è¯»å–å›¾ç‰‡ &quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_file_content</span>(<span class="params">filePath</span>):</span><br><span class="line">    <span class="built_in">print</span>(filePath)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filePath, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        <span class="keyword">return</span> fp.read()</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; å†™å…¥æ–‡æœ¬ &quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_on_txt</span>(<span class="params">content,filePath,linefeed = <span class="string">&quot;1&quot;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    contentï¼šè¦å†™å…¥çš„å†…å®¹</span></span><br><span class="line"><span class="string">    filePathï¼šè¦å†™å…¥æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    linefeed ï¼šåˆ¤æ–­æ˜¯å¦æ¢è¡Œ</span></span><br><span class="line"><span class="string">        - 1 ä¸ºä¸æ¢è¡Œ </span></span><br><span class="line"><span class="string">        - å…¶ä»– ä¸ºæ¢è¡Œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment">#åªéœ€è¦å°†ä¹‹å‰çš„â€w&quot;æ”¹ä¸ºâ€œa&quot;å³å¯ï¼Œä»£è¡¨è¿½åŠ å†…å®¹</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filePath,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            file.write(content)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å†™å…¥é”™è¯¯&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> linefeed != <span class="string">&quot;1&quot;</span>:</span><br><span class="line">                file.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">img_path = <span class="string">r&quot;G:\Pictures\jy\test&quot;</span> <span class="comment"># æˆ–è€…&quot;G:/Pictures/jy&quot;</span></span><br><span class="line"><span class="comment">#æ–‡æœ¬è·¯å¾„</span></span><br><span class="line">txt_path = <span class="string">r&quot;G:\Pictures\jy\OCR\å›¾ç‰‡.txt&quot;</span></span><br><span class="line"></span><br><span class="line">options = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#éå†æ‰€æœ‰æ–‡ä»¶ï¼ˆä½¿ç”¨ os.walk æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> root,dirs,files <span class="keyword">in</span> os.walk(img_path):</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        <span class="comment"># ä½¿ç”¨joinå‡½æ•°å°†æ–‡ä»¶åç§°å’Œæ–‡ä»¶æ‰€åœ¨æ ¹ç›®å½•è¿æ¥èµ·æ¥</span></span><br><span class="line">        file_dir = os.path.join(root, file)</span><br><span class="line">        <span class="built_in">print</span>(file_dir)</span><br><span class="line">        write_on_txt(<span class="string">&quot;=============================&quot;</span>,txt_path,<span class="string">&quot;0&quot;</span>)</span><br><span class="line">        write_on_txt(<span class="string">&quot;æ–‡ä»¶å:&quot;</span>+ file_dir,txt_path,<span class="string">&quot;0&quot;</span>)</span><br><span class="line">        <span class="comment">#åˆ¤æ–­æ˜¯å¦æ˜¯å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">if</span> file_dir[-<span class="number">4</span>:]==<span class="string">&quot;.png&quot;</span><span class="keyword">or</span> file_dir[-<span class="number">4</span>:]==<span class="string">&quot;.JPG&quot;</span>:</span><br><span class="line">            <span class="comment">#ä¼ å…¥å›¾ç‰‡</span></span><br><span class="line">            image = get_file_content(file_dir)</span><br><span class="line">            <span class="string">&quot;&quot;&quot; è°ƒç”¨é€šç”¨æ–‡å­—è¯†åˆ«, å›¾ç‰‡å‚æ•°ä¸ºæœ¬åœ°å›¾ç‰‡ &quot;&quot;&quot;</span></span><br><span class="line">            a = client.basicGeneral(image, options)</span><br><span class="line">            <span class="comment"># æŸ¥çœ‹è¿”å›çš„ç»“æœ</span></span><br><span class="line">            <span class="comment"># print(a[&#x27;words_result&#x27;])</span></span><br><span class="line">            <span class="built_in">print</span>()</span><br><span class="line">            <span class="keyword">for</span> dic <span class="keyword">in</span> a[<span class="string">&#x27;words_result&#x27;</span>]:</span><br><span class="line">                <span class="built_in">print</span>(dic[<span class="string">&#x27;words&#x27;</span>])</span><br><span class="line">                write_on_txt(dic[<span class="string">&#x27;words&#x27;</span>],txt_path,<span class="string">&quot;0&quot;</span>)</span><br><span class="line"></span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Running time: %1.2f Seconds&#x27;</span>%(end-start))</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Ocr</tag>
        <tag>æ–‡å­—è¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»™kaliç³»ç»Ÿç»ˆç«¯å‘½ä»¤åé¢æ·»åŠ æ—¶é—´æˆ³</title>
    <url>/2022/01/06/%E7%BB%99kali%E7%B3%BB%E7%BB%9F%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E5%90%8E%E6%B7%BB%E5%8A%A0%E6%97%B6%E9%97%B4%E6%88%B3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¿®æ”¹-zshrcé…ç½®"><a href="#ä¿®æ”¹-zshrcé…ç½®" class="headerlink" title="ä¿®æ”¹.zshrcé…ç½®"></a>ä¿®æ”¹<code>.zshrcé…ç½®</code></h1><p><code>kali</code>ç³»ç»Ÿç»ˆç«¯é»˜è®¤é‡‡ç”¨<code>.zshrc</code>é…ç½®ã€‚<br>ä¿®æ”¹ç”¨æˆ·ç›®å½•ä¸‹<code>Â·zshrc</code>æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># ä¿®æ”¹ç¬¬98è¡Œï¼Œè‹¥ä¸æ˜¯æ­¤è¡Œå‚ç…§å†…å®¹æ‰¾å¯»ï¼Œä¿®æ”¹ä¸ºï¼š</span></span><br><span class="line">PROMPT=$<span class="string">&#x27;%F&#123;%(#.blue.green)&#125;â”Œâ”€â”€$&#123;debian_chroot:+($debian_chroot)â”€&#125;$&#123;VIRTUAL_ENV:+($(basename $VIRTUAL_ENV))â”€&#125;(%B%F&#123;%(#.red.blue)&#125;%n$prompt_symbol%m%b%F&#123;%(#.blue.green)&#125;)-[%B%F&#123;reset&#125;%(6~.%-1~/â€¦/%4~.%5~)%b%F&#123;%(#.blue.green)&#125;] [$(date +&quot;%Y-%m-%d %H:%M:%S&quot;)] \nâ””â”€%B%(#.%F&#123;red&#125;#.%F&#123;blue&#125;$)%b%F&#123;reset&#125; &#x27;</span></span><br></pre></td></tr></table></figure><br>æ³¨æ„ <strong><code>\n</code></strong>å‰é¢éƒ¨åˆ†:<code>[$(date +&quot;%Y-%m-%d %H:%M:%S&quot;)]</code>ï¼Œå³ä¸ºæ–°å¢å†…å®¹ã€‚<br>å¦‚å›¾ï¼š<br><img src="/pic/2022/1/zsh/timestamp.png" alt="timestamp"></p>
<h1 id="é‡æ–°åŠ è½½"><a href="#é‡æ–°åŠ è½½" class="headerlink" title="é‡æ–°åŠ è½½"></a>é‡æ–°åŠ è½½</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚å›¾ï¼š<br><img src="/pic/2022/1/zsh/timestamp-r.png" alt="timestamp"></p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…<code>oh-my-zsh</code>,ç®€å•ä¾¿æ·çš„æ’ä»¶æ¥ä½“éªŒå„ç§ä¸»é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Zsh</tag>
        <tag>Kali</tag>
      </tags>
  </entry>
  <entry>
    <title>è…¾è®¯æ–‡å­—æ‰¹é‡è¯†åˆ«</title>
    <url>/2020/11/05/%E8%85%BE%E8%AE%AF%E6%96%87%E5%AD%97%E6%89%B9%E9%87%8F%E8%AF%86%E5%88%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">è…¾è®¯æ–‡å­—æ‰¹é‡è¯†åˆ«</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Date    : 2020-10-13 12:22:35</span></span><br><span class="line"><span class="comment"># @Author  : Your Name (you@example.org)</span></span><br><span class="line"><span class="comment"># @Link    : http://example.org</span></span><br><span class="line"><span class="comment"># @Version : $Id$</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> tencentcloud.common <span class="keyword">import</span> credential</span><br><span class="line"><span class="keyword">from</span> tencentcloud.common.profile.client_profile <span class="keyword">import</span> ClientProfile</span><br><span class="line"><span class="keyword">from</span> tencentcloud.common.profile.http_profile <span class="keyword">import</span> HttpProfile</span><br><span class="line"><span class="keyword">from</span> tencentcloud.common.exception.tencent_cloud_sdk_exception <span class="keyword">import</span> TencentCloudSDKException</span><br><span class="line"><span class="keyword">from</span> tencentcloud.ocr.v20181119 <span class="keyword">import</span> ocr_client, models</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">å‚è€ƒèµ„æ–™ï¼š</span></span><br><span class="line"><span class="string"> API ä¸­å¿ƒ: </span></span><br><span class="line"><span class="string"> https://cloud.tencent.com/document/api/866/33517</span></span><br><span class="line"><span class="string"> API Explorer:</span></span><br><span class="line"><span class="string"> https://console.cloud.tencent.com/api/explorer?Product=ocr&amp;Version=2018-11-19&amp;Action=GeneralBasicOCR&amp;SignVersion=</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–å¼€å§‹æ—¶é—´</span></span><br><span class="line">start = time.time()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_file_content</span>(<span class="params">filePath</span>):</span><br><span class="line">    <span class="built_in">print</span>(filePath)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filePath, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        <span class="keyword">return</span> fp.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_on_txt</span>(<span class="params">content,filePath,linefeed = <span class="string">&quot;1&quot;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    contentï¼šè¦å†™å…¥çš„å†…å®¹</span></span><br><span class="line"><span class="string">    filePathï¼šè¦å†™å…¥æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    linefeed ï¼šåˆ¤æ–­æ˜¯å¦æ¢è¡Œ</span></span><br><span class="line"><span class="string">        - 1 ä¸ºä¸æ¢è¡Œ </span></span><br><span class="line"><span class="string">        - å…¶ä»– ä¸ºæ¢è¡Œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment">#åªéœ€è¦å°†ä¹‹å‰çš„â€w&quot;æ”¹ä¸ºâ€œa&quot;å³å¯ï¼Œä»£è¡¨è¿½åŠ å†…å®¹</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filePath,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            file.write(content)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å†™å…¥é”™è¯¯&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> linefeed != <span class="string">&quot;1&quot;</span>:</span><br><span class="line">                file.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"><span class="comment">#å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">image_path = <span class="string">r&quot;G:\Pictures\jy\test&quot;</span> <span class="comment"># æˆ–è€…&quot;G:/Pictures/jy&quot;æ ¼å¼</span></span><br><span class="line"><span class="comment">#æ–‡æœ¬è·¯å¾„</span></span><br><span class="line">txt_path = <span class="string">r&quot;G:\Pictures\jy\OCR\å›¾ç‰‡.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> root,dirs,files <span class="keyword">in</span> os.walk(image_path):</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        <span class="comment"># ä½¿ç”¨joinå‡½æ•°å°†æ–‡ä»¶åç§°å’Œæ–‡ä»¶æ‰€åœ¨æ ¹ç›®å½•è¿æ¥èµ·æ¥</span></span><br><span class="line">        file_dir = os.path.join(root, file)</span><br><span class="line">        <span class="built_in">print</span>(file_dir)</span><br><span class="line">        write_on_txt(<span class="string">&quot;=============================&quot;</span>,txt_path,<span class="string">&quot;0&quot;</span>)</span><br><span class="line">        write_on_txt(<span class="string">&quot;æ–‡ä»¶å:&quot;</span>+ file_dir,txt_path,<span class="string">&quot;0&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cred = credential.Credential(<span class="string">&quot;è…¾è®¯ api çš„ id&quot;</span>, <span class="string">&quot;è…¾è®¯ api çš„ç§˜é’¥&quot;</span>)  </span><br><span class="line">            httpProfile = HttpProfile()</span><br><span class="line">            httpProfile.endpoint = <span class="string">&quot;ocr.ap-chengdu.tencentcloudapi.com&quot;</span>  <span class="comment">#å°±è¿‘åœ°åŸŸæ¥å…¥ï¼ˆæ¨èï¼Œåªæ”¯æŒéé‡‘èåŒºï¼‰ï¼Œ</span></span><br><span class="line">                                                              <span class="comment">#å…¶ä»–æ ¼å¼ï¼šè¥¿å—åœ°åŒº(æˆéƒ½)    ocr.ap-chengdu.tencentcloudapi.com</span></span><br><span class="line"></span><br><span class="line">            clientProfile = ClientProfile()</span><br><span class="line">            clientProfile.httpProfile = httpProfile</span><br><span class="line">            client = ocr_client.OcrClient(cred, <span class="string">&quot;ap-guangzhou&quot;</span>, clientProfile) <span class="comment">#åœ°åŸŸå‚æ•°ï¼Œç”¨æ¥æ ‡è¯†å¸Œæœ›æ“ä½œå“ªä¸ªåœ°åŸŸçš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(file_dir, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:  <span class="comment"># ä»¥äºŒè¿›åˆ¶è¯»å–æœ¬åœ°å›¾ç‰‡</span></span><br><span class="line">                data = f.read()</span><br><span class="line">                encodestr = <span class="built_in">str</span>(base64.b64encode(data), <span class="string">&#x27;utf-8&#x27;</span>)  <span class="comment"># base64ç¼–ç å›¾ç‰‡ </span></span><br><span class="line">                params = &#123;</span><br><span class="line">                <span class="string">&quot;ImageBase64&quot;</span>: encodestr,</span><br><span class="line">                <span class="string">&quot;LanguageType&quot;</span>: <span class="string">&quot;auto&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            req = models.GeneralBasicOCRRequest()  <span class="comment"># é€šç”¨é«˜ç²¾åº¦ï¼šGeneralAccurateOCRï¼›</span></span><br><span class="line">                                                      <span class="comment"># æ‰‹å†™è¯†åˆ«ï¼šGeneralHandwritingOCRRequest()</span></span><br><span class="line">            req.from_json_string(json.dumps(params))</span><br><span class="line"></span><br><span class="line">            resp = client.GeneralBasicOCR(req) </span><br><span class="line">            <span class="built_in">print</span>()</span><br><span class="line">            <span class="keyword">for</span> text <span class="keyword">in</span> resp.TextDetections: <span class="comment"># è¾“å‡ºæ–‡å­—</span></span><br><span class="line">                <span class="built_in">print</span>(text.DetectedText)</span><br><span class="line">                write_on_txt(text.DetectedText,txt_path,<span class="string">&quot;0&quot;</span>)    </span><br><span class="line">        <span class="keyword">except</span> TencentCloudSDKException <span class="keyword">as</span> err: </span><br><span class="line">            <span class="built_in">print</span>(err) </span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Running time: %1.2f Seconds&#x27;</span>%(end-start))</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Ocr</tag>
        <tag>æ–‡å­—è¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³&#39;sudo update-initramfs -u&#39;æç¤ºå›ºä»¶ç¼ºå¤±é—®é¢˜</title>
    <url>/2021/10/05/%E8%A7%A3%E5%86%B3%20&#39;sudo%20update-initramfs%20-u&#39;%20%E6%8F%90%E7%A4%BA%E5%9B%BA%E4%BB%B6%E7%BC%BA%E5%A4%B1%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€é—®é¢˜ï¼š"><a href="#1ã€é—®é¢˜ï¼š" class="headerlink" title="1ã€é—®é¢˜ï¼š"></a>1ã€é—®é¢˜ï¼š</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yk@yk-pc:~$ sudo update-initramfs -u</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8105e-1.fw <span class="keyword">for</span> module r816</span><br><span class="line">9</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168e-3.fw <span class="keyword">for</span> module r816</span><br><span class="line">9</span><br><span class="line">W: Possible missing firmware /lib/firmware/i915/tgl_dmc_ver2_08.bin <span class="keyword">for</span> module i915</span><br><span class="line">W: Possible missing firmware /lib/firmware/i915/rkl_dmc_ver2_02.bin <span class="keyword">for</span> module i915</span><br></pre></td></tr></table></figure>
<h1 id="2ã€è§£å†³"><a href="#2ã€è§£å†³" class="headerlink" title="2ã€è§£å†³"></a>2ã€è§£å†³</h1><p>[å…ˆè¿›å…¥ç¼ºå¤±æ–‡ä»¶çš„æ–‡ä»¶å¤¹]æˆ–è€…åœ¨<code>wget</code>ååŠ  <code>-P+è·¯å¾„</code>ï¼Œå¦‚ï¼š <code>wget -P /lib/firmware/rtl_nic https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8107e-2.fw</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yk@yk-pc:/lib/firmware/rtl_nic$ sudo wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8107e-2.fw</span><br><span class="line"></span><br><span class="line">yk@yk-pc:/lib/firmware/i915$ sudo wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/bxt_guc_33.0.0.bin</span><br></pre></td></tr></table></figure><br>3ã€æ‰¹é‡ä¸‹è½½<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -i list.txt</span><br></pre></td></tr></table></figure><br>æŠŠæ‰€æœ‰éœ€è¦ä¸‹è½½æ–‡ä»¶çš„åœ°å€æ”¾åˆ° <code>list.txt</code> ä¸­</p>
<p>å¦‚ï¼š<br>(1)<code>firmware_i915.txt</code>å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/skl_huc_2.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/skl_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/bxt_huc_2.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/bxt_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/kbl_huc_4.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/kbl_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/glk_huc_4.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/glk_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/kbl_huc_4.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/kbl_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/cml_huc_4.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/cml_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/icl_huc_9.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/icl_guc_33.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/ehl_huc_9.0.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/ehl_guc_33.0.4.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/tgl_huc_7.5.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/tgl_guc_35.2.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/tgl_huc_7.5.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/tgl_guc_35.2.0.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/bxt_dmc_ver1_07.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/skl_dmc_ver1_27.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/kbl_dmc_ver1_04.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/glk_dmc_ver1_04.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/cnl_dmc_ver1_07.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/icl_dmc_ver1_09.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/tgl_dmc_ver2_08.bin</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/i915/rkl_dmc_ver2_02.bin</span><br></pre></td></tr></table></figure><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo wget -P /lib/firmware/i915/ -i /path/to/firmware_i915.txt</span><br></pre></td></tr></table></figure><br>(2)<code>firmware_rtl_nic.txt</code>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8125b-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8125a-3.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8107e-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8107e-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168fp-3.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168h-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168h-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168g-3.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168g-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8106e-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8106e-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8411-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8411-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8402-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168f-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168f-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8105e-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168e-3.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168e-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168e-1.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168d-2.fw</span><br><span class="line">https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/rtl_nic/rtl8168d-1.fw</span><br></pre></td></tr></table></figure><br>è¾“å…¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo wget -P /lib/firmware/rtl_nic/ -i /path/to/firmware_rtl_nic.txt</span><br></pre></td></tr></table></figure></p>
<p>éƒ¨åˆ†å‚æ•°å«ä¹‰ï¼š</p>
<p><code>-P è¡¨ç¤ºä¸‹è½½åˆ°å“ªä¸ªç›®å½•</code><br><code>-r è¡¨ç¤ºé€’å½’ä¸‹è½½</code><br><code>-np è¡¨ç¤ºä¸ä¸‹è½½æ—ç«™è¿æ¥</code>.<br><code>-k è¡¨ç¤ºå°†ä¸‹è½½çš„ç½‘é¡µé‡Œçš„é“¾æ¥ä¿®æ”¹ä¸ºæœ¬åœ°é“¾æ¥.</code><br><code>-p è·å¾—æ‰€æœ‰æ˜¾ç¤ºç½‘é¡µæ‰€éœ€çš„å…ƒç´ </code></p>
<p>å‚è€ƒï¼š<br><a href="https://www.cnblogs.com/ftl1012/p/9265699.html">Linux wgetå‘½ä»¤è¯¦è§£</a></p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>è¿ç»´</category>
        <category>Update</category>
      </categories>
      <tags>
        <tag>æ›´æ–°</tag>
        <tag>å›ºä»¶ç¼ºå¤±</tag>
      </tags>
  </entry>
  <entry>
    <title>systemctlç®¡ç†æ–¹å¼ä¸‹è®¾ç½®aria2å¼€æœºå¯åŠ¨</title>
    <url>/2021/06/22/Systemctl%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E4%B8%8B%E8%AE%BE%E7%BD%AEaria2%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1ã€aria2å¼€æœºå¯åŠ¨æ–‡ä»¶é…ç½®aria2-service"><a href="#1ã€aria2å¼€æœºå¯åŠ¨æ–‡ä»¶é…ç½®aria2-service" class="headerlink" title="1ã€aria2å¼€æœºå¯åŠ¨æ–‡ä»¶é…ç½®aria2.service"></a>1ã€<code>aria2</code>å¼€æœºå¯åŠ¨æ–‡ä»¶é…ç½®<code>aria2.service</code></h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo nano /usr/lib/systemd/system/aria2.service</span><br></pre></td></tr></table></figure><br>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Aria2 Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/aria2c --conf-path=/etc/aria2/aria2.conf</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=default.target</span><br></pre></td></tr></table></figure><br>å†™å…¥<code>ctrl+o</code>ï¼Œä¿å­˜ <code>Enter</code>ï¼Œé€€å‡º<code>ctrl+x</code><br>æ‹·è´åˆ°<code>/etc/systemd/user</code> ç›®å½•ä¸‹<br>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo <span class="built_in">cp</span> /usr/lib/systemd/system/aria2.service /etc/systemd/system</span><br></pre></td></tr></table></figure></p>
<h1 id="2-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#2-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="2.è®¾ç½®å¼€æœºå¯åŠ¨"></a>2.è®¾ç½®å¼€æœºå¯åŠ¨</h1><p>å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> aria2.service</span><br></pre></td></tr></table></figure><br>æç¤º<code>Created symlink /etc/systemd/system/default.target.wants/aria2.service â†’ /etc/systemd/system/aria2.service.</code>è®¾ç½®æˆåŠŸ<br>é‡æ–°åŠ è½½æœåŠ¡é…ç½®ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload  <span class="comment"># é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></p>
<p><a href="https://github.com/P3TERX/aria2.conf">ä¸€é”®å®‰è£…åŠé…ç½®å¼€æºé¡¹ç›®ï¼š</a></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>è½¯ä»¶åº”ç”¨</category>
        <category>Linux</category>
        <category>Aria2</category>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
        <tag>Systemctl</tag>
        <tag>å¯åŠ¨æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonå°†åŒç±»å‹æ–‡ä»¶åå†™å…¥æ–‡ä»¶</title>
    <url>/2022/05/07/Python%E5%B0%86%E5%90%8C%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6%E5%90%8D%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å‘½å</span></span><br><span class="line"><span class="comment"># filePath = &quot;/path/to/è§†é¢‘/æ³¢å£«é¡¿æœºå™¨äºº/&quot;</span></span><br><span class="line"><span class="comment"># file_list = sorted(os.listdir(filePath))</span></span><br><span class="line"><span class="comment"># file_name = []</span></span><br><span class="line"><span class="comment"># for i in file_list:</span></span><br><span class="line"><span class="comment"># 	f = os.path.splitext(i)</span></span><br><span class="line"><span class="comment"># 	if f[1] == &quot;.ts&quot;:  # ç­›é€‰tsæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># 		newName = f[0] + &#x27;.m4s&#x27; # ç»™åŸæ–‡ä»¶èµ‹äºˆæ–°çš„åç¼€å</span></span><br><span class="line"><span class="comment"># 		os.rename(</span></span><br><span class="line"><span class="comment"># 			os.path.join(filePath, i), # ä¿æŒåŸæ–‡ä»¶è·¯å¾„ä¸å˜</span></span><br><span class="line"><span class="comment"># 			os.path.join(filePath, newName)) # é‡å‘½å</span></span><br><span class="line"><span class="comment"># 	print(i + &quot;å®Œæˆï¼&quot;)</span></span><br><span class="line"><span class="comment"># print(&#x27;å…¨éƒ¨å®Œæˆï¼&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ åˆ°æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">filePath = <span class="string">&quot;/path/to/è§†é¢‘/æ³¢å£«é¡¿æœºå™¨äºº/&quot;</span></span><br><span class="line">file_list = sorted(os.listdir(filePath))</span><br><span class="line">file_name = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> file_list:</span><br><span class="line">	<span class="keyword">if</span> os.path.splitext(i)[1] == <span class="string">&quot;.m4s&quot;</span>:  <span class="comment"># ç­›é€‰tsæ–‡ä»¶</span></span><br><span class="line">		file_name.append(i)</span><br><span class="line">		with open(<span class="string">&quot;/path/to/è§†é¢‘/æ³¢å£«é¡¿æœºå™¨äºº/file_list.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>) as f:</span><br><span class="line">		    <span class="keyword">for</span> file <span class="keyword">in</span> file_name:</span><br><span class="line">		        f.write(<span class="string">&quot;file &#x27;&#123;&#125;&#x27;\n&quot;</span>.format(file))</span><br><span class="line">		<span class="built_in">print</span>(i + <span class="string">&quot;å·²ç»æ·»åŠ ï¼&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å…¨éƒ¨å®Œæˆï¼&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>é‡å‘½å</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonè¯»å–xmlæ–‡ä»¶</title>
    <url>/2022/04/25/Python%E8%AF%BB%E5%8F%96xml%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> xml.dom <span class="keyword">import</span> minidom</span><br><span class="line"><span class="keyword">from</span> xml.dom <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> ET</span><br><span class="line"></span><br><span class="line">xmlPath = <span class="string">&#x27;path/to/xxxxx.xml&#x27;</span></span><br><span class="line"><span class="comment">### dom æ–¹æ³• ###</span></span><br><span class="line">dom = minidom.parse(xmlPath) <span class="comment"># æ‰“å¼€xmlæ–‡ä»¶</span></span><br><span class="line">root=dom.documentElement  <span class="comment"># å¾—åˆ°æ–‡æ¡£å…ƒç´ å¯¹è±¡</span></span><br><span class="line">itemLists = root.getElementsByTagName(<span class="string">&#x27;Row&#x27;</span>) <span class="comment"># è·å–XMLèŠ‚ç‚¹å¯¹è±¡é›†åˆ</span></span><br><span class="line">listInfos = []</span><br><span class="line"><span class="keyword">for</span> child <span class="keyword">in</span> itemLists:</span><br><span class="line">	<span class="comment"># print(child, child.nodeType, Node.ELEMENT_NODE)</span></span><br><span class="line">	<span class="keyword">if</span> child.nodeType == Node.ELEMENT_NODE:  <span class="comment"># å…ƒç´ èŠ‚ç‚¹çš„nodeTypeå±æ€§å€¼æ˜¯1.</span></span><br><span class="line">		dictAttr = &#123;&#125;</span><br><span class="line">		<span class="keyword">for</span> key <span class="keyword">in</span> child.attributes.keys():</span><br><span class="line">			attr = child.attributes[key]</span><br><span class="line">			dictAttr[attr.name] = attr.value</span><br><span class="line">	listInfos.append(dictAttr)  <span class="comment"># å°†æ•°æ®æ·»åŠ åˆ°å­—å…¸</span></span><br><span class="line">v = []</span><br><span class="line"><span class="keyword">for</span> index, each <span class="keyword">in</span> <span class="built_in">enumerate</span>(listInfos):</span><br><span class="line">	v.append(each[<span class="string">&#x27;å‘ç¥¨å·ç &#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(v)</span><br><span class="line"></span><br><span class="line"><span class="comment">### etree æ–¹æ³• ###</span></span><br><span class="line">tree =  ET.parse(xmlPath)  <span class="comment"># è·å–è§£æå¯¹è±¡</span></span><br><span class="line">root = tree.getroot()  <span class="comment"># è·å–æ ¹èŠ‚ç‚¹åç§° ç±»ä¼¼domä¸­root.nodeName</span></span><br><span class="line">v = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> root: <span class="comment"># éå† xml æ–‡æ¡£</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">		v.append(j.attrib[<span class="string">&#x27;å‘ç¥¨å·ç &#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(v)</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ç¨‹åºè¯­è¨€</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Xml</tag>
      </tags>
  </entry>
</search>
